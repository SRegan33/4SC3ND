<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4SC3ND - Elevate Your Fitness</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;800;900&family=Inter:wght@400;500;600;700&family=Archivo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://api.fontshare.com/v2/css?f[]=clash-grotesk@200,300,400,500,600,700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ascend-blue: #4DA8DA;
            --ascend-light: #A8D8EA;
            --ascend-silver: #C0C0C0;
            --ascend-glow: #7EC8E3;
            --deep-black: #000000;
            --dark-bg: #0a0a0f;
            --card-bg: #12121a;
            --slate: #1a1a24;
            --pure-white: #FFFFFF;
            --text-secondary: #8892a0;
            --border-color: rgba(77, 168, 218, 0.15);
            /* Legacy mappings for compatibility */
            --energy-orange: #4DA8DA;
            --electric-yellow: #A8D8EA;
            --vibrant-cyan: #7EC8E3;
            --deep-charcoal: #0a0a0f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Archivo', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--deep-black);
            color: var(--pure-white);
            overflow-x: hidden;
            min-height: 100vh;
            line-height: 1.6;
        }

        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(77, 168, 218, 0.2) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(168, 216, 234, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 20%, rgba(126, 200, 227, 0.1) 0%, transparent 40%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }

        @media (min-width: 768px) {
            .container {
                padding: 3rem 2rem;
            }
        }

        header {
            text-align: center;
            margin-bottom: 3rem;
            animation: slideDown 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            font-family: 'Clash Grotesk', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            letter-spacing: 0.03em;
            background: linear-gradient(135deg, var(--energy-orange), var(--electric-yellow));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.75rem;
            line-height: 1.1;
            font-weight: 700;
        }

        .tagline {
            font-size: 0.95rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.15em;
            font-weight: 600;
        }

        .date-display {
            display: inline-block;
            background: var(--card-bg);
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            margin: 2rem 0;
            border: 1px solid var(--border-color);
            font-weight: 500;
            font-size: 0.9rem;
            letter-spacing: 0.02em;
            color: var(--text-secondary);
        }

        .generate-btn {
            background: linear-gradient(135deg, var(--ascend-blue), var(--ascend-glow));
            color: var(--pure-white);
            border: none;
            padding: 1rem 2.5rem;
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            cursor: pointer;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(77, 168, 218, 0.3);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            font-family: 'Inter', 'Archivo', sans-serif;
            position: relative;
            overflow: hidden;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(77, 168, 218, 0.5);
        }

        .generate-btn:active {
            transform: translateY(0);
        }

        .workout-container {
            margin-top: 2rem;
            opacity: 0;
            animation: fadeInUp 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .workout-summary {
            background: var(--card-bg);
            padding: 2.5rem;
            border-radius: 20px;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
        }

        .workout-summary h2 {
            font-family: 'Clash Grotesk', sans-serif;
            font-size: 2rem;
            letter-spacing: 0.05em;
            color: var(--electric-yellow);
            margin-bottom: 1.5rem;
            font-weight: 700;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .summary-item {
            text-align: center;
            padding: 1.25rem 1rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .summary-item:hover {
            background: rgba(255, 255, 255, 0.05);
            transform: translateY(-2px);
        }

        .summary-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .summary-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--ascend-blue);
            font-family: 'Clash Grotesk', sans-serif;
            letter-spacing: 0.02em;
        }

        .exercise-block {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 1.25rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 16px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            overflow: hidden;
        }

        .exercise-block::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--ascend-blue), var(--ascend-light));
            opacity: 0;
            transition: opacity 0.3s;
        }

        .exercise-block:hover::before {
            opacity: 1;
        }

        .exercise-block:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border-color: rgba(255, 255, 255, 0.12);
        }

        .exercise-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1.25rem;
            gap: 1rem;
        }

        .exercise-name {
            font-family: 'Clash Grotesk', sans-serif;
            font-size: 1.5rem;
            letter-spacing: 0.03em;
            color: var(--pure-white);
            font-weight: 700;
            line-height: 1.2;
        }

        .exercise-duration {
            background: linear-gradient(135deg, var(--energy-orange), #FF8C42);
            padding: 0.5rem 1.25rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            white-space: nowrap;
            box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
        }

        .exercise-description {
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }

        .exercise-tips {
            background: rgba(0, 217, 255, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid rgba(0, 217, 255, 0.3);
            margin-top: 1rem;
        }

        .tips-title {
            font-weight: 700;
            color: var(--vibrant-cyan);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 0.1em;
        }

        .timer-bar {
            width: 100%;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            margin-top: 1rem;
            overflow: hidden;
        }

        .hidden {
            display: none;
        }

        footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        .loading {
            text-align: center;
            padding: 3rem;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--energy-orange);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateX(-50%) translateY(20px); }
            to { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes pulseKudos {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        @keyframes scaleIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            h1 {
                font-size: 3rem;
            }

            .exercise-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .summary-grid {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    
    <!-- Auth Screen (Google Sign-In) -->
    <div id="authScreen" class="container">
        <header style="text-align: center; padding: 3rem 0 2rem 0; position: relative;">
            <div style="display: inline-block; position: relative;">
                <!-- 4SC3ND Logo -->
                <div style="margin-bottom: 1.5rem;">
                    <img src="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAQABgADASIAAhEBAxEB/8QAHQABAAIBBQEAAAAAAAAAAAAAAAECAwQFBgcICf/EAF8QAQACAQMBBAUHBQoHDAgFBQABAgMEBREGBxIhMQhBUWFxEyIygZGh0RQVQpSxFiNDUlVWYpLB0hcYJDNygqI1NkVGU2NzhJOys+EJJTRUlaPC8CZkdIPDJ0RldYX/xAAaAQEBAAMBAQAAAAAAAAAAAAAAAQIDBAUG/8QAMhEBAAICAQMCAwYHAQEBAQAAAAECAxESBCExE0EFMlEUIkJhcZEVUoGhsdHwIzNDwf/aAAwDAQACEQMRAD8A8agAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAgAKAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJsAJAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0ABoAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEkACAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAAAAAATYAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmgAUAAAAAEkAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAIAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAA2ACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAISAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSAABISAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkgAaABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATQAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACaABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAEkAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJBAtEHEAiBbwQCIg4SciI4Qt8UzwKoJ4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAgAKACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAKAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAASCAAoAAAAAAAAAAAAAAAAAAAAAAAAAJIAEAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+QIACgAAAAAAAAAAAAAAAAAAAAAAAAAmgAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAAAAAAAAAAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNgAoAAAAAAAAAIABsAAAEABkAAACaAA0ACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAACaAAABQAAAAAAAAAAAAAAAAASAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAJoAEABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAkgAgAMgAAAAAAAAAAAAAAASQAIABQAAAAAAAAAAAAATYAGwAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAATQAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAAAAAGwAAAUAAAAAAAEAAABQAAAAAAAAAAAAASQANgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAJoAFAAAAAAAAAAAAAAABAAAAUAAAAAAAAAAAEkAFgAAAAAEABQAAASQAQAAAGQAAAAAAAAAAAJIAKAAAAACSACAAoAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAgAKACgAAAAAAAAAAAkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAACAAQACgAAAAAAAAAAAAAAAkgAAAoAAAGgAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAABNgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAIAC6AAAA0ACgAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAACAAoAAAAAAAJIAKAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAJoAFAAAAAAAAAAAAABNgAoAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAJIAAAKAAAAAAAAAAAAAAAAAAAAAAACAASABAAKAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAIADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQATYAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSABAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAgAKAAACbAA2ACgAAAgAKAAAAAAAAAAAAAAAAAAAAACAHIAAQACgAAAgAKAAAAAAACAAoAAAAAAAAAAAIACgAAAAAAAAAAAAAkgAAAoAIACgAAAAAAAAAmwAAAAAUAAAAAAAAAAAEAA2ACgBKD//Z" alt="4SC3ND" style="height: 120px; width: auto; filter: drop-shadow(0 0 30px rgba(77, 168, 218, 0.6));" onerror="this.style.display='none'">
                </div>
                <div style="font-family: 'Orbitron', sans-serif; font-size: clamp(2.5rem, 8vw, 4rem); background: linear-gradient(135deg, #C0C0C0 0%, #4DA8DA 50%, #A8D8EA 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; letter-spacing: 0.15em; margin-bottom: 0.5rem; font-weight: 800;">
                    4SC3ND
                </div>
                <div style="font-family: 'Clash Grotesk', sans-serif; font-size: 0.75rem; color: var(--ascend-light); letter-spacing: 0.4em; text-transform: uppercase; font-weight: 400; opacity: 0.8;">
                    Elevate Your Potential
                </div>
            </div>
        </header>
        
        <div style="max-width: 480px; margin: 0 auto; text-align: center; padding-top: 2rem;">
            <div class="workout-summary" style="background: rgba(77, 168, 218, 0.03); border: 1px solid rgba(77, 168, 218, 0.15); padding: 2.5rem;">
                <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.1rem; color: var(--text-secondary); margin-bottom: 2rem; letter-spacing: 0.2em; font-weight: 500; text-transform: uppercase;">
                    Sign in to continue
                </h2>
                <div style="display: flex; flex-direction: column; gap: 1rem; max-width: 300px; margin: 0 auto;">
                    <button onclick="signInWithGoogle()" style="background: white; color: #444; border: none; padding: 1rem 2rem; font-size: 1.1rem; font-weight: 600; cursor: pointer; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); transition: all 0.3s ease; font-family: 'Archivo', sans-serif; display: inline-flex; align-items: center; justify-content: center; gap: 0.75rem; width: 100%;">
                        <svg width="24" height="24" viewBox="0 0 24 24">
                            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                        </svg>
                        Sign in with Google
                    </button>
                    <button onclick="signInWithApple()" style="background: black; color: white; border: none; padding: 1rem 2rem; font-size: 1.1rem; font-weight: 600; cursor: pointer; border-radius: 8px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); transition: all 0.3s ease; font-family: 'Archivo', sans-serif; display: inline-flex; align-items: center; justify-content: center; gap: 0.75rem; width: 100%;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
                            <path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/>
                        </svg>
                        Sign in with Apple
                    </button>
                </div>
                <p style="margin-top: 2rem; font-size: 0.75rem; color: rgba(168, 216, 234, 0.4); font-weight: 400;">
                    Secured with Firebase Authentication
                </p>
            </div>
        </div>
    </div>

    <!-- App Screen (Main Application) -->
    <div id="appScreen" class="container" style="display: none;">
        <header style="margin-bottom: 2.5rem;">
            <div style="text-align: center; margin-bottom: 1.5rem;">
                <!-- 4SC3ND Logo -->
                <div style="margin-bottom: 1rem;">
                    <img src="data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gHYSUNDX1BST0ZJTEUAAQEAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADb/2wBDAAUDBAQEAwUEBAQFBQUGBwwIBwcHBw8LCwkMEQ8SEhEPERETFhwXExQaFRERGCEYGh0dHx8fExciJCIeJBweHx7/2wBDAQUFBQcGBw4ICA4eFBEUHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh7/wAARCAQABgADASIAAhEBAxEB/8QAHQABAAIBBQEAAAAAAAAAAAAAAAECAwQFBgcICf/EAF8QAQACAQMBBAUHBQoHDAgFBQABAgMEBREGBxIhMQhBUWFxEyIygZGh0RQVQpSxFiNDUlVWYpLB0hcYJDNygqI1NkVGU2NzhJOys+EJJTRUlaPC8CZkdIPDJ0RldYX/xAAaAQEBAAMBAQAAAAAAAAAAAAAAAQIDBAUG/8QAMhEBAAICAQMCAwYHAQEBAQAAAAECAxESBCExE0EFMlEUIkJhcZEVUoGhsdHwIzNDwf/aAAwDAQACEQMRAD8A8agAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAACgAgAKAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJsAJAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0ABoAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEkACAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAAAAAATYAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmgAUAAAAAEkAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAIAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAABAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAA2ACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASAISAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSAABISAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkgAaABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATQAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACaABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASQAUAAAAAAAAAAAAAAAAAAAAAAAAAAAEkAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJBAtEHEAiBbwQCIg4SciI4Qt8UzwKoJ4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAA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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAAAAAAAAAAAAAAAAAAAgAKACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJAAKAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAASCAAoAAAAAAAAAAAAAAAAAAAAAAAAAJIAEAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE+QIACgAAAAAAAAAAAAAAAAAAAAAAAAAmgAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAAAAAAAAAAAAAAAAAAAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNgAoAAAAAAAAAIABsAAAEABkAAACaAA0ACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAKAAACaAAABQAAAAAAAAAAAAAAAAASAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAJoAEABkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIACgAAAkgAgAMgAAAAAAAAAAAAAAASQAIABQAAAAAAAAAAAAATYAGwAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQAAAAATQAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAAAAAGwAAAUAAAAAAAEAAABQAAAAAAAAAAAAASQANgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAJoAFAAAAAAAAAAAAAAABAAAAUAAAAAAAAAAAEkAFgAAAAAEABQAAASQAQAAAGQAAAAAAAAAAAJIAKAAAAACSACAAoAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAgAKACgAAAAAAAAAAAkgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAACAAQACgAAAAAAAAAAAAAAAkgAAAoAAAGgAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAABNgAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAIAC6AAAA0ACgAAAAAAAAAAAAAAAAAgAKAAAAAAAAAAAAACAAoAAAAAAAJIAKAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAJoAFAAAAAAAAAAAAABNgAoAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAJIAAAKAAAAAAAAAAAAAAAAAAAAAAACAASABAAKAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAIADIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEABQATYAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACSABAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJIAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAoAAAAAAAAAAAAAAAAAAAIAAACgAAAAAAAAAAAAAgAKAAACbAA2ACgAAAgAKAAAAAAAAAAAAAAAAAAAAACAHIAAQACgAAAgAKAAAAAAACAAoAAAAAAAAAAAIACgAAAAAAAAAAAAAkgAAAoAIACgAAAAAAAAAmwAAAAAUAAAAAAAAAAAEAA2ACgBKD//Z" alt="4SC3ND" style="height: 80px; width: auto; filter: drop-shadow(0 0 20px rgba(77, 168, 218, 0.5));" onerror="this.style.display='none'">
                </div>
                <h1 style="font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 800; background: linear-gradient(135deg, #C0C0C0 0%, #4DA8DA 50%, #A8D8EA 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; letter-spacing: 0.1em; text-shadow: none;">4SC3ND</h1>
                <p class="tagline" style="font-family: 'Clash Grotesk', sans-serif; color: var(--text-secondary); letter-spacing: 0.25em; font-size: 0.7rem; text-transform: uppercase; opacity: 0.7;">Elevate Your Potential</p>
            </div>
            <div class="date-display" id="dateDisplay" style="margin: 1.5rem auto; background: rgba(77, 168, 218, 0.1); border: 1px solid rgba(77, 168, 218, 0.3);"></div>
            <div id="userProfileBadge" style="display: none; text-align: center; margin-top: 1.5rem;">
                <div style="display: inline-flex; align-items: center; gap: 1rem; background: rgba(77, 168, 218, 0.05); padding: 0.75rem 1.5rem; border-radius: 16px; border: 1px solid rgba(77, 168, 218, 0.2); box-shadow: 0 2px 20px rgba(77, 168, 218, 0.15);">
                    <img id="userAvatar" style="width: 40px; height: 40px; border-radius: 50%; border: 2px solid var(--ascend-blue);" src="" alt="User">
                    <div style="text-align: left;">
                        <div style="font-weight: 600; color: var(--pure-white); font-size: 0.95rem;"><span id="displayNameSpan"></span></div>
                        <button onclick="signOutUser()" style="background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 0.8rem; padding: 0; margin-top: 0.2rem; font-weight: 500; transition: color 0.2s;" onmouseover="this.style.color='var(--ascend-blue)'" onmouseout="this.style.color='var(--text-secondary)'">Sign Out</button>
                    </div>
                </div>
            </div>
        </header>

        <div style="text-align: center; margin-bottom: 2rem;">
            <button class="generate-btn" id="generateBtn" style="margin-bottom: 1.5rem; background: linear-gradient(135deg, #4DA8DA, #7EC8E3); box-shadow: 0 8px 32px rgba(77, 168, 218, 0.4);">
                <span style="position: relative; z-index: 1;">Generate Today's Workout</span>
            </button>
            <div style="display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; max-width: 700px; margin: 0 auto;">
                <button class="generate-btn" id="customizeBtn" style="background: linear-gradient(135deg, #2d5a7b, #1e3d5c); box-shadow: 0 4px 16px rgba(45, 90, 123, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> Customize</span>
                </button>
                <button class="generate-btn" id="viewStatsBtn" style="background: linear-gradient(135deg, #4DA8DA, #3d8ab8); box-shadow: 0 4px 16px rgba(77, 168, 218, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> Progress</span>
                </button>
                <button class="generate-btn" id="viewCalendarBtn" style="background: linear-gradient(135deg, #3d7a99, #2d5a7b); box-shadow: 0 4px 16px rgba(61, 122, 153, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> Calendar</span>
                </button>
                <button class="generate-btn" id="viewPRsBtn" style="background: linear-gradient(135deg, #A8D8EA, #7EC8E3); box-shadow: 0 4px 16px rgba(168, 216, 234, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px; color: #0a0a0f;">
                    <span style="position: relative; z-index: 1;"> PRs</span>
                </button>
                <button class="generate-btn" id="viewAchievementsBtn" style="background: linear-gradient(135deg, #5c8a9e, #4a7085); box-shadow: 0 4px 16px rgba(92, 138, 158, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> Badges</span>
                </button>
                <button class="generate-btn" id="viewLeaderboardBtn" style="background: linear-gradient(135deg, #C0C0C0, #9a9a9a); box-shadow: 0 4px 16px rgba(192, 192, 192, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px; color: #0a0a0f;">
                    <span style="position: relative; z-index: 1;"> Rankings</span>
                </button>
                <button class="generate-btn" id="viewSocialBtn" style="background: linear-gradient(135deg, #6bb3cc, #5a9db5); box-shadow: 0 4px 16px rgba(107, 179, 204, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> Friends</span>
                </button>
                <button class="generate-btn" id="viewProfileBtn" style="background: linear-gradient(135deg, #4a6d7c, #3a5a68); box-shadow: 0 4px 16px rgba(74, 109, 124, 0.3); padding: 0.875rem 1.75rem; font-size: 0.9rem; flex: 1; min-width: 150px;">
                    <span style="position: relative; z-index: 1;"> My Profile</span>
                </button>
            </div>
        </div>

        <div id="leaderboardContainer" class="hidden"></div>
        <div id="socialContainer" class="hidden"></div>
        <div id="statsContainer" class="hidden"></div>
        <div id="profileContainer" class="hidden"></div>
        <div id="calendarContainer" class="hidden"></div>
        <div id="prsContainer" class="hidden"></div>
        <div id="achievementsContainer" class="hidden"></div>
        <div id="workoutContainer" class="hidden"></div>

        <footer style="background: rgba(77, 168, 218, 0.02); border: 1px solid rgba(77, 168, 218, 0.1); border-radius: 12px; padding: 1.5rem 2rem; margin-top: 2rem;">
            <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem;">
                <div>
                    <span style="font-family: 'Orbitron', sans-serif; font-size: 0.9rem; font-weight: 600; color: var(--ascend-blue);">4SC3ND</span>
                    <p style="margin-top: 0.5rem; font-size: 0.75rem; color: var(--text-secondary); line-height: 1.6; max-width: 400px;">
                        Mon: HIIT | Tue: Upper | Wed: Recovery | Thu: Lower | Fri: Cross | Sat: HIIT | Sun: Recovery
                    </p>
                </div>
                <div style="text-align: right;">
                    <p style="font-size: 0.7rem; color: rgba(168, 216, 234, 0.4);">
                        Equipment: Barbell, dumbbells, kettlebell, bench
                    </p>
                </div>
            </div>
        </footer>
    </div>

    <script type="module">
        // Firebase SDK imports
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth, GoogleAuthProvider, OAuthProvider, signInWithPopup, onAuthStateChanged, signOut } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore, collection, doc, setDoc, getDoc, getDocs, query, where, orderBy, limit as firestoreLimit, updateDoc, arrayUnion, Timestamp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyANOaf5ePwf26-NTBDra6qugOJCaiSELTk",
            authDomain: "camp-hope-2ca32.firebaseapp.com",
            projectId: "camp-hope-2ca32",
            storageBucket: "camp-hope-2ca32.firebasestorage.app",
            messagingSenderId: "543842577310",
            appId: "1:543842577310:web:3ac478061d1de5430d048f",
            measurementId: "G-NJV0K3DK72"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // Display today's date
        const dateDisplay = document.getElementById('dateDisplay');
        const today = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        dateDisplay.textContent = today.toLocaleDateString('en-US', options);

        // User Profile Management with Firebase Auth
        let currentUser = null;

        // Firebase Auth State Observer
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // User is signed in
                currentUser = {
                    id: user.uid,
                    email: user.email,
                    displayName: user.displayName,
                    photoURL: user.photoURL,
                    username: user.email.split('@')[0]
                };
                
                // Initialize user profile in Firestore
                await initializeUserProfile(user);
                
                // Load preferences
                await loadPreferences();
                
                // Show app
                showAppInterface();
                
                // Auto-generate workout
                setTimeout(() => {
                    document.getElementById('generateBtn').click();
                }, 500);
            } else {
                // User is signed out
                currentUser = null;
                showAuthInterface();
            }
        });

        async function initializeUserProfile(user) {
            const userRef = doc(db, 'users', user.uid);
            const userSnap = await getDoc(userRef);
            
            if (!userSnap.exists()) {
                // Create new user profile
                await setDoc(userRef, {
                    uid: user.uid,
                    email: user.email,
                    displayName: user.displayName,
                    photoURL: user.photoURL,
                    createdAt: new Date().toISOString(),
                    friends: []
                });
            }
        }

        function showAuthInterface() {
            const appScreen = document.getElementById('appScreen');
            const authScreen = document.getElementById('authScreen');
            
            if (appScreen) appScreen.style.display = 'none';
            if (authScreen) authScreen.style.display = 'block';
        }

        function showAppInterface() {
            const appScreen = document.getElementById('appScreen');
            const authScreen = document.getElementById('authScreen');
            
            if (authScreen) authScreen.style.display = 'none';
            if (appScreen) appScreen.style.display = 'block';
            
            // Update user profile display
            const userBadge = document.getElementById('userProfileBadge');
            const displayNameSpan = document.getElementById('displayNameSpan');
            const userAvatar = document.getElementById('userAvatar');
            
            if (userBadge) userBadge.style.display = 'block';
            if (displayNameSpan) displayNameSpan.textContent = currentUser.displayName;
            if (userAvatar) userAvatar.src = currentUser.photoURL;
        }

        // Google Sign In
        async function signInWithGoogle() {
            try {
                await signInWithPopup(auth, provider);
            } catch (error) {
                console.error('Error signing in:', error);
                alert('Error signing in. Please try again.');
            }
        }

        // Apple Sign In
        async function signInWithApple() {
            try {
                const appleProvider = new OAuthProvider('apple.com');
                await signInWithPopup(auth, appleProvider);
            } catch (error) {
                console.error('Error signing in with Apple:', error);
                alert('Error signing in with Apple. Please try again.');
            }
        }

        // Sign Out
        async function signOutUser() {
            try {
                await signOut(auth);
            } catch (error) {
                console.error('Error signing out:', error);
            }
        }

        // Make auth functions available globally
        window.signInWithGoogle = signInWithGoogle;
        window.signInWithApple = signInWithApple;
        window.signOutUser = signOutUser;

        // Remove old profile setup function - replaced by Firebase Auth
        function showProfileSetup() {
            // Redirect to Google Sign In
            showAuthInterface();
        }

        window.submitProfile = async function() {
            // No longer needed - using Firebase Auth
        }

        async function createProfile(username, displayName) {
            // No longer needed - using Firebase Auth  
            return true;
        }

        async function updateProfile(updates) {
            if (!currentUser) return;
            const userRef = doc(db, 'users', currentUser.id);
            await updateDoc(userRef, updates);
        }

        // Fitness data storage functions
        // Fitness data storage with Firebase Firestore
        async function saveWorkoutCompletion(workoutData) {
            if (!currentUser) {
                console.error('No user - cannot save workout');
                return false;
            }
            
            try {
                const workoutId = `${currentUser.id}_${getTodayDateKey()}`;
                const workoutRef = doc(db, 'workouts', workoutId);
                const completionData = {
                    id: workoutId,
                    userId: currentUser.id,
                    username: currentUser.username,
                    displayName: currentUser.displayName,
                    photoURL: currentUser.photoURL || '',
                    date: new Date().toISOString(),
                    workoutType: workoutData.workoutType,
                    dayName: workoutData.dayName,
                    totalTime: workoutData.totalTime,
                    exercisesCompleted: workoutData.exercises.length,
                    completed: true,
                    // Social interaction fields
                    kudos: [],
                    comments: [],
                    kudosCount: 0,
                    commentsCount: 0,
                    caption: ''
                };
                
                await setDoc(workoutRef, completionData);
                console.log('Workout completion saved:', completionData);
                return workoutId;
            } catch (error) {
                console.error('Error saving workout:', error);
                alert('Error saving workout completion. Please try again.');
                return false;
            }
        }

        async function saveExercisePerformance(exerciseName, performanceData) {
            if (!currentUser) {
                console.error('No user logged in - cannot save performance');
                return;
            }
            
            try {
                const perfRef = doc(db, 'performance', `${currentUser.id}_${exerciseName}_${getTodayDateKey()}`);
                const data = {
                    ...performanceData,
                    userId: currentUser.id,
                    username: currentUser.username,
                    exerciseName: exerciseName,
                    timestamp: new Date().toISOString()
                };
                await setDoc(perfRef, data);
                console.log('Performance saved:', exerciseName, data);
            } catch (error) {
                console.error('Error saving performance:', error);
                alert('Error saving performance data. Please try again.');
            }
        }

        async function getWorkoutHistory(limitCount = 30) {
            if (!currentUser) return [];
            
            try {
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', '==', currentUser.id),
                    orderBy('date', 'desc'),
                    firestoreLimit(limitCount)
                );
                const querySnapshot = await getDocs(q);
                return querySnapshot.docs.map(doc => doc.data());
            } catch (error) {
                console.error('Error getting workout history:', error);
                return [];
            }
        }

        async function getExerciseHistory(exerciseName, limitCount = 10) {
            if (!currentUser) {
                console.log('No user - skipping history load');
                return [];
            }
            
            try {
                const perfRef = collection(db, 'performance');
                const q = query(
                    perfRef,
                    where('userId', '==', currentUser.id),
                    where('exerciseName', '==', exerciseName),
                    orderBy('timestamp', 'desc'),
                    firestoreLimit(limitCount)
                );
                const querySnapshot = await getDocs(q);
                const history = querySnapshot.docs.map(doc => doc.data());
                console.log(`Loaded ${history.length} history records for ${exerciseName}`);
                return history;
            } catch (error) {
                console.error('Error getting exercise history:', error);
                return [];
            }
        }

        // Friend Management with Firebase
        async function addFriend(friendEmail) {
            if (!currentUser) return false;
            
            try {
                // Search for user by email
                const usersRef = collection(db, 'users');
                const q = query(usersRef, where('email', '==', friendEmail));
                const querySnapshot = await getDocs(q);
                
                if (querySnapshot.empty) {
                    return false;
                }
                
                const friendDoc = querySnapshot.docs[0];
                const friendData = friendDoc.data();
                
                if (friendData.uid === currentUser.id) {
                    return false; // Can't add yourself
                }
                
                // Add to friends list
                const userRef = doc(db, 'users', currentUser.id);
                await updateDoc(userRef, {
                    friends: arrayUnion(friendData.uid)
                });
                
                // Update local currentUser
                if (!currentUser.friends) currentUser.friends = [];
                if (!currentUser.friends.includes(friendData.uid)) {
                    currentUser.friends.push(friendData.uid);
                }
                
                return true;
            } catch (error) {
                console.error('Error adding friend:', error);
                return false;
            }
        }

        async function getFriendsActivity(limitCount = 20) {
            if (!currentUser) return [];
            
            try {
                // Get current user's friends list
                const userRef = doc(db, 'users', currentUser.id);
                const userSnap = await getDoc(userRef);
                const userData = userSnap.data();
                const friends = userData.friends || [];
                
                if (friends.length === 0) return [];
                
                // Get workouts from friends (Firestore 'in' limit is 10)
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', 'in', friends.slice(0, 10)),
                    orderBy('date', 'desc'),
                    firestoreLimit(limitCount)
                );
                
                const querySnapshot = await getDocs(q);
                return querySnapshot.docs.map(doc => doc.data());
            } catch (error) {
                console.error('Error getting friends activity:', error);
                return [];
            }
        }

        async function getFriendProfiles() {
            if (!currentUser) return [];
            
            try {
                const userRef = doc(db, 'users', currentUser.id);
                const userSnap = await getDoc(userRef);
                const userData = userSnap.data();
                const friends = userData.friends || [];
                
                if (friends.length === 0) return [];
                
                const profiles = [];
                for (let friendId of friends) {
                    const friendRef = doc(db, 'users', friendId);
                    const friendSnap = await getDoc(friendRef);
                    if (friendSnap.exists()) {
                        profiles.push(friendSnap.data());
                    }
                }
                return profiles;
            } catch (error) {
                console.error('Error getting friend profiles:', error);
                return [];
            }
        }

        async function getFriendStats(friendId) {
            try {
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', '==', friendId),
                    orderBy('date', 'desc'),
                    firestoreLimit(30)
                );
                const querySnapshot = await getDocs(q);
                const workouts = querySnapshot.docs.map(doc => doc.data());
                
                return {
                    totalWorkouts: workouts.length,
                    totalMinutes: workouts.reduce((sum, w) => sum + (w.totalTime || 0), 0),
                    lastWorkout: workouts.length > 0 ? workouts[0].date : null
                };
            } catch (error) {
                return null;
            }
        }

        // ==========================================
        // SOCIAL INTERACTION FUNCTIONS (Strava-style)
        // ==========================================

        // Give kudos to a workout
        window.giveKudos = async function(workoutId) {
            if (!currentUser) return;
            
            try {
                const workoutRef = doc(db, 'workouts', workoutId);
                const workoutSnap = await getDoc(workoutRef);
                
                if (!workoutSnap.exists()) return;
                
                const workoutData = workoutSnap.data();
                const kudos = workoutData.kudos || [];
                
                // Check if already gave kudos
                const existingKudos = kudos.find(k => k.userId === currentUser.id);
                
                if (existingKudos) {
                    // Remove kudos (toggle off)
                    const newKudos = kudos.filter(k => k.userId !== currentUser.id);
                    await updateDoc(workoutRef, {
                        kudos: newKudos,
                        kudosCount: newKudos.length
                    });
                } else {
                    // Add kudos
                    const newKudo = {
                        userId: currentUser.id,
                        displayName: currentUser.displayName,
                        photoURL: currentUser.photoURL || '',
                        timestamp: new Date().toISOString()
                    };
                    kudos.push(newKudo);
                    await updateDoc(workoutRef, {
                        kudos: kudos,
                        kudosCount: kudos.length
                    });
                    
                    // Create notification for workout owner
                    if (workoutData.userId !== currentUser.id) {
                        await createNotification(workoutData.userId, {
                            type: 'kudos',
                            fromUserId: currentUser.id,
                            fromDisplayName: currentUser.displayName,
                            fromPhotoURL: currentUser.photoURL || '',
                            workoutId: workoutId,
                            workoutType: workoutData.workoutType,
                            timestamp: new Date().toISOString(),
                            read: false
                        });
                    }
                }
                
                // Refresh the feed
                displaySocialFeed();
            } catch (error) {
                console.error('Error giving kudos:', error);
            }
        }

        // Add comment to a workout
        window.addComment = async function(workoutId) {
            const input = document.getElementById(`comment-input-${workoutId}`);
            const commentText = input?.value?.trim();
            
            if (!commentText || !currentUser) return;
            
            try {
                const workoutRef = doc(db, 'workouts', workoutId);
                const workoutSnap = await getDoc(workoutRef);
                
                if (!workoutSnap.exists()) return;
                
                const workoutData = workoutSnap.data();
                const comments = workoutData.comments || [];
                
                const newComment = {
                    id: Date.now().toString(),
                    userId: currentUser.id,
                    displayName: currentUser.displayName,
                    photoURL: currentUser.photoURL || '',
                    text: commentText,
                    timestamp: new Date().toISOString()
                };
                
                comments.push(newComment);
                
                await updateDoc(workoutRef, {
                    comments: comments,
                    commentsCount: comments.length
                });
                
                // Create notification for workout owner
                if (workoutData.userId !== currentUser.id) {
                    await createNotification(workoutData.userId, {
                        type: 'comment',
                        fromUserId: currentUser.id,
                        fromDisplayName: currentUser.displayName,
                        fromPhotoURL: currentUser.photoURL || '',
                        workoutId: workoutId,
                        workoutType: workoutData.workoutType,
                        commentPreview: commentText.substring(0, 50),
                        timestamp: new Date().toISOString(),
                        read: false
                    });
                }
                
                // Clear input and refresh
                input.value = '';
                displaySocialFeed();
            } catch (error) {
                console.error('Error adding comment:', error);
            }
        }

        // Delete a comment
        window.deleteComment = async function(workoutId, commentId) {
            if (!currentUser) return;
            
            try {
                const workoutRef = doc(db, 'workouts', workoutId);
                const workoutSnap = await getDoc(workoutRef);
                
                if (!workoutSnap.exists()) return;
                
                const workoutData = workoutSnap.data();
                const comments = workoutData.comments || [];
                
                // Only allow deleting own comments or if workout owner
                const comment = comments.find(c => c.id === commentId);
                if (comment && (comment.userId === currentUser.id || workoutData.userId === currentUser.id)) {
                    const newComments = comments.filter(c => c.id !== commentId);
                    await updateDoc(workoutRef, {
                        comments: newComments,
                        commentsCount: newComments.length
                    });
                    displaySocialFeed();
                }
            } catch (error) {
                console.error('Error deleting comment:', error);
            }
        }

        // Create notification
        async function createNotification(userId, notificationData) {
            try {
                const notifId = `${userId}_${Date.now()}`;
                const notifRef = doc(db, 'notifications', notifId);
                await setDoc(notifRef, {
                    ...notificationData,
                    userId: userId,
                    id: notifId
                });
            } catch (error) {
                console.error('Error creating notification:', error);
            }
        }

        // Get notifications for current user
        async function getNotifications(limitCount = 20) {
            if (!currentUser) return [];
            
            try {
                const notifsRef = collection(db, 'notifications');
                const q = query(
                    notifsRef,
                    where('userId', '==', currentUser.id),
                    orderBy('timestamp', 'desc'),
                    firestoreLimit(limitCount)
                );
                const querySnapshot = await getDocs(q);
                return querySnapshot.docs.map(doc => doc.data());
            } catch (error) {
                console.error('Error getting notifications:', error);
                return [];
            }
        }

        // Mark notification as read
        async function markNotificationRead(notifId) {
            try {
                const notifRef = doc(db, 'notifications', notifId);
                await updateDoc(notifRef, { read: true });
            } catch (error) {
                console.error('Error marking notification read:', error);
            }
        }

        // Get all activity (friends + own workouts)
        async function getAllActivity(limitCount = 30) {
            if (!currentUser) return [];
            
            try {
                // Get current user's friends list
                const userRef = doc(db, 'users', currentUser.id);
                const userSnap = await getDoc(userRef);
                const userData = userSnap.data();
                const friends = userData.friends || [];
                
                // Include current user in activity feed
                const userIds = [...friends, currentUser.id].slice(0, 10);
                
                if (userIds.length === 0) return [];
                
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', 'in', userIds),
                    orderBy('date', 'desc'),
                    firestoreLimit(limitCount)
                );
                
                const querySnapshot = await getDocs(q);
                return querySnapshot.docs.map(doc => ({ ...doc.data(), docId: doc.id }));
            } catch (error) {
                console.error('Error getting all activity:', error);
                return [];
            }
        }

        // View user profile
        window.viewUserProfile = async function(userId) {
            try {
                // Get user data
                const userRef = doc(db, 'users', userId);
                const userSnap = await getDoc(userRef);
                
                if (!userSnap.exists()) {
                    alert('User not found');
                    return;
                }
                
                const userData = userSnap.data();
                
                // Get user's workout stats
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', '==', userId),
                    orderBy('date', 'desc'),
                    firestoreLimit(50)
                );
                const workoutsSnap = await getDocs(q);
                const workouts = workoutsSnap.docs.map(doc => doc.data());
                
                // Get user's profile data (measurements, strength records)
                const profileRef = doc(db, 'profiles', userId);
                const profileSnap = await getDoc(profileRef);
                const profileData = profileSnap.exists() ? profileSnap.data() : {};
                
                showUserProfileModal(userData, workouts, profileData);
            } catch (error) {
                console.error('Error viewing user profile:', error);
            }
        }

        function showUserProfileModal(userData, workouts, profileData) {
            const totalWorkouts = workouts.length;
            const totalMinutes = workouts.reduce((sum, w) => sum + (w.totalTime || 0), 0);
            const totalKudosReceived = workouts.reduce((sum, w) => sum + (w.kudosCount || 0), 0);
            
            // Calculate workout type breakdown
            const workoutTypes = workouts.reduce((acc, w) => {
                acc[w.workoutType] = (acc[w.workoutType] || 0) + 1;
                return acc;
            }, {});
            
            // Get recent PRs from strength records
            const strengthRecords = profileData.strengthRecords || [];
            const recentPRs = strengthRecords.slice(0, 5);
            
            const modal = document.createElement('div');
            modal.id = 'userProfileModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.9); z-index: 10000; overflow-y: auto; padding: 1rem;';
            modal.innerHTML = `
                <div style="max-width: 600px; margin: 2rem auto; background: var(--card-bg); border-radius: 20px; border: 1px solid var(--border-color); overflow: hidden;">
                    <!-- Header -->
                    <div style="background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(247, 201, 72, 0.2)); padding: 2rem; text-align: center; position: relative;">
                        <button onclick="document.getElementById('userProfileModal').remove()" style="position: absolute; top: 1rem; right: 1rem; background: rgba(255,255,255,0.1); border: none; color: white; width: 36px; height: 36px; border-radius: 50%; cursor: pointer; font-size: 1.2rem;"></button>
                        <img src="${userData.photoURL || ''}" alt="${userData.displayName}" style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid var(--energy-orange); margin-bottom: 1rem; object-fit: cover;">
                        <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2rem; color: var(--pure-white); letter-spacing: 0.03em;">${userData.displayName}</h2>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">@${userData.email?.split('@')[0] || 'user'}</div>
                        ${userData.uid !== currentUser.id ? `
                            <button onclick="toggleFollow('${userData.uid}')" id="followBtn-${userData.uid}" style="margin-top: 1rem; background: var(--energy-orange); color: white; border: none; padding: 0.6rem 1.5rem; border-radius: 8px; font-weight: 700; cursor: pointer;">
                                ${currentUser.friends?.includes(userData.uid) ? ' Following' : '+ Follow'}
                            </button>
                        ` : ''}
                    </div>
                    
                    <!-- Stats Grid -->
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; background: var(--border-color);">
                        <div style="background: var(--card-bg); padding: 1.5rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--vibrant-cyan); font-family: 'Clash Grotesk', sans-serif;">${totalWorkouts}</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Workouts</div>
                        </div>
                        <div style="background: var(--card-bg); padding: 1.5rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--electric-yellow); font-family: 'Clash Grotesk', sans-serif;">${totalMinutes}</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Minutes</div>
                        </div>
                        <div style="background: var(--card-bg); padding: 1.5rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--energy-orange); font-family: 'Clash Grotesk', sans-serif;">${totalKudosReceived}</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.1em;">Kudos</div>
                        </div>
                    </div>
                    
                    <!-- Content -->
                    <div style="padding: 1.5rem;">
                        <!-- Workout Types -->
                        ${Object.keys(workoutTypes).length > 0 ? `
                            <div style="margin-bottom: 1.5rem;">
                                <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.2rem; color: var(--vibrant-cyan); margin-bottom: 1rem; letter-spacing: 0.05em;">Workout Breakdown</h3>
                                <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                                    ${Object.entries(workoutTypes).map(([type, count]) => {
                                        const emoji = type === 'HIIT' ? '' : type === 'Strength' ? '' : type === 'Cross Training' ? '' : '';
                                        return `
                                            <div style="background: rgba(255,255,255,0.05); padding: 0.5rem 1rem; border-radius: 20px; display: flex; align-items: center; gap: 0.5rem;">
                                                <span>${emoji}</span>
                                                <span style="font-weight: 600;">${count}</span>
                                                <span style="color: var(--text-secondary); font-size: 0.85rem;">${type}</span>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Recent PRs -->
                        ${recentPRs.length > 0 ? `
                            <div style="margin-bottom: 1.5rem;">
                                <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.2rem; color: var(--energy-orange); margin-bottom: 1rem; letter-spacing: 0.05em;">Recent PRs </h3>
                                <div style="display: flex; flex-direction: column; gap: 0.5rem;">
                                    ${recentPRs.map(pr => `
                                        <div style="background: rgba(255, 107, 53, 0.1); padding: 0.75rem 1rem; border-radius: 8px; display: flex; justify-content: space-between; align-items: center;">
                                            <span style="font-weight: 600;">${pr.exercise}</span>
                                            <span style="color: var(--electric-yellow); font-weight: 700;">${pr.weight} lbs  ${pr.reps}</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Recent Activity -->
                        <div>
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.2rem; color: var(--electric-yellow); margin-bottom: 1rem; letter-spacing: 0.05em;">Recent Activity</h3>
                            ${workouts.slice(0, 5).map(w => {
                                const emoji = w.workoutType === 'HIIT' ? '' : w.workoutType === 'Strength' ? '' : w.workoutType === 'Cross Training' ? '' : '';
                                const date = new Date(w.date);
                                return `
                                    <div style="background: rgba(255,255,255,0.03); padding: 0.75rem 1rem; border-radius: 8px; margin-bottom: 0.5rem; display: flex; justify-content: space-between; align-items: center;">
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <span style="font-size: 1.25rem;">${emoji}</span>
                                            <div>
                                                <div style="font-weight: 600; font-size: 0.95rem;">${w.workoutType}</div>
                                                <div style="font-size: 0.8rem; color: var(--text-secondary);">${w.totalTime} min</div>
                                            </div>
                                        </div>
                                        <div style="font-size: 0.85rem; color: var(--text-secondary);">
                                            ${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                            ${workouts.length === 0 ? '<div style="text-align: center; padding: 1rem; color: var(--text-secondary);">No workouts yet</div>' : ''}
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        // Toggle follow/unfollow
        window.toggleFollow = async function(userId) {
            if (!currentUser) return;
            
            try {
                const userRef = doc(db, 'users', currentUser.id);
                const userSnap = await getDoc(userRef);
                const userData = userSnap.data();
                const friends = userData.friends || [];
                
                const btn = document.getElementById(`followBtn-${userId}`);
                
                if (friends.includes(userId)) {
                    // Unfollow
                    const newFriends = friends.filter(f => f !== userId);
                    await updateDoc(userRef, { friends: newFriends });
                    currentUser.friends = newFriends;
                    if (btn) btn.innerHTML = '+ Follow';
                } else {
                    // Follow
                    await updateDoc(userRef, { friends: arrayUnion(userId) });
                    if (!currentUser.friends) currentUser.friends = [];
                    currentUser.friends.push(userId);
                    if (btn) btn.innerHTML = ' Following';
                    
                    // Create notification
                    await createNotification(userId, {
                        type: 'follow',
                        fromUserId: currentUser.id,
                        fromDisplayName: currentUser.displayName,
                        fromPhotoURL: currentUser.photoURL || '',
                        timestamp: new Date().toISOString(),
                        read: false
                    });
                }
            } catch (error) {
                console.error('Error toggling follow:', error);
            }
        }

        // Show who gave kudos
        window.showKudosList = function(kudos) {
            if (!kudos || kudos.length === 0) return;
            
            const modal = document.createElement('div');
            modal.id = 'kudosListModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); z-index: 10001; display: flex; align-items: center; justify-content: center; padding: 1rem;';
            modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
            modal.innerHTML = `
                <div style="background: var(--card-bg); border-radius: 16px; padding: 1.5rem; max-width: 350px; width: 100%; max-height: 70vh; overflow-y: auto;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.3rem; color: var(--energy-orange);"> Kudos (${kudos.length})</h3>
                        <button onclick="document.getElementById('kudosListModal').remove()" style="background: none; border: none; color: white; font-size: 1.2rem; cursor: pointer;"></button>
                    </div>
                    ${kudos.map(k => `
                        <div style="display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem 0; border-bottom: 1px solid rgba(255,255,255,0.1); cursor: pointer;" onclick="document.getElementById('kudosListModal').remove(); viewUserProfile('${k.userId}')">
                            <img src="${k.photoURL || ''}" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover; background: rgba(255,255,255,0.1);">
                            <div>
                                <div style="font-weight: 600;">${k.displayName}</div>
                                <div style="font-size: 0.8rem; color: var(--text-secondary);">${getTimeAgo(new Date(k.timestamp))}</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            document.body.appendChild(modal);
        }

        function getTodayDateKey() {
            const d = new Date();
            return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
        }

        async function getStats() {
            const history = await getWorkoutHistory(90);
            console.log(`getStats: Found ${history.length} workouts in history`);
            
            const totalWorkouts = history.length;
            const last7Days = history.filter(w => {
                const workoutDate = new Date(w.date);
                const sevenDaysAgo = new Date();
                sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);
                return workoutDate >= sevenDaysAgo;
            }).length;
            
            const workoutTypes = history.reduce((acc, w) => {
                acc[w.workoutType] = (acc[w.workoutType] || 0) + 1;
                return acc;
            }, {});

            const stats = {
                totalWorkouts,
                last7Days,
                workoutTypes,
                totalMinutes: history.reduce((sum, w) => sum + (w.totalTime || 0), 0)
            };
            
            console.log('Stats calculated:', stats);
            return stats;
        }

        // User preferences for workout customization
        let workoutPreferences = {
            duration: 35, // 20, 35, or 45 minutes
            difficulty: 'intermediate', // beginner, intermediate, advanced
            equipment: 'full-gym', // full-gym, dumbbells-only, minimal, bodyweight
            injuries: [], // array of injury types: knee, shoulder, back, wrist, ankle
            planType: 'single', // single, weekly, monthly
            singleWorkoutType: null, // For single day: 'hiit', 'upper-strength', 'lower-strength', 'cross-training', 'recovery'
            workoutMix: { // For weekly/monthly plans - defaults to balanced week
                'hiit': 2,
                'upper-strength': 1,
                'lower-strength': 1,
                'cross-training': 1,
                'recovery': 2
            },
            currentSchedule: null, // Stores the generated schedule array
            warmupStyle: 'dynamic', // dynamic, cardio, mobility, activation, sport
            cooldownStyle: 'static' // static, foam, yoga, breathing, walk
        };

        // Load preferences from Firestore
        async function loadPreferences() {
            if (!currentUser) return;
            
            try {
                const prefRef = doc(db, 'preferences', currentUser.id);
                const prefSnap = await getDoc(prefRef);
                if (prefSnap.exists()) {
                    const savedPrefs = prefSnap.data();
                    // Merge saved preferences with defaults to preserve structure
                    workoutPreferences = {
                        ...workoutPreferences,
                        ...savedPrefs,
                        // Ensure workoutMix exists with defaults
                        workoutMix: {
                            ...workoutPreferences.workoutMix,
                            ...(savedPrefs.workoutMix || {})
                        }
                    };
                    console.log('Preferences loaded successfully');
                }
            } catch (error) {
                console.log('No saved preferences, using defaults');
            }
        }

        // Save preferences to Firestore
        async function savePreferences() {
            if (!currentUser) return;
            
            try {
                const prefRef = doc(db, 'preferences', currentUser.id);
                await setDoc(prefRef, workoutPreferences);
            } catch (error) {
                console.error('Error saving preferences:', error);
            }
        }

        // Show preferences modal
        function showPreferencesModal() {
            const modal = document.createElement('div');
            modal.id = 'preferencesModal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.8);
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 1rem;
                overflow-y: auto;
            `;

            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 600px; width: 100%; max-height: 90vh; overflow-y: auto; border: 2px solid var(--energy-orange);">
                    <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2rem; color: var(--electric-yellow); margin-bottom: 2rem; text-align: center;">Customize Your Workouts</h2>
                    
                    <!-- Plan Type Selection -->
                    <div style="margin-bottom: 2rem; padding: 1.5rem; background: rgba(255, 107, 53, 0.1); border-radius: 12px; border: 2px solid var(--energy-orange);">
                        <label style="display: block; font-size: 1.1rem; font-weight: 700; color: var(--energy-orange); margin-bottom: 1rem;"> Choose Your Plan</label>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1rem;">
                            <button class="plan-btn" data-plan="single" style="padding: 1rem; background: ${workoutPreferences.planType === 'single' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.planType === 'single' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Single Day<br><span style="font-size: 0.8rem; opacity: 0.7;">One workout</span></button>
                            <button class="plan-btn" data-plan="weekly" style="padding: 1rem; background: ${workoutPreferences.planType === 'weekly' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.planType === 'weekly' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Weekly<br><span style="font-size: 0.8rem; opacity: 0.7;">7-day plan</span></button>
                            <button class="plan-btn" data-plan="monthly" style="padding: 1rem; background: ${workoutPreferences.planType === 'monthly' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.planType === 'monthly' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Monthly<br><span style="font-size: 0.8rem; opacity: 0.7;">30-day plan</span></button>
                        </div>
                        
                        <!-- Single Day Workout Type -->
                        <div id="singleDayType" style="display: ${workoutPreferences.planType === 'single' ? 'block' : 'none'};">
                            <label style="display: block; font-size: 0.95rem; font-weight: 600; color: var(--vibrant-cyan); margin-bottom: 0.75rem;">Choose today's workout:</label>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                                <button class="single-type-btn" data-type="hiit" style="padding: 0.75rem; background: ${workoutPreferences.singleWorkoutType === 'hiit' ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.05)'}; border: 2px solid ${workoutPreferences.singleWorkoutType === 'hiit' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.85rem;"> HIIT</button>
                                <button class="single-type-btn" data-type="upper-strength" style="padding: 0.75rem; background: ${workoutPreferences.singleWorkoutType === 'upper-strength' ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.05)'}; border: 2px solid ${workoutPreferences.singleWorkoutType === 'upper-strength' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.85rem;"> Upper Body</button>
                                <button class="single-type-btn" data-type="lower-strength" style="padding: 0.75rem; background: ${workoutPreferences.singleWorkoutType === 'lower-strength' ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.05)'}; border: 2px solid ${workoutPreferences.singleWorkoutType === 'lower-strength' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.85rem;"> Lower Body</button>
                                <button class="single-type-btn" data-type="cross-training" style="padding: 0.75rem; background: ${workoutPreferences.singleWorkoutType === 'cross-training' ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.05)'}; border: 2px solid ${workoutPreferences.singleWorkoutType === 'cross-training' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.85rem;"> Cross Training</button>
                                <button class="single-type-btn" data-type="recovery" style="padding: 0.75rem; background: ${workoutPreferences.singleWorkoutType === 'recovery' ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.05)'}; border: 2px solid ${workoutPreferences.singleWorkoutType === 'recovery' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s; font-size: 0.85rem;"> Recovery</button>
                            </div>
                        </div>
                        
                        <!-- Weekly/Monthly Mix -->
                        <div id="planMix" style="display: ${workoutPreferences.planType !== 'single' ? 'block' : 'none'};">
                            <label style="display: block; font-size: 0.95rem; font-weight: 600; color: var(--vibrant-cyan); margin-bottom: 0.75rem;">Allocate your ${workoutPreferences.planType === 'weekly' ? '7' : '30'} days:</label>
                            <div style="background: rgba(0, 217, 255, 0.1); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem;">
                                <div style="font-size: 0.85rem; color: rgba(255, 255, 255, 0.8);">Choose how many days of each type (must total ${workoutPreferences.planType === 'weekly' ? '7' : '30'})</div>
                            </div>
                            <div style="display: grid; gap: 0.5rem;">
                                ${['hiit', 'upper-strength', 'lower-strength', 'cross-training', 'recovery'].map(type => {
                                    const labels = {
                                        'hiit': ' HIIT',
                                        'upper-strength': ' Upper Body',
                                        'lower-strength': ' Lower Body',
                                        'cross-training': ' Cross Training',
                                        'recovery': ' Recovery'
                                    };
                                    return `
                                        <div style="display: flex; align-items: center; justify-content: space-between; background: rgba(255, 255, 255, 0.05); padding: 0.5rem 1rem; border-radius: 6px;">
                                            <span style="font-size: 0.85rem;">${labels[type]}</span>
                                            <div style="display: flex; gap: 0.5rem; align-items: center;">
                                                <button class="mix-decrease" data-type="${type}" style="background: rgba(255, 255, 255, 0.1); border: none; color: white; width: 28px; height: 28px; border-radius: 4px; cursor: pointer; font-weight: bold;">-</button>
                                                <span id="mix-${type}" style="min-width: 25px; text-align: center; font-weight: 700; color: var(--vibrant-cyan);">${workoutPreferences.workoutMix[type]}</span>
                                                <button class="mix-increase" data-type="${type}" style="background: rgba(255, 255, 255, 0.1); border: none; color: white; width: 28px; height: 28px; border-radius: 4px; cursor: pointer; font-weight: bold;">+</button>
                                            </div>
                                        </div>
                                    `;
                                }).join('')}
                            </div>
                            <div id="mix-total" style="text-align: center; margin-top: 0.75rem; font-weight: 700; color: ${Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0) === (workoutPreferences.planType === 'weekly' ? 7 : 30) ? 'var(--electric-yellow)' : '#FF6B35'};">
                                Total: ${Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0)} / ${workoutPreferences.planType === 'weekly' ? '7' : '30'}
                            </div>
                            
                            <!-- Schedule Preview for Weekly -->
                            <div id="schedulePreview" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 107, 53, 0.1); border-radius: 8px; border: 1px solid rgba(255, 107, 53, 0.3); display: ${workoutPreferences.planType === 'weekly' ? 'block' : 'none'};">
                                <div style="font-size: 0.85rem; font-weight: 600; color: var(--energy-orange); margin-bottom: 0.5rem;"> Your Week Preview:</div>
                                <div id="weekPreviewGrid" style="display: flex; gap: 0.25rem; flex-wrap: wrap;">
                                    ${['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map((day, i) => `
                                        <div style="flex: 1; min-width: 40px; text-align: center; padding: 0.4rem 0.25rem; background: rgba(255,255,255,0.05); border-radius: 4px;">
                                            <div style="font-size: 0.7rem; color: rgba(255,255,255,0.6);">${day}</div>
                                            <div id="preview-day-${i}" style="font-size: 1rem; margin-top: 0.2rem;">-</div>
                                        </div>
                                    `).join('')}
                                </div>
                                <div style="font-size: 0.75rem; color: rgba(255,255,255,0.5); margin-top: 0.5rem; text-align: center;">Schedule auto-distributes for optimal recovery</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Duration -->
                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; font-size: 1rem; font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 1rem;">Workout Duration</label>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <button class="duration-btn" data-duration="20" style="padding: 1rem; background: ${workoutPreferences.duration === 20 ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.duration === 20 ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">20 min<br><span style="font-size: 0.8rem; opacity: 0.7;">Quick</span></button>
                            <button class="duration-btn" data-duration="35" style="padding: 1rem; background: ${workoutPreferences.duration === 35 ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.duration === 35 ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">35 min<br><span style="font-size: 0.8rem; opacity: 0.7;">Standard</span></button>
                            <button class="duration-btn" data-duration="45" style="padding: 1rem; background: ${workoutPreferences.duration === 45 ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.duration === 45 ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">45 min<br><span style="font-size: 0.8rem; opacity: 0.7;">Extended</span></button>
                        </div>
                    </div>

                    <!-- Difficulty -->
                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; font-size: 1rem; font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 1rem;">Difficulty Level</label>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                            <button class="difficulty-btn" data-difficulty="beginner" style="padding: 1rem; background: ${workoutPreferences.difficulty === 'beginner' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.difficulty === 'beginner' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Beginner<br><span style="font-size: 0.8rem; opacity: 0.7;">Lighter weights</span></button>
                            <button class="difficulty-btn" data-difficulty="intermediate" style="padding: 1rem; background: ${workoutPreferences.difficulty === 'intermediate' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.difficulty === 'intermediate' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Intermediate<br><span style="font-size: 0.8rem; opacity: 0.7;">Moderate</span></button>
                            <button class="difficulty-btn" data-difficulty="advanced" style="padding: 1rem; background: ${workoutPreferences.difficulty === 'advanced' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.difficulty === 'advanced' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Advanced<br><span style="font-size: 0.8rem; opacity: 0.7;">High intensity</span></button>
                        </div>
                    </div>

                    <!-- Equipment -->
                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; font-size: 1rem; font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 1rem;">Available Equipment</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <button class="equipment-btn" data-equipment="full-gym" style="padding: 1rem; background: ${workoutPreferences.equipment === 'full-gym' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.equipment === 'full-gym' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Full Gym<br><span style="font-size: 0.8rem; opacity: 0.7;">All equipment</span></button>
                            <button class="equipment-btn" data-equipment="dumbbells-only" style="padding: 1rem; background: ${workoutPreferences.equipment === 'dumbbells-only' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.equipment === 'dumbbells-only' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Dumbbells Only<br><span style="font-size: 0.8rem; opacity: 0.7;">+ bench</span></button>
                            <button class="equipment-btn" data-equipment="minimal" style="padding: 1rem; background: ${workoutPreferences.equipment === 'minimal' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.equipment === 'minimal' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Minimal<br><span style="font-size: 0.8rem; opacity: 0.7;">Light weights</span></button>
                            <button class="equipment-btn" data-equipment="bodyweight" style="padding: 1rem; background: ${workoutPreferences.equipment === 'bodyweight' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${workoutPreferences.equipment === 'bodyweight' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">Bodyweight<br><span style="font-size: 0.8rem; opacity: 0.7;">No equipment</span></button>
                        </div>
                    </div>

                    <!-- Injuries -->
                    <div style="margin-bottom: 2rem;">
                        <label style="display: block; font-size: 1rem; font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 1rem;">Injury Modifications (Select all that apply)</label>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="knee" ${workoutPreferences.injuries.includes('knee') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Knee Issues</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="shoulder" ${workoutPreferences.injuries.includes('shoulder') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Shoulder Issues</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="back" ${workoutPreferences.injuries.includes('back') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Back Issues</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="wrist" ${workoutPreferences.injuries.includes('wrist') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Wrist Issues</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="ankle" ${workoutPreferences.injuries.includes('ankle') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Ankle Issues</span>
                            </label>
                            <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                <input type="checkbox" class="injury-check" value="elbow" ${workoutPreferences.injuries.includes('elbow') ? 'checked' : ''} style="margin-right: 0.75rem; width: 18px; height: 18px; cursor: pointer;">
                                <span>Elbow Issues</span>
                            </label>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button id="savePreferencesBtn" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; font-size: 1rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; border-radius: 8px;">Save & Regenerate</button>
                        <button id="cancelPreferencesBtn" style="flex: 0.5; background: var(--slate); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; font-size: 1rem; font-weight: 600; cursor: pointer; border-radius: 8px;">Cancel</button>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            // Plan type buttons
            modal.querySelectorAll('.plan-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.plan-btn');
                    const planType = target.dataset.plan;
                    workoutPreferences.planType = planType;
                    modal.querySelectorAll('.plan-btn').forEach(b => {
                        b.style.background = 'rgba(255, 255, 255, 0.1)';
                        b.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    });
                    target.style.background = 'var(--energy-orange)';
                    target.style.borderColor = 'var(--electric-yellow)';
                    
                    // Show/hide appropriate sections
                    const singleSection = document.getElementById('singleDayType');
                    const mixSection = document.getElementById('planMix');
                    const mixTotal = document.getElementById('mix-total');
                    const schedulePreview = document.getElementById('schedulePreview');
                    
                    if (planType === 'single') {
                        singleSection.style.display = 'block';
                        mixSection.style.display = 'none';
                    } else {
                        singleSection.style.display = 'none';
                        mixSection.style.display = 'block';
                        // Update total label
                        const expected = planType === 'weekly' ? 7 : 30;
                        const current = Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0);
                        mixTotal.innerHTML = `Total: ${current} / ${expected}`;
                        mixTotal.style.color = current === expected ? 'var(--electric-yellow)' : '#FF6B35';
                        
                        // Show/hide schedule preview (only for weekly)
                        if (schedulePreview) {
                            schedulePreview.style.display = planType === 'weekly' ? 'block' : 'none';
                        }
                    }
                });
            });
            
            // Single workout type buttons
            modal.querySelectorAll('.single-type-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.single-type-btn');
                    workoutPreferences.singleWorkoutType = target.dataset.type;
                    modal.querySelectorAll('.single-type-btn').forEach(b => {
                        b.style.background = 'rgba(255, 255, 255, 0.05)';
                        b.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    });
                    target.style.background = 'var(--vibrant-cyan)';
                    target.style.borderColor = 'var(--electric-yellow)';
                });
            });
            
            // Function to update schedule preview
            function updateSchedulePreview() {
                if (workoutPreferences.planType !== 'weekly') return;
                
                const schedule = buildScheduleFromMix(workoutPreferences.workoutMix, 7);
                const emojis = {
                    'hiit': '',
                    'upper-strength': '',
                    'lower-strength': '',
                    'cross-training': '',
                    'recovery': ''
                };
                
                for (let i = 0; i < 7; i++) {
                    const el = document.getElementById(`preview-day-${i}`);
                    if (el) {
                        el.textContent = emojis[schedule[i]] || '';
                    }
                }
            }
            
            // Workout mix increase/decrease buttons
            modal.querySelectorAll('.mix-increase, .mix-decrease').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.mix-increase, .mix-decrease');
                    const type = target.dataset.type;
                    const isIncrease = target.classList.contains('mix-increase');
                    const expected = workoutPreferences.planType === 'weekly' ? 7 : 30;
                    const currentTotal = Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0);
                    
                    if (isIncrease && currentTotal < expected) {
                        workoutPreferences.workoutMix[type]++;
                    } else if (!isIncrease && workoutPreferences.workoutMix[type] > 0) {
                        workoutPreferences.workoutMix[type]--;
                    }
                    
                    // Update display
                    document.getElementById(`mix-${type}`).textContent = workoutPreferences.workoutMix[type];
                    const newTotal = Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0);
                    const mixTotal = document.getElementById('mix-total');
                    mixTotal.innerHTML = `Total: ${newTotal} / ${expected}`;
                    mixTotal.style.color = newTotal === expected ? 'var(--electric-yellow)' : '#FF6B35';
                    
                    // Update schedule preview
                    updateSchedulePreview();
                });
            });
            
            // Initial schedule preview update
            updateSchedulePreview();

            // Add event listeners
            modal.querySelectorAll('.duration-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.duration-btn');
                    modal.querySelectorAll('.duration-btn').forEach(b => {
                        b.style.background = 'rgba(255, 255, 255, 0.1)';
                        b.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    });
                    target.style.background = 'var(--energy-orange)';
                    target.style.borderColor = 'var(--electric-yellow)';
                    workoutPreferences.duration = parseInt(target.dataset.duration);
                });
            });

            modal.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.difficulty-btn');
                    modal.querySelectorAll('.difficulty-btn').forEach(b => {
                        b.style.background = 'rgba(255, 255, 255, 0.1)';
                        b.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    });
                    target.style.background = 'var(--energy-orange)';
                    target.style.borderColor = 'var(--electric-yellow)';
                    workoutPreferences.difficulty = target.dataset.difficulty;
                });
            });

            modal.querySelectorAll('.equipment-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const target = e.target.closest('.equipment-btn');
                    modal.querySelectorAll('.equipment-btn').forEach(b => {
                        b.style.background = 'rgba(255, 255, 255, 0.1)';
                        b.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    });
                    target.style.background = 'var(--energy-orange)';
                    target.style.borderColor = 'var(--electric-yellow)';
                    workoutPreferences.equipment = target.dataset.equipment;
                });
            });

            modal.querySelectorAll('.injury-check').forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    workoutPreferences.injuries = Array.from(modal.querySelectorAll('.injury-check:checked')).map(cb => cb.value);
                });
            });

            document.getElementById('savePreferencesBtn').addEventListener('click', async () => {
                // Validate based on plan type
                if (workoutPreferences.planType === 'single') {
                    if (!workoutPreferences.singleWorkoutType) {
                        alert('Please select a workout type for today!');
                        return;
                    }
                } else {
                    // Weekly or monthly
                    const expected = workoutPreferences.planType === 'weekly' ? 7 : 30;
                    const total = Object.values(workoutPreferences.workoutMix).reduce((a,b) => a+b, 0);
                    if (total !== expected) {
                        alert(`Please allocate exactly ${expected} days. Currently: ${total}`);
                        return;
                    }
                }
                
                await savePreferences();
                modal.remove();
                document.getElementById('generateBtn').click();
            });

            document.getElementById('cancelPreferencesBtn').addEventListener('click', () => {
                modal.remove();
            });

            // Close on background click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.remove();
                }
            });
        }

        window.showPreferencesModal = showPreferencesModal;

        // Filter exercises based on preferences
        function filterExercisesByPreferences(exercises) {
            return exercises.filter(exercise => {
                // Equipment filtering
                if (workoutPreferences.equipment === 'bodyweight') {
                    // Only bodyweight exercises
                    const bodyweightKeywords = ['bodyweight', 'push-up', 'pull-up', 'plank', 'burpee', 'mountain climber', 'jump', 'squat', 'lunge'];
                    const isBodyweight = bodyweightKeywords.some(keyword => 
                        exercise.name.toLowerCase().includes(keyword) || 
                        !exercise.name.toLowerCase().includes('barbell') && 
                        !exercise.name.toLowerCase().includes('dumbbell') && 
                        !exercise.name.toLowerCase().includes('kettlebell')
                    );
                    if (!isBodyweight) return false;
                }
                
                if (workoutPreferences.equipment === 'dumbbells-only') {
                    // Replace barbell with dumbbell variants
                    if (exercise.name.toLowerCase().includes('barbell')) {
                        exercise.name = exercise.name.replace('Barbell', 'Dumbbell');
                        exercise.description = exercise.description.replace('barbell', 'dumbbell');
                    }
                    if (exercise.name.toLowerCase().includes('kettlebell') && 
                        !exercise.name.includes('Swing')) {
                        return false; // Skip kettlebell-specific moves except swings
                    }
                }
                
                if (workoutPreferences.equipment === 'minimal') {
                    // No heavy barbells or machines
                    if (exercise.name.toLowerCase().includes('barbell') || 
                        exercise.name.toLowerCase().includes('leg press') ||
                        exercise.name.toLowerCase().includes('cable')) {
                        return false;
                    }
                }
                
                // Injury modifications
                if (workoutPreferences.injuries.includes('knee')) {
                    if (exercise.name.toLowerCase().includes('jump') || 
                        exercise.name.toLowerCase().includes('squat') ||
                        exercise.name.toLowerCase().includes('lunge')) {
                        exercise.tips += ' | MODIFICATION: Reduce depth, no jumping, or substitute with leg press';
                    }
                }
                
                if (workoutPreferences.injuries.includes('shoulder')) {
                    if (exercise.name.toLowerCase().includes('overhead') || 
                        exercise.name.toLowerCase().includes('press') ||
                        exercise.name.toLowerCase().includes('shoulder')) {
                        exercise.tips += ' | MODIFICATION: Reduce range of motion or substitute with lower angle press';
                    }
                }
                
                if (workoutPreferences.injuries.includes('back')) {
                    if (exercise.name.toLowerCase().includes('deadlift') || 
                        exercise.name.toLowerCase().includes('row') ||
                        exercise.name.toLowerCase().includes('good morning')) {
                        exercise.tips += ' | MODIFICATION: Keep weight light, focus on form, or substitute with machine variant';
                    }
                }
                
                if (workoutPreferences.injuries.includes('wrist')) {
                    if (exercise.name.toLowerCase().includes('push-up') || 
                        exercise.name.toLowerCase().includes('plank') ||
                        exercise.name.toLowerCase().includes('burpee')) {
                        exercise.tips += ' | MODIFICATION: Use push-up handles or perform on knuckles';
                    }
                }
                
                return true;
            });
        }

        // Adjust workout duration based on preferences
        function adjustWorkoutDuration() {
            const baseDuration = workoutPreferences.duration;
            
            if (baseDuration === 20) {
                return { warmup: 3, main: 15, cooldown: 2 };
            } else if (baseDuration === 45) {
                return { warmup: 7, main: 35, cooldown: 3 };
            } else {
                return { warmup: 5, main: 26, cooldown: 4 }; // 35 min default
            }
        }

        // Adjust reps/sets based on difficulty
        function adjustExerciseDifficulty(exercise) {
            const ex = { ...exercise };
            
            if (workoutPreferences.difficulty === 'beginner') {
                if (ex.reps) {
                    ex.reps = ex.reps.replace(/\d+-\d+/g, (match) => {
                        const [min, max] = match.split('-').map(Number);
                        return `${Math.max(1, min - 2)}-${max - 2}`;
                    });
                    ex.reps = ex.reps.replace(/\d+ sets/g, (match) => {
                        const sets = parseInt(match);
                        return `${Math.max(2, sets - 1)} sets`;
                    });
                }
                ex.description += ' (Beginner: lighter weight, focus on form)';
            } else if (workoutPreferences.difficulty === 'advanced') {
                if (ex.reps) {
                    ex.reps = ex.reps.replace(/\d+-\d+/g, (match) => {
                        const [min, max] = match.split('-').map(Number);
                        return `${min + 2}-${max + 3}`;
                    });
                    ex.reps = ex.reps.replace(/\d+ sets/g, (match) => {
                        const sets = parseInt(match);
                        return `${sets + 1} sets`;
                    });
                }
                ex.description += ' (Advanced: heavier weight, maximum intensity)';
            }
            
            return ex;
        }

        // Weekly workout schedule - cohesive program to avoid overtraining
        const weeklySchedule = {
            0: { // Sunday
                type: 'Recovery & Stretching',
                focus: 'Full body mobility and flexibility',
                intensity: 'Low'
            },
            1: { // Monday
                type: 'HIIT',
                focus: 'Full body high intensity',
                intensity: 'High',
                muscleGroups: ['full-body']
            },
            2: { // Tuesday
                type: 'Strength',
                focus: 'Upper body push & pull',
                intensity: 'Medium-High',
                muscleGroups: ['chest', 'back', 'shoulders', 'arms']
            },
            3: { // Wednesday
                type: 'Recovery & Stretching',
                focus: 'Active recovery and deep stretching',
                intensity: 'Low'
            },
            4: { // Thursday
                type: 'Strength',
                focus: 'Lower body & core',
                intensity: 'Medium-High',
                muscleGroups: ['legs', 'glutes', 'core']
            },
            5: { // Friday
                type: 'Cross Training',
                focus: 'Functional fitness & conditioning',
                intensity: 'Medium-High',
                muscleGroups: ['full-body']
            },
            6: { // Saturday
                type: 'HIIT',
                focus: 'Metabolic conditioning',
                intensity: 'High',
                muscleGroups: ['full-body']
            }
        };
        
        const exerciseDatabase = {
            warmup: [
                { name: 'Jumping Jacks', duration: 2, description: 'Full body dynamic warm-up', tips: 'Keep a steady rhythm and land softly on your feet' , video: 'https://www.youtube.com/watch?v=iSSAk4XCsRA' },
                { name: 'Arm Circles & Shoulder Rolls', duration: 2, description: 'Dynamic shoulder mobility', tips: 'Make large circles, both forward and backward' , video: 'https://www.youtube.com/watch?v=L1rKFAZnUYM' },
                { name: 'Leg Swings', duration: 1, description: 'Hip mobility and activation', tips: 'Swing each leg forward/back and side to side' , video: 'https://www.youtube.com/watch?v=4aoFzJSrNzE' },
                { name: 'Inchworms', duration: 2, description: 'Full body mobility', tips: 'Walk hands out to plank, walk feet to hands' , video: 'https://www.youtube.com/watch?v=CJwImFNvGhg' },
                { name: 'Bodyweight Squats', duration: 2, description: 'Lower body activation', tips: 'Full range of motion, controlled tempo' }
            ],
            
            // HIIT Exercises (Monday & Saturday - Full Body)
            hiit: [
                { name: 'Dumbbell Burpee Clean and Press', duration: 3, reps: '30 sec work / 30 sec rest', description: 'Full body explosive HIIT with dumbbells', tips: 'Burpee with dumbbells, clean to shoulders, press overhead', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=YaXPRqUwItQ' , video: 'https://www.youtube.com/watch?v=6JYPJ3T5MsY' },
                { name: 'Barbell Thrusters', duration: 3, reps: '30 sec work / 30 sec rest', description: 'High intensity squat to press', tips: 'Explosive squat, drive barbell overhead without pause', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=L219ltL15zk' },
                { name: 'Dumbbell Squat Jumps', duration: 3, reps: '30 sec work / 30 sec rest', description: 'Weighted explosive lower body power', tips: 'Hold light dumbbells at sides, land softly, explode up', muscleGroups: ['legs', 'glutes'] , video: 'https://www.youtube.com/watch?v=W5bvS2zdH-c' },
                { name: 'Kettlebell Swings (HIIT Pace)', duration: 3, reps: '40 sec work / 20 sec rest', description: 'High intensity hip power', tips: 'Explosive hip snap, maximum pace, tight core', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=YSxHifyI6s8' },
                { name: 'Dumbbell Alternating Snatches', duration: 3, reps: '40 sec work / 20 sec rest', description: 'Single arm explosive power', tips: 'Pull dumbbell from ground to overhead, alternate arms rapidly', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=T6KbfD0eHCU' },
                { name: 'Barbell or Dumbbell Push Press', duration: 3, reps: '30 sec work / 30 sec rest', description: 'Upper body explosive power', tips: 'Dip knees, drive weight overhead explosively', muscleGroups: ['shoulders', 'legs'] , video: 'https://www.youtube.com/watch?v=iaBVSJm78ko' },
                { name: 'Dumbbell Man Makers (Fast Pace)', duration: 4, reps: '20 sec work / 40 sec rest', description: 'Ultimate weighted HIIT movement', tips: 'Burpee + row + clean + press. Maximum intensity', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=bdT_EJu2wFU' },
                { name: 'Barbell High Pulls', duration: 3, reps: '40 sec work / 20 sec rest', description: 'Explosive pulling power', tips: 'Pull bar to chest height, elbows high, fast tempo', muscleGroups: ['back', 'shoulders'] , video: 'https://www.youtube.com/watch?v=LfT_HyPUqGI' },
                { name: 'Dumbbell Devil Press', duration: 3, reps: '20 sec work / 40 sec rest', description: 'Advanced weighted burpee variation', tips: 'Burpee with dumbbells, swing to overhead in one motion', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=czLhvRaWPlk' },
                { name: 'Kettlebell Goblet Jump Squats', duration: 3, reps: '30 sec work / 30 sec rest', description: 'Weighted plyometric legs', tips: 'Hold kettlebell at chest, jump explosively', muscleGroups: ['legs', 'glutes'] , video: 'https://www.youtube.com/watch?v=U91qsRtNtFE' },
                { name: 'Burpees (Bodyweight)', duration: 3, reps: '40 sec work / 20 sec rest', description: 'Classic HIIT bodyweight movement', tips: 'Maximum speed, full extension, chest to ground', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=JZQA08SlJnM' },
                { name: 'Mountain Climbers', duration: 3, reps: '40 sec work / 20 sec rest', description: 'High intensity core and cardio', tips: 'Drive knees fast, maintain plank position', muscleGroups: ['core', 'shoulders'] }
            ],
            
            // Upper Body Strength (Tuesday)
            strengthUpper: [
                { name: 'Barbell Bench Press', duration: 4, reps: '4 sets of 8-10 reps', description: 'Primary chest builder with barbell', tips: 'Lower bar to chest, press explosively, keep feet planted', muscleGroups: ['chest', 'triceps', 'shoulders'] , video: 'https://www.youtube.com/watch?v=nmwgirgXLYM' , video: 'https://www.youtube.com/watch?v=rT7DgCr-3pg' },
                { name: 'Dumbbell Rows', duration: 4, reps: '4 sets of 10-12 per arm', description: 'Unilateral back strength', tips: 'Support on bench, pull dumbbell to hip, squeeze shoulder blade', muscleGroups: ['back', 'biceps'] , video: 'https://www.youtube.com/watch?v=pYcpY20QaE8' },
                { name: 'Barbell Overhead Press', duration: 4, reps: '4 sets of 8 reps', description: 'Shoulder mass and strength builder', tips: 'Press bar from shoulders overhead, tight core throughout', muscleGroups: ['shoulders', 'triceps'] , video: 'https://www.youtube.com/watch?v=_RlRDWO2jfg' },
                { name: 'Dumbbell Incline Press', duration: 4, reps: '3 sets of 10-12 reps', description: 'Upper chest development', tips: 'Bench at 30-45, press dumbbells up and together', muscleGroups: ['chest', 'shoulders'] , video: 'https://www.youtube.com/watch?v=8iPEnn-ltC8' },
                { name: 'Barbell or Dumbbell Curls', duration: 3, reps: '3 sets of 12 reps', description: 'Bicep isolation and growth', tips: 'Keep elbows stationary, full range of motion, control the negative', muscleGroups: ['biceps'] , video: 'https://www.youtube.com/watch?v=ykJmrZ5v0Oo' },
                { name: 'Dumbbell Shoulder Press', duration: 4, reps: '3 sets of 10 reps', description: 'Shoulder strength and stability', tips: 'Press dumbbells overhead, palms forward or neutral grip', muscleGroups: ['shoulders'] , video: 'https://www.youtube.com/watch?v=qEwKCR5JCog' },
                { name: 'Cable or Dumbbell Tricep Extensions', duration: 3, reps: '3 sets of 12-15 reps', description: 'Tricep isolation', tips: 'Keep upper arms still, extend at elbow only', muscleGroups: ['triceps'] },
                { name: 'Pull-ups or Lat Pulldowns', duration: 4, reps: '3 sets of 8-10 reps', description: 'Vertical pulling strength', tips: 'Pull chest to bar or bar to chest, full extension at bottom', muscleGroups: ['back', 'biceps'] }
            ],
            
            // Lower Body Strength (Thursday)
            strengthLower: [
                { name: 'Barbell Back Squats', duration: 4, reps: '4 sets of 8-10 reps', description: 'King of lower body exercises', tips: 'Bar on upper back, squat to parallel or below, drive through heels', muscleGroups: ['legs', 'glutes'] , video: 'https://www.youtube.com/watch?v=eGo4IYlbE5g' , video: 'https://www.youtube.com/watch?v=ultWZbUMPL8' },
                { name: 'Barbell Romanian Deadlifts', duration: 4, reps: '4 sets of 10 reps', description: 'Hamstring and glute developer', tips: 'Hip hinge, slight knee bend, lower bar to mid-shin', muscleGroups: ['hamstrings', 'glutes'] },
                { name: 'Dumbbell Walking Lunges', duration: 4, reps: '3 sets of 10 per leg', description: 'Unilateral leg strength with dumbbells', tips: 'Dumbbells at sides, long stride, knee doesn\'t pass toes', muscleGroups: ['legs', 'glutes'] , video: 'https://www.youtube.com/watch?v=D7KaRcUTQeE' },
                { name: 'Leg Press Machine', duration: 4, reps: '4 sets of 12-15 reps', description: 'Quad-dominant leg builder', tips: 'Feet shoulder-width, push through full foot, controlled descent', muscleGroups: ['legs', 'glutes'] },
                { name: 'Dumbbell Bulgarian Split Squats', duration: 4, reps: '3 sets of 10 per leg', description: 'Single leg strength with dumbbells', tips: 'Back foot elevated, dumbbell in each hand, vertical torso', muscleGroups: ['legs', 'glutes'] , video: 'https://www.youtube.com/watch?v=2C-uNgKwPLE' },
                { name: 'Barbell Hip Thrusts', duration: 3, reps: '3 sets of 12-15 reps', description: 'Maximum glute activation', tips: 'Upper back on bench, barbell on hips, squeeze glutes at top', muscleGroups: ['glutes', 'hamstrings'] },
                { name: 'Weighted Plank or Ab Wheel', duration: 3, reps: '3 sets of 30-45 sec', description: 'Advanced core strength', tips: 'Add weight plate on back or use ab wheel with control', muscleGroups: ['core'] },
                { name: 'Cable or Dumbbell Woodchops', duration: 3, reps: '3 sets of 12 per side', description: 'Rotational core strength', tips: 'Rotate through torso, keep arms relatively straight', muscleGroups: ['core', 'obliques'] }
            ],
            
            // Cross Training (Friday - Full Body Functional)
            crosstraining: [
                { name: 'Barbell or Dumbbell Thrusters', duration: 4, reps: '12-15 reps', description: 'Full body compound movement', tips: 'Squat with weight, drive up and press overhead in one motion', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=pAplQXk3dkU' },
                { name: 'Kettlebell Swings', duration: 3, reps: '15-20 swings', description: 'Power endurance with kettlebell', tips: 'Hip hinge, explosive hip drive, kettlebell to shoulder height', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=YSxHifyI6s8' },
                { name: 'Dumbbell Man Makers', duration: 4, reps: '8-10 reps', description: 'Ultimate full body movement', tips: 'Burpee + renegade row + squat clean + press. Total body burner', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=bdT_EJu2wFU' },
                { name: 'Barbell Clean and Press', duration: 4, reps: '8-10 reps', description: 'Olympic lift variation for power', tips: 'Clean bar to shoulders, then press overhead. Explosive movement', muscleGroups: ['full-body'] },
                { name: 'Dumbbell Snatches', duration: 3, reps: '10 per arm', description: 'Single arm power movement', tips: 'Explosively pull dumbbell from ground to overhead in one motion', muscleGroups: ['full-body'] },
                { name: 'Sandbag or Dumbbell Carries', duration: 3, reps: '40-50 meters', description: 'Loaded carry for total body strength', tips: 'Farmer carry, overhead carry, or bear hug carry', muscleGroups: ['full-body'] },
                { name: 'Medicine Ball Slams', duration: 3, reps: '15 reps', description: 'Full body explosive power', tips: 'Reach high with med ball, slam down hard, athletic stance', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=l30OxyJKwFI' },
                { name: 'Kettlebell Turkish Get-Ups', duration: 4, reps: '5 per side', description: 'Total body strength and coordination', tips: 'Move slowly, keep kettlebell overhead, control each position', muscleGroups: ['full-body'] },
                { name: 'Barbell Complexes', duration: 4, reps: '6-8 reps each movement', description: 'Multiple exercises without putting bar down', tips: 'Example: deadlift, row, clean, press, squat - all in sequence', muscleGroups: ['full-body'] , video: 'https://www.youtube.com/watch?v=CQm_8Baxz2c' },
                { name: 'Dumbbell Box Step-Ups', duration: 3, reps: '12 per leg', description: 'Weighted single leg power', tips: 'Hold dumbbells, step up explosively, drive through heel', muscleGroups: ['legs', 'glutes'] }
            ],
            
            // Recovery & Stretching (Wednesday & Sunday)
            stretching: [
                { name: 'Deep Breathing & Meditation', duration: 3, description: 'Mental recovery and breath work', tips: 'Focus on slow, deep breaths. Clear your mind' },
                { name: 'Cat-Cow Stretch', duration: 2, description: 'Spinal mobility and flexibility', tips: 'Move slowly between arched and rounded back positions' , video: 'https://www.youtube.com/watch?v=kqnua4rHVVA' },
                { name: 'World\'s Greatest Stretch', duration: 3, description: 'Full body dynamic mobility', tips: 'Lunge position with rotation, hold and breathe deeply' },
                { name: 'Pigeon Pose', duration: 3, description: 'Deep hip opener', tips: 'Hold each side for 90 seconds, breathe through discomfort' , video: 'https://www.youtube.com/watch?v=0_zTKaEHeu8' },
                { name: 'Seated Forward Fold', duration: 2, description: 'Hamstring and lower back stretch', tips: 'Reach for toes, keep back straight, hold the stretch' },
                { name: 'Thread the Needle', duration: 2, description: 'Shoulder and upper back mobility', tips: 'Thread arm under body, feel stretch in shoulder' },
                { name: 'Couch Stretch', duration: 3, description: 'Hip flexor deep stretch', tips: 'Back knee against wall, drive hips forward gently' , video: 'https://www.youtube.com/watch?v=vLYuV3RQ0_E' },
                { name: 'Chest Opener on Foam Roller', duration: 2, description: 'Thoracic spine and chest stretch', tips: 'Lie on roller, arms out wide, breathe deeply' },
                { name: 'Frog Stretch', duration: 3, description: 'Inner thigh and hip mobility', tips: 'Knees wide, slowly sink hips back, hold position' , video: 'https://www.youtube.com/watch?v=Hs4slWVvGkk' },
                { name: 'Supine Twist', duration: 2, description: 'Spinal rotation and release', tips: 'Knees fall to one side, shoulders flat, hold each side' , video: 'https://www.youtube.com/watch?v=Gj4NChDr1GA' },
                { name: 'Standing Quad Stretch', duration: 2, description: 'Front of leg flexibility', tips: 'Pull heel to glutes, hold for 60 seconds each leg' , video: 'https://www.youtube.com/watch?v=k_Jd7V9tjjo' },
                { name: 'Downward Dog', duration: 2, description: 'Full body stretch and recovery', tips: 'Press heels toward ground, straighten legs gradually' , video: 'https://www.youtube.com/watch?v=h0-gDoGRMcw' },
                { name: 'Child\'s Pose', duration: 3, description: 'Restorative full body relaxation', tips: 'Sink hips to heels, reach arms forward, breathe deeply' },
                { name: 'Shoulder Rolls & Neck Stretches', duration: 2, description: 'Upper body tension release', tips: 'Gentle circles, hold neck stretches for 30 seconds' }
            ],
            
            cooldown: [
                { name: 'Walk and Breathe', duration: 2, description: 'Active recovery to lower heart rate', tips: 'Deep breaths, slow pace, let heart rate come down' , video: 'https://www.youtube.com/watch?v=L1rKFAZnUYM' , video: 'https://www.youtube.com/watch?v=Jyy0ra2WcQQ' },
                { name: 'Standing Quad Stretch', duration: 1, description: 'Front of leg flexibility', tips: 'Hold ankle, pull heel to glutes, keep knees together' , video: 'https://www.youtube.com/watch?v=k_Jd7V9tjjo' },
                { name: 'Hamstring Stretch', duration: 1, description: 'Posterior chain flexibility', tips: 'Reach toward toes, keep back straight' , video: 'https://www.youtube.com/watch?v=D1XvVxHhwAo' },
                { name: 'Hip Flexor Stretch', duration: 1, description: 'Hip mobility and flexibility', tips: 'Lunge position, drive hips forward gently' , video: 'https://www.youtube.com/watch?v=aIVn7x96o9k' },
                { name: 'Shoulder & Chest Stretch', duration: 1, description: 'Upper body flexibility', tips: 'Hands behind back, open chest, pull shoulders back' , video: 'https://www.youtube.com/watch?v=bjYH9BLt9yw' },
                { name: 'Child\'s Pose', duration: 2, description: 'Full body relaxation stretch', tips: 'Sink hips to heels, reach arms forward, breathe deeply' },
                { name: 'Spinal Twist', duration: 1, description: 'Back and core mobility', tips: 'Seated or lying, gentle twist to each side' }
            ]
        };

        // Seeded random number generator for consistent daily workouts
        function seededRandom(seed) {
            const x = Math.sin(seed++) * 10000;
            return x - Math.floor(x);
        }

        function getDailySeed() {
            const today = new Date();
            return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
        }

        function shuffleArray(array, seed) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(seededRandom(seed + i) * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Build a schedule array from the user's workout mix
        function buildScheduleFromMix(mix, totalDays) {
            const schedule = [];
            const types = ['hiit', 'upper-strength', 'lower-strength', 'cross-training', 'recovery'];
            
            // Add each type the specified number of times
            types.forEach(type => {
                const count = mix[type] || 0;
                for (let i = 0; i < count; i++) {
                    schedule.push(type);
                }
            });
            
            // If schedule is shorter than totalDays, fill with recovery
            while (schedule.length < totalDays) {
                schedule.push('recovery');
            }
            
            // Simple distribution: just return the schedule as-is
            // The order will be: hiit days, upper days, lower days, cross days, recovery days
            // This is predictable and won't cause any issues
            return schedule.slice(0, totalDays);
        }

        function generateWorkout() {
            const seed = getDailySeed();
            const today = new Date();
            const dayOfWeek = today.getDay(); // 0 = Sunday, 1 = Monday, etc.
            const dayOfMonth = today.getDate(); // 1-31
            
            // Determine workout type based on plan type
            let workoutType;
            let workoutFocus;
            let actualDayOfWeek = dayOfWeek;
            
            const typeMapping = {
                'hiit': { type: 'HIIT', focus: 'Full body high intensity' },
                'upper-strength': { type: 'Strength', focus: 'Upper body push & pull', dayOverride: 2 },
                'lower-strength': { type: 'Strength', focus: 'Lower body & core', dayOverride: 4 },
                'cross-training': { type: 'Cross Training', focus: 'Functional fitness & conditioning' },
                'recovery': { type: 'Recovery & Stretching', focus: 'Full body mobility and flexibility' }
            };
            
            if (workoutPreferences.planType === 'single' && workoutPreferences.singleWorkoutType) {
                // Single day - use selected type
                const selectedType = typeMapping[workoutPreferences.singleWorkoutType];
                workoutType = selectedType.type;
                workoutFocus = selectedType.focus;
                if (selectedType.dayOverride) {
                    actualDayOfWeek = selectedType.dayOverride;
                }
            } else if (workoutPreferences.planType === 'weekly' || workoutPreferences.planType === 'monthly') {
                // Weekly or monthly plan - use the user's custom mix
                const mix = workoutPreferences.workoutMix;
                const totalDays = workoutPreferences.planType === 'weekly' ? 7 : 30;
                
                // Check if mix has any values
                const mixTotal = Object.values(mix).reduce((a,b) => a+b, 0);
                
                if (mixTotal === totalDays) {
                    // Build a schedule based on the mix
                    const schedule = buildScheduleFromMix(mix, totalDays);
                    
                    // Get today's position in the plan
                    const planDay = workoutPreferences.planType === 'weekly' ? dayOfWeek : (dayOfMonth - 1) % 30;
                    const todayType = schedule[planDay] || 'recovery';
                    
                    const selectedType = typeMapping[todayType];
                    workoutType = selectedType.type;
                    workoutFocus = selectedType.focus;
                    if (selectedType.dayOverride) {
                        actualDayOfWeek = selectedType.dayOverride;
                    }
                    
                    // Store the schedule for display
                    workoutPreferences.currentSchedule = schedule;
                } else {
                    // Mix not complete, use default
                    const defaultSchedule = weeklySchedule[dayOfWeek];
                    workoutType = defaultSchedule.type;
                    workoutFocus = defaultSchedule.focus;
                }
            } else {
                // Fallback to default schedule (planType is 'single' but no type selected, or unknown planType)
                const defaultSchedule = weeklySchedule[dayOfWeek];
                workoutType = defaultSchedule.type;
                workoutFocus = defaultSchedule.focus;
            }
            
            // Get adjusted durations
            const durations = adjustWorkoutDuration();
            
            let workout = [];
            let totalTime = 0;

            // Stretching days - different structure
            if (workoutType === 'Recovery & Stretching') {
                // Light warmup
                const lightWarmup = [
                    { name: 'Gentle Walking', duration: 2, description: 'Easy pace to warm up', tips: 'Start slow, gradually increase pace slightly', category: 'Warm-up' , video: 'https://www.youtube.com/watch?v=RpFU-Z7AjP4' },
                    { name: 'Arm Swings', duration: 1, description: 'Dynamic shoulder mobility', tips: 'Gentle swinging motions, loosen shoulders', category: 'Warm-up' }
                ];
                lightWarmup.forEach(ex => {
                    workout.push(ex);
                    totalTime += ex.duration;
                });

                // Main stretching session
                const stretchingExercises = shuffleArray(exerciseDatabase.stretching, seed);
                let stretchTime = 0;
                const stretchDuration = durations.main;
                stretchingExercises.forEach(exercise => {
                    if (stretchTime < stretchDuration) {
                        workout.push({ ...exercise, category: 'Recovery Stretch' });
                        totalTime += exercise.duration;
                        stretchTime += exercise.duration;
                    }
                });

                // Relaxation cooldown
                workout.push({
                    name: 'Savasana / Final Relaxation',
                    duration: durations.cooldown,
                    description: 'Complete body relaxation',
                    tips: 'Lie flat, close eyes, focus on breathing and letting go of tension',
                    category: 'Cool-down'
                });
                totalTime += durations.cooldown;

                return {
                    exercises: workout,
                    totalTime,
                    workoutType,
                    workoutFocus,
                    dayName: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][dayOfWeek],
                    weekInfo: getWeekInfo(dayOfWeek)
                };
            }

            // Regular workout days - Warmup
            const warmupExercises = shuffleArray(exerciseDatabase.warmup, seed);
            let warmupTime = 0;
            warmupExercises.forEach(exercise => {
                if (warmupTime < durations.warmup) {
                    workout.push({ ...exercise, category: 'Warm-up' });
                    totalTime += exercise.duration;
                    warmupTime += exercise.duration;
                }
            });

            // Main workout - based on day of week
            let mainWorkout = [];
            let mainTime = 0;
            
            if (workoutType === 'HIIT') {
                // HIIT Full Body
                let hiitExercises = shuffleArray(exerciseDatabase.hiit, seed + 1);
                hiitExercises = filterExercisesByPreferences(hiitExercises);
                const numExercises = durations.main <= 15 ? 4 : durations.main >= 35 ? 8 : 6;
                const selectedExercises = hiitExercises.slice(0, numExercises);
                
                // Do rounds based on duration
                const rounds = durations.main <= 15 ? 3 : 4;
                for (let round = 1; round <= rounds; round++) {
                    selectedExercises.forEach((exercise) => {
                        if (mainTime < durations.main) {
                            const adjustedExercise = adjustExerciseDifficulty(exercise);
                            mainWorkout.push({ 
                                ...adjustedExercise, 
                                category: `HIIT - Round ${round}`,
                                roundInfo: `Round ${round} of ${rounds}`
                            });
                            mainTime += adjustedExercise.duration;
                        }
                    });
                }
            } else if (workoutType === 'Strength' && (actualDayOfWeek === 2 || workoutFocus.includes('Upper'))) {
                // Upper Body Strength
                let upperExercises = shuffleArray(exerciseDatabase.strengthUpper, seed + 2);
                upperExercises = filterExercisesByPreferences(upperExercises);
                upperExercises.forEach(exercise => {
                    if (mainTime < durations.main) {
                        const adjustedExercise = adjustExerciseDifficulty(exercise);
                        mainWorkout.push({ ...adjustedExercise, category: 'Upper Body Strength' });
                        mainTime += adjustedExercise.duration;
                    }
                });
            } else if (workoutType === 'Strength' && (actualDayOfWeek === 4 || workoutFocus.includes('Lower'))) {
                // Lower Body & Core Strength
                let lowerExercises = shuffleArray(exerciseDatabase.strengthLower, seed + 3);
                lowerExercises = filterExercisesByPreferences(lowerExercises);
                lowerExercises.forEach(exercise => {
                    if (mainTime < durations.main) {
                        const adjustedExercise = adjustExerciseDifficulty(exercise);
                        mainWorkout.push({ ...adjustedExercise, category: 'Lower Body & Core' });
                        mainTime += adjustedExercise.duration;
                    }
                });
            } else if (workoutType === 'Strength') {
                // Generic Strength - alternate between upper and lower based on seed
                const isUpper = seed % 2 === 0;
                let exercises = shuffleArray(isUpper ? exerciseDatabase.strengthUpper : exerciseDatabase.strengthLower, seed + 2);
                exercises = filterExercisesByPreferences(exercises);
                exercises.forEach(exercise => {
                    if (mainTime < durations.main) {
                        const adjustedExercise = adjustExerciseDifficulty(exercise);
                        mainWorkout.push({ ...adjustedExercise, category: isUpper ? 'Upper Body Strength' : 'Lower Body & Core' });
                        mainTime += adjustedExercise.duration;
                    }
                });
            } else if (workoutType === 'Cross Training') {
                // Friday - Cross Training
                let crossExercises = shuffleArray(exerciseDatabase.crosstraining, seed + 4);
                crossExercises = filterExercisesByPreferences(crossExercises);
                crossExercises.forEach(exercise => {
                    if (mainTime < durations.main) {
                        const adjustedExercise = adjustExerciseDifficulty(exercise);
                        mainWorkout.push({ ...adjustedExercise, category: 'Cross Training' });
                        mainTime += adjustedExercise.duration;
                    }
                });
            }

            workout = workout.concat(mainWorkout);
            totalTime += mainTime;

            // Cooldown
            const cooldownExercises = shuffleArray(exerciseDatabase.cooldown, seed + 5);
            let cooldownTime = 0;
            cooldownExercises.forEach(exercise => {
                if (cooldownTime < durations.cooldown) {
                    workout.push({ ...exercise, category: 'Cool-down' });
                    totalTime += exercise.duration;
                    cooldownTime += exercise.duration;
                }
            });

            return { 
                exercises: workout, 
                totalTime,
                workoutType,
                workoutFocus: workoutFocus,
                dayName: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][dayOfWeek],
                weekInfo: getWeekInfo(dayOfWeek)
            };
        }

        function getWeekInfo(currentDay) {
            const daysOfWeek = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            
            const typeMapping = {
                'hiit': { type: 'HIIT', focus: 'Full body high intensity' },
                'upper-strength': { type: 'Strength', focus: 'Upper body push & pull' },
                'lower-strength': { type: 'Strength', focus: 'Lower body & core' },
                'cross-training': { type: 'Cross Training', focus: 'Functional fitness' },
                'recovery': { type: 'Recovery & Stretching', focus: 'Mobility and flexibility' }
            };
            
            // Use custom schedule if available
            if (workoutPreferences.planType === 'weekly' && workoutPreferences.currentSchedule) {
                return daysOfWeek.map((day, index) => {
                    const scheduleType = workoutPreferences.currentSchedule[index] || 'recovery';
                    const mapped = typeMapping[scheduleType];
                    return {
                        day,
                        type: mapped.type,
                        isCurrent: index === currentDay,
                        focus: mapped.focus
                    };
                });
            }
            
            // Fallback to default schedule
            return daysOfWeek.map((day, index) => ({
                day,
                type: weeklySchedule[index].type,
                isCurrent: index === currentDay,
                focus: weeklySchedule[index].focus
            }));
        }

        function displayWorkout(workout) {
            const container = document.getElementById('workoutContainer');
            
            // Get workout type badge color
            const typeColors = {
                'HIIT': 'var(--energy-orange)',
                'Strength': 'var(--vibrant-cyan)',
                'Cross Training': 'var(--electric-yellow)',
                'Recovery & Stretching': '#9B59B6'
            };

            // Create weekly schedule display
            const weekScheduleHtml = `
                <div style="background: rgba(255, 255, 255, 0.05); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border: 1px solid rgba(255, 255, 255, 0.1);">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.4rem; letter-spacing: 0.08em; margin-bottom: 1rem; color: var(--electric-yellow);">Weekly Training Schedule</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 0.75rem;">
                        ${workout.weekInfo.map(dayInfo => `
                            <div style="
                                background: ${dayInfo.isCurrent ? 'linear-gradient(135deg, var(--energy-orange), #FF8C42)' : 'rgba(255, 255, 255, 0.03)'};
                                padding: 0.75rem 0.5rem;
                                border-radius: 8px;
                                text-align: center;
                                border: ${dayInfo.isCurrent ? '2px solid var(--electric-yellow)' : '1px solid rgba(255, 255, 255, 0.1)'};
                                ${dayInfo.isCurrent ? 'box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);' : ''}
                            ">
                                <div style="font-weight: 700; font-size: 0.9rem; margin-bottom: 0.3rem; ${dayInfo.isCurrent ? 'color: white;' : 'color: rgba(255, 255, 255, 0.9);'}">${dayInfo.day}</div>
                                <div style="font-size: 0.65rem; ${dayInfo.isCurrent ? 'color: rgba(255, 255, 255, 0.95);' : 'color: rgba(255, 255, 255, 0.5);'} text-transform: uppercase; letter-spacing: 0.05em;">
                                    ${dayInfo.type === 'Recovery & Stretching' ? ' Recovery' : 
                                      dayInfo.type === 'HIIT' ? ' HIIT' : 
                                      dayInfo.type === 'Strength' ? ' Strength' : 
                                      ' Cross'}
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            let html = `
                ${weekScheduleHtml}
                <div class="workout-summary">
                    <div style="display: inline-block; background: ${typeColors[workout.workoutType]}; color: var(--deep-charcoal); padding: 0.5rem 1.5rem; border-radius: 50px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 1rem;">
                        ${workout.dayName} - ${workout.workoutType}
                    </div>
                    <h2>${workout.workoutFocus}</h2>
                    
                    <!-- Preferences Display -->
                    <div style="background: rgba(156, 39, 176, 0.15); padding: 1rem; border-radius: 8px; margin: 1.5rem 0; border: 1px solid rgba(156, 39, 176, 0.3);">
                        <div style="display: flex; flex-wrap: wrap; gap: 0.75rem; align-items: center;">
                            <span style="font-size: 0.85rem; color: rgba(255, 255, 255, 0.7);"></span>
                            <span style="font-size: 0.85rem; background: rgba(255, 255, 255, 0.1); padding: 0.25rem 0.75rem; border-radius: 20px;">${workoutPreferences.duration} min</span>
                            <span style="font-size: 0.85rem; background: rgba(255, 255, 255, 0.1); padding: 0.25rem 0.75rem; border-radius: 20px; text-transform: capitalize;">${workoutPreferences.difficulty}</span>
                            <span style="font-size: 0.85rem; background: rgba(255, 255, 255, 0.1); padding: 0.25rem 0.75rem; border-radius: 20px; text-transform: capitalize;">${workoutPreferences.equipment.replace('-', ' ')}</span>
                            ${workoutPreferences.injuries.length > 0 ? `<span style="font-size: 0.85rem; background: rgba(255, 107, 53, 0.2); padding: 0.25rem 0.75rem; border-radius: 20px;"> ${workoutPreferences.injuries.length} modification${workoutPreferences.injuries.length > 1 ? 's' : ''}</span>` : ''}
                            <button onclick="showPreferencesModal()" style="margin-left: auto; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.3); color: white; padding: 0.4rem 1rem; border-radius: 20px; cursor: pointer; font-size: 0.85rem;">Change</button>
                        </div>
                    </div>
                    
                    <div class="summary-grid">
                        <div class="summary-item">
                            <div class="summary-label">Total Time</div>
                            <div class="summary-value">${workout.totalTime} MIN</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Exercises</div>
                            <div class="summary-value">${workout.exercises.length}</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Focus</div>
                            <div class="summary-value" style="font-size: 1.1rem; text-transform: uppercase;">
                                ${workout.workoutType === 'Recovery & Stretching' ? 'Recovery' : workout.workoutType}
                            </div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-label">Intensity</div>
                            <div class="summary-value" style="font-size: 1.5rem;">
                                ${workout.workoutType === 'HIIT' ? '' : 
                                  workout.workoutType === 'Strength' ? '' : 
                                  workout.workoutType === 'Cross Training' ? '' : 
                                  ''}
                            </div>
                        </div>
                    </div>
                </div>
            `;

            // Detect if workout has repetitive rounds
            const hasRounds = workout.exercises.some(ex => ex.roundInfo);
            let exercisesToDisplay = workout.exercises;
            let totalRounds = 1;
            
            if (hasRounds) {
                // Check if rounds are repetitive (same exercises in each round)
                const roundMatch = workout.exercises[0]?.roundInfo?.match(/Round (\d+) of (\d+)/);
                if (roundMatch) {
                    totalRounds = parseInt(roundMatch[2]);
                    
                    // Get exercises from first round only (skip warmup/cooldown)
                    const firstRoundExercises = [];
                    let foundFirstRound = false;
                    
                    for (let ex of workout.exercises) {
                        if (ex.roundInfo) {
                            if (ex.roundInfo.includes('Round 1')) {
                                firstRoundExercises.push(ex);
                                foundFirstRound = true;
                            } else if (foundFirstRound && ex.roundInfo.includes('Round 2')) {
                                break; // Stop when we hit round 2
                            }
                        }
                    }
                    
                    // Check if pattern repeats
                    const exercisesPerRound = firstRoundExercises.length;
                    let isRepetitive = false;
                    
                    if (exercisesPerRound > 0) {
                        // Count how many exercises have roundInfo
                        const roundedExercises = workout.exercises.filter(ex => ex.roundInfo);
                        
                        if (roundedExercises.length === exercisesPerRound * totalRounds) {
                            // Assume repetitive unless we find a difference
                            isRepetitive = true;
                            
                            // Compare exercises across rounds
                            for (let i = 0; i < exercisesPerRound; i++) {
                                const firstExercise = roundedExercises[i];
                                for (let round = 1; round < totalRounds; round++) {
                                    const compareExercise = roundedExercises[i + (round * exercisesPerRound)];
                                    if (!compareExercise || 
                                        firstExercise.name !== compareExercise.name || 
                                        firstExercise.duration !== compareExercise.duration) {
                                        isRepetitive = false;
                                        break;
                                    }
                                }
                                if (!isRepetitive) break;
                            }
                        }
                    }
                    
                    if (isRepetitive) {
                        // Build new exercise list: warmup + first round + cooldown
                        const consolidatedExercises = [];
                        
                        // Add warmup (exercises without roundInfo before first round)
                        for (let ex of workout.exercises) {
                            if (!ex.roundInfo) {
                                consolidatedExercises.push(ex);
                            } else {
                                break; // Stop when we hit first round exercise
                            }
                        }
                        
                        // Add first round exercises only
                        consolidatedExercises.push(...firstRoundExercises);
                        
                        // Add cooldown (exercises without roundInfo after all rounds)
                        const cooldownExercises = [];
                        let afterAllRounds = false;
                        for (let ex of workout.exercises) {
                            if (ex.roundInfo && ex.roundInfo.includes(`Round ${totalRounds}`)) {
                                afterAllRounds = true;
                            } else if (afterAllRounds && !ex.roundInfo) {
                                cooldownExercises.push(ex);
                            }
                        }
                        consolidatedExercises.push(...cooldownExercises);
                        
                        exercisesToDisplay = consolidatedExercises;
                        console.log('Consolidated rounds:', totalRounds, 'exercises per round:', exercisesPerRound);
                    }
                }
            }

            let shownRepeatBanner = false;
            let shownWarmupCard = false;
            let shownCooldownCard = false;
            
            // Pre-collect warm-up and cool-down exercises for consolidation
            const warmupExercises = exercisesToDisplay.filter(ex => ex.category === 'Warm-up');
            const cooldownExercises = exercisesToDisplay.filter(ex => ex.category === 'Cool-down');
            const mainExercises = exercisesToDisplay.filter(ex => ex.category !== 'Warm-up' && ex.category !== 'Cool-down');
            
            // Render consolidated warm-up card first
            if (warmupExercises.length > 0) {
                const totalWarmupDuration = warmupExercises.reduce((sum, ex) => sum + ex.duration, 0);
                html += `
                    <div class="exercise-block exercise-card" style="animation-delay: 0s; border-left: 4px solid #4CAF50;">
                        <div class="exercise-header">
                            <div>
                                <div style="font-size: 0.9rem; color: #4CAF50; font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.1em;">
                                     WARM-UP
                                </div>
                                <h4 class="exercise-name">Dynamic Warm-Up Sequence</h4>
                            </div>
                            <div class="exercise-duration">${totalWarmupDuration} MIN</div>
                        </div>
                        <div class="exercise-description">Prepare your body for the workout ahead</div>
                        
                        <div style="margin-top: 1rem; display: grid; gap: 0.75rem;">
                            ${warmupExercises.map((ex, i) => `
                                <div style="background: rgba(76, 175, 80, 0.1); padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid rgba(76, 175, 80, 0.2); display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: white;">${i + 1}. ${ex.name}</div>
                                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.25rem;">${ex.description}</div>
                                    </div>
                                    <div style="font-size: 0.85rem; color: #4CAF50; font-weight: 600; white-space: nowrap; margin-left: 1rem;">${ex.duration} min</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="exercise-tips" style="margin-top: 1rem;">
                            <div class="tips-title"> Pro Tip</div>
                            <div>Take your time with each movement. A proper warm-up reduces injury risk and improves performance.</div>
                        </div>
                        <div class="timer-bar"></div>
                    </div>
                `;
            }
            
            // Render main exercises
            mainExercises.forEach((exercise, index) => {
                // Show REPEAT banner before first round exercise (if repetitive rounds exist)
                if (!shownRepeatBanner && exercise.roundInfo && exercise.roundInfo.includes('Round 1') && totalRounds > 1) {
                    shownRepeatBanner = true;
                    html += `
                        <div style="
                            background: var(--card-bg);
                            padding: 2rem;
                            border-radius: 20px;
                            margin: 1.5rem 0;
                            border: 1px solid var(--border-color);
                            text-align: center;
                            position: relative;
                            overflow: hidden;
                            box-shadow: 0 4px 24px rgba(255, 107, 53, 0.2);
                        ">
                            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, rgba(255, 107, 53, 0.08), rgba(247, 201, 72, 0.08)); pointer-events: none;"></div>
                            <div style="position: relative; z-index: 1;">
                                <div style="display: inline-flex; align-items: center; gap: 0.75rem; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); padding: 0.75rem 2rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 4px 16px rgba(255, 107, 53, 0.3);">
                                    <span style="font-size: 1.5rem;"></span>
                                    <span style="font-size: 1.25rem; font-weight: 700; color: white; font-family: 'Clash Grotesk', sans-serif; letter-spacing: 0.05em;">
                                        REPEAT ${totalRounds} TIMES
                                    </span>
                                    <span style="font-size: 1.5rem;"></span>
                                </div>
                                <div style="font-size: 0.95rem; color: var(--text-secondary); margin-top: 0.75rem; font-weight: 500;">
                                    Complete the circuit below ${totalRounds} times total
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                const repsInfo = exercise.reps ? `
                    <div style="background: rgba(247, 201, 72, 0.15); padding: 0.75rem; border-radius: 8px; margin-top: 1rem; border: 1px solid rgba(247, 201, 72, 0.3);">
                        <div style="font-weight: 700; color: var(--electric-yellow); margin-bottom: 0.3rem; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em;">Target</div>
                        <div style="color: rgba(255, 255, 255, 0.9);">${exercise.reps}</div>
                    </div>
                ` : '';

                // Performance tracking for non-stretching exercises
                const performanceTracking = exercise.category !== 'Recovery Stretch' && exercise.category !== 'Warm-up' && exercise.category !== 'Cool-down' ? `
                    <div style="background: rgba(0, 217, 255, 0.1); padding: 1rem; border-radius: 8px; margin-top: 1rem; border: 1px solid rgba(0, 217, 255, 0.3);">
                        <div style="font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 0.75rem; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.1em;"> Track Performance</div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.75rem;">
                            <div>
                                <label style="display: block; font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 0.3rem;">Reps/Time</label>
                                <input type="text" class="perf-input" data-exercise="${exercise.name}" data-field="reps" placeholder="e.g., 15" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; color: white; font-size: 0.9rem;">
                            </div>
                            <div>
                                <label style="display: block; font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 0.3rem;">Weight/Level</label>
                                <input type="text" class="perf-input" data-exercise="${exercise.name}" data-field="weight" placeholder="e.g., 20lbs" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; color: white; font-size: 0.9rem;">
                            </div>
                        </div>
                        <div style="margin-top: 0.75rem;">
                            <label style="display: block; font-size: 0.8rem; color: rgba(255, 255, 255, 0.7); margin-bottom: 0.3rem;">Notes</label>
                            <input type="text" class="perf-input" data-exercise="${exercise.name}" data-field="notes" placeholder="How did it feel?" style="width: 100%; padding: 0.5rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 6px; color: white; font-size: 0.9rem;">
                        </div>
                        <button onclick="savePerformance('${exercise.name}')" style="margin-top: 0.75rem; background: var(--vibrant-cyan); color: var(--deep-charcoal); border: none; padding: 0.5rem 1rem; border-radius: 6px; font-weight: 700; font-size: 0.85rem; cursor: pointer; width: 100%; text-transform: uppercase; letter-spacing: 0.05em;">Save</button>
                        <div id="history-${exercise.name.replace(/\s+/g, '-')}" style="margin-top: 0.75rem; font-size: 0.8rem; color: rgba(255, 255, 255, 0.6);"></div>
                    </div>
                ` : '';

                html += `
                    <div class="exercise-block exercise-card" data-exercise="${exercise.name}" style="animation-delay: ${index * 0.05}s">
                        <div class="exercise-header">
                            <div>
                                <div style="font-size: 0.9rem; color: var(--electric-yellow); font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.1em;">
                                    ${exercise.category}
                                </div>
                                <h4 class="exercise-name">${exercise.name}</h4>
                            </div>
                            <div class="exercise-duration">${exercise.duration} MIN</div>
                        </div>
                        <div class="exercise-description">${exercise.description}</div>
                        
                        <!-- Action Buttons Row -->
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin: 1rem 0;">
                            <a href="https://www.google.com/search?q=${encodeURIComponent(exercise.name + ' proper form video')}" target="_blank" style="
                                display: inline-flex;
                                align-items: center;
                                gap: 0.4rem;
                                background: linear-gradient(135deg, #4285F4, #34A853);
                                color: white;
                                padding: 0.5rem 0.75rem;
                                border-radius: 6px;
                                text-decoration: none;
                                font-weight: 600;
                                font-size: 0.75rem;
                                transition: all 0.3s;
                            ">
                                 Form Video
                            </a>
                            ${exercise.category !== 'Warm-up' && exercise.category !== 'Cool-down' && exercise.category !== 'Recovery Stretch' ? `
                                <button onclick="startRestTimer(60)" style="display: inline-flex; align-items: center; gap: 0.4rem; background: rgba(0, 217, 255, 0.2); border: 1px solid var(--vibrant-cyan); color: var(--vibrant-cyan); padding: 0.5rem 0.75rem; border-radius: 6px; font-weight: 600; font-size: 0.75rem; cursor: pointer;">
                                     Rest 60s
                                </button>
                                <button onclick="startRestTimer(90)" style="display: inline-flex; align-items: center; gap: 0.4rem; background: rgba(0, 217, 255, 0.1); border: 1px solid rgba(0, 217, 255, 0.5); color: var(--vibrant-cyan); padding: 0.5rem 0.75rem; border-radius: 6px; font-weight: 600; font-size: 0.75rem; cursor: pointer;">
                                     Rest 90s
                                </button>
                                <button onclick="showSubstitutionModal('${exercise.name}')" style="display: inline-flex; align-items: center; gap: 0.4rem; background: rgba(156, 39, 176, 0.2); border: 1px solid #9C27B0; color: #CE93D8; padding: 0.5rem 0.75rem; border-radius: 6px; font-weight: 600; font-size: 0.75rem; cursor: pointer;">
                                     Swap
                                </button>
                            ` : ''}
                        </div>
                        
                        ${repsInfo}
                        <div class="exercise-tips">
                            <div class="tips-title"> Pro Tip</div>
                            <div>${exercise.tips}</div>
                        </div>
                        ${performanceTracking}
                        <div class="timer-bar"></div>
                    </div>
                `;
            });
            
            // Render consolidated cool-down card at the end
            if (cooldownExercises.length > 0) {
                const totalCooldownDuration = cooldownExercises.reduce((sum, ex) => sum + ex.duration, 0);
                html += `
                    <div class="exercise-block exercise-card" style="animation-delay: 0.5s; border-left: 4px solid #2196F3;">
                        <div class="exercise-header">
                            <div>
                                <div style="font-size: 0.9rem; color: #2196F3; font-weight: 600; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.1em;">
                                     COOL-DOWN
                                </div>
                                <h4 class="exercise-name">Recovery & Stretching Sequence</h4>
                            </div>
                            <div class="exercise-duration">${totalCooldownDuration} MIN</div>
                        </div>
                        <div class="exercise-description">Help your body recover and prevent soreness</div>
                        
                        <div style="margin-top: 1rem; display: grid; gap: 0.75rem;">
                            ${cooldownExercises.map((ex, i) => `
                                <div style="background: rgba(33, 150, 243, 0.1); padding: 0.75rem 1rem; border-radius: 8px; border: 1px solid rgba(33, 150, 243, 0.2); display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-weight: 600; color: white;">${i + 1}. ${ex.name}</div>
                                        <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.25rem;">${ex.description}</div>
                                    </div>
                                    <div style="font-size: 0.85rem; color: #2196F3; font-weight: 600; white-space: nowrap; margin-left: 1rem;">${ex.duration} min</div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="exercise-tips" style="margin-top: 1rem;">
                            <div class="tips-title"> Pro Tip</div>
                            <div>Hold each stretch for 30-60 seconds. Breathe deeply and relax into each position.</div>
                        </div>
                        <div class="timer-bar"></div>
                    </div>
                `;
            }

            container.innerHTML = html;
            container.classList.remove('hidden');
            container.style.opacity = '0';
            
            setTimeout(() => {
                container.style.animation = 'fadeInUp 0.8s ease-out forwards';
                
                // Add complete workout button with notes
                const completeBtn = document.createElement('div');
                completeBtn.style.cssText = 'text-align: center; margin-top: 2rem;';
                completeBtn.innerHTML = `
                    <div style="display: flex; flex-wrap: wrap; gap: 1rem; justify-content: center; margin-bottom: 1rem;">
                        <button onclick="showWorkoutNotesModal()" style="background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.75rem 1.5rem; font-size: 0.9rem; font-weight: 600; cursor: pointer; border-radius: 8px;">
                             Add Notes
                        </button>
                        <button onclick="showWarmupCustomization()" style="background: rgba(156, 39, 176, 0.2); color: #CE93D8; border: 1px solid #9C27B0; padding: 0.75rem 1.5rem; font-size: 0.9rem; font-weight: 600; cursor: pointer; border-radius: 8px;">
                             Customize Warm-up/Cool-down
                        </button>
                    </div>
                    <button onclick="markWorkoutComplete()" style="background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; padding: 1.25rem 3rem; font-size: 1.2rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; border-radius: 8px; box-shadow: 0 10px 30px rgba(76, 175, 80, 0.4); font-family: 'Archivo', sans-serif;">
                        <span style="position: relative; z-index: 1;"> Mark Workout Complete</span>
                    </button>
                `;
                container.appendChild(completeBtn);
            }, 100);
        }

        // Save exercise performance
        window.savePerformance = async function(exerciseName) {
            const inputs = document.querySelectorAll(`[data-exercise="${exerciseName}"]`);
            const perfData = {
                date: new Date().toISOString(),
                reps: '',
                weight: '',
                notes: ''
            };
            
            inputs.forEach(input => {
                const field = input.dataset.field;
                perfData[field] = input.value;
            });
            
            if (perfData.reps || perfData.weight || perfData.notes) {
                await saveExercisePerformance(exerciseName, perfData);
                
                // Show confirmation
                const historyDiv = document.getElementById(`history-${exerciseName.replace(/\s+/g, '-')}`);
                if (historyDiv) {
                    historyDiv.innerHTML = ' Saved! Keep crushing it!';
                    historyDiv.style.color = 'var(--electric-yellow)';
                    setTimeout(() => {
                        loadExerciseHistory(exerciseName);
                    }, 1500);
                }
            }
        }

        // Load exercise history
        async function loadExerciseHistory(exerciseName) {
            const history = await getExerciseHistory(exerciseName, 3);
            const historyDiv = document.getElementById(`history-${exerciseName.replace(/\s+/g, '-')}`);
            if (historyDiv && history.length > 0) {
                const lastEntry = history[0];
                historyDiv.innerHTML = `Last: ${lastEntry.reps || 'N/A'} ${lastEntry.weight ? `@ ${lastEntry.weight}` : ''}`;
                historyDiv.style.color = 'rgba(255, 255, 255, 0.6)';
            }
        }

        // Mark workout complete
        window.markWorkoutComplete = async function() {
            const workoutData = currentWorkout;
            const workoutId = await saveWorkoutCompletion(workoutData);
            
            if (workoutId) {
                // Check for new achievements
                await checkAndAwardAchievements();
                
                // Show share modal
                showWorkoutShareModal(workoutId, workoutData);
            }
        }

        // Show modal to share workout with caption
        function showWorkoutShareModal(workoutId, workoutData) {
            const typeEmoji = workoutData.workoutType === 'HIIT' ? '' : 
                             workoutData.workoutType === 'Strength' ? '' : 
                             workoutData.workoutType === 'Cross Training' ? '' : '';
            
            const modal = document.createElement('div');
            modal.id = 'shareModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); z-index: 10000; display: flex; align-items: center; justify-content: center; padding: 1rem; animation: fadeIn 0.3s; overflow-y: auto;';
            modal.innerHTML = `
                <div style="background: var(--card-bg); border-radius: 20px; padding: 2rem; max-width: 500px; width: 100%; border: 2px solid var(--energy-orange); box-shadow: 0 20px 60px rgba(255, 107, 53, 0.3);">
                    <div style="text-align: center; margin-bottom: 1.5rem;">
                        <div style="font-size: 4rem; margin-bottom: 0.5rem;"></div>
                        <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2rem; color: var(--electric-yellow); letter-spacing: 0.05em;">WORKOUT COMPLETE!</h2>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.05); padding: 1.25rem; border-radius: 12px; margin-bottom: 1.5rem;">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2.5rem;">${typeEmoji}</span>
                            <div>
                                <div style="font-weight: 700; color: var(--pure-white); font-size: 1.2rem;">${workoutData.workoutType}</div>
                                <div style="color: rgba(255,255,255,0.6);">${workoutData.dayName}  ${workoutData.totalTime} minutes  ${workoutData.exercises.length} exercises</div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; font-weight: 600; color: var(--vibrant-cyan); margin-bottom: 0.5rem;">Share how you're feeling! (optional)</label>
                        <textarea id="workoutCaption" placeholder="Crushed it today!  Feeling stronger every day..." style="width: 100%; padding: 0.875rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 10px; color: white; font-size: 1rem; resize: vertical; min-height: 80px; font-family: inherit;"></textarea>
                    </div>
                    
                    <!-- Social Share Options -->
                    <div style="margin-bottom: 1.5rem;">
                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 0.75rem; text-align: center;">Share to social media</div>
                        <div style="display: flex; justify-content: center; gap: 0.75rem;">
                            <button onclick="shareWorkoutToSocial('twitter')" style="background: #1DA1F2; color: white; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 1.2rem; cursor: pointer;" title="Twitter/X"></button>
                            <button onclick="shareWorkoutToSocial('facebook')" style="background: #4267B2; color: white; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 1.2rem; cursor: pointer;" title="Facebook">f</button>
                            <button onclick="shareWorkoutToSocial('instagram')" style="background: linear-gradient(45deg, #f09433, #e6683c, #dc2743); color: white; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 1.2rem; cursor: pointer;" title="Instagram"></button>
                            <button onclick="shareWorkoutToSocial('native')" style="background: rgba(255,255,255,0.2); color: white; border: none; width: 44px; height: 44px; border-radius: 50%; font-size: 1.2rem; cursor: pointer;" title="More"></button>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="shareWorkout('${workoutId}')" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; border-radius: 10px; font-weight: 700; font-size: 1rem; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em;">
                             Share to Feed
                        </button>
                        <button onclick="skipShare('${workoutId}')" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.3); padding: 1rem 1.5rem; border-radius: 10px; font-weight: 600; cursor: pointer;">
                            Skip
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        window.shareWorkout = async function(workoutId) {
            const caption = document.getElementById('workoutCaption')?.value || '';
            
            try {
                const workoutRef = doc(db, 'workouts', workoutId);
                await updateDoc(workoutRef, {
                    caption: caption,
                    sharedAt: new Date().toISOString()
                });
            } catch (error) {
                console.error('Error updating caption:', error);
            }
            
            closeShareModal();
            showSuccessToast('Workout shared! Your friends can now cheer you on! ');
        }

        window.skipShare = function(workoutId) {
            closeShareModal();
            showSuccessToast('Workout saved! Keep up the great work! ');
        }

        function closeShareModal() {
            const modal = document.getElementById('shareModal');
            if (modal) modal.remove();
        }

        function showSuccessToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = 'position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%); background: linear-gradient(135deg, #4CAF50, #45a049); color: white; padding: 1rem 2rem; border-radius: 12px; font-weight: 600; z-index: 10001; box-shadow: 0 8px 30px rgba(76, 175, 80, 0.4); animation: slideUp 0.4s, fadeOut 0.4s 2.6s;';
            toast.innerHTML = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        // Display stats and history
        async function displayStats() {
            const container = document.getElementById('statsContainer');
            const stats = await getStats();
            const history = await getWorkoutHistory(30);

            const workoutTypeBreakdown = Object.entries(stats.workoutTypes)
                .map(([type, count]) => `
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--vibrant-cyan);">${count}</div>
                        <div style="font-size: 0.85rem; color: rgba(255, 255, 255, 0.7); margin-top: 0.3rem;">${type}</div>
                    </div>
                `).join('');

            const recentWorkouts = history.slice(0, 10).map(w => {
                const date = new Date(w.date);
                const typeEmoji = w.workoutType === 'HIIT' ? '' : 
                                 w.workoutType === 'Strength' ? '' : 
                                 w.workoutType === 'Cross Training' ? '' : '';
                return `
                    <div style="background: rgba(255, 255, 255, 0.05); padding: 1rem; border-radius: 8px; border-left: 4px solid var(--energy-orange); margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.5rem;">
                            <div>
                                <div style="font-weight: 700; color: var(--pure-white);">${typeEmoji} ${w.workoutType}</div>
                                <div style="font-size: 0.85rem; color: rgba(255, 255, 255, 0.6); margin-top: 0.2rem;">${w.dayName} - ${w.totalTime} minutes</div>
                            </div>
                            <div style="font-size: 0.85rem; color: var(--electric-yellow);">
                                ${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            let html = `
                <div style="animation: fadeInUp 0.8s ease-out;">
                    <div class="workout-summary">
                        <h2>Your Progress & Stats</h2>
                        <div class="summary-grid">
                            <div class="summary-item">
                                <div class="summary-label">Total Workouts</div>
                                <div class="summary-value">${stats.totalWorkouts}</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Last 7 Days</div>
                                <div class="summary-value">${stats.last7Days}</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Total Minutes</div>
                                <div class="summary-value">${stats.totalMinutes}</div>
                            </div>
                            <div class="summary-item">
                                <div class="summary-label">Current Streak</div>
                                <div class="summary-value" style="color: var(--electric-yellow);"> ${calculateStreak(history)}</div>
                            </div>
                        </div>
                    </div>

                    ${stats.totalWorkouts > 0 ? `
                        <div class="workout-summary" style="margin-top: 2rem;">
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: var(--vibrant-cyan);">Workout Type Breakdown</h3>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
                                ${workoutTypeBreakdown}
                            </div>
                        </div>

                        <div class="workout-summary" style="margin-top: 2rem;">
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: var(--vibrant-cyan);">Recent Workouts</h3>
                            ${recentWorkouts}
                        </div>
                    ` : `
                        <div style="text-align: center; padding: 3rem; color: rgba(255, 255, 255, 0.6);">
                            <p style="font-size: 1.2rem; margin-bottom: 1rem;">No workouts recorded yet!</p>
                            <p>Complete your first workout to start tracking your progress.</p>
                        </div>
                    `}

                    <div style="text-align: center; margin-top: 2rem;">
                        <button onclick="hideStats()" style="background: var(--slate); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem 2rem; font-size: 1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; border-radius: 8px; font-family: 'Archivo', sans-serif;">
                            Back to Workout
                        </button>
                    </div>
                </div>
            `;

            container.innerHTML = html;
            container.classList.remove('hidden');
            
            // Hide workout and social containers
            document.getElementById('workoutContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
        }

        function calculateStreak(history) {
            if (history.length === 0) return 0;
            
            let streak = 0;
            const sortedHistory = history.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            for (let i = 0; i < sortedHistory.length; i++) {
                const workoutDate = new Date(sortedHistory[i].date);
                const expectedDate = new Date();
                expectedDate.setDate(expectedDate.getDate() - i);
                
                // Check if workout is from expected date (or within same day)
                if (workoutDate.toDateString() === expectedDate.toDateString()) {
                    streak++;
                } else {
                    break;
                }
            }
            
            return streak;
        }

        window.hideStats = function() {
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('workoutContainer').classList.remove('hidden');
        }

        // Leaderboard Functions
        async function getLeaderboardData(period = 'all-time') {
            try {
                const workoutsRef = collection(db, 'workouts');
                let q;
                
                if (period === 'week') {
                    const weekAgo = new Date();
                    weekAgo.setDate(weekAgo.getDate() - 7);
                    q = query(
                        workoutsRef,
                        where('date', '>=', weekAgo.toISOString()),
                        orderBy('date', 'desc')
                    );
                } else if (period === 'month') {
                    const monthAgo = new Date();
                    monthAgo.setDate(monthAgo.getDate() - 30);
                    q = query(
                        workoutsRef,
                        where('date', '>=', monthAgo.toISOString()),
                        orderBy('date', 'desc')
                    );
                } else {
                    // All time
                    q = query(workoutsRef, orderBy('date', 'desc'));
                }
                
                const querySnapshot = await getDocs(q);
                const workouts = querySnapshot.docs.map(doc => doc.data());
                
                // Aggregate by user
                const userStats = {};
                workouts.forEach(workout => {
                    if (!userStats[workout.userId]) {
                        userStats[workout.userId] = {
                            userId: workout.userId,
                            displayName: workout.displayName || workout.username || 'Anonymous Camper',
                            photoURL: workout.photoURL || '',
                            totalWorkouts: 0,
                            totalMinutes: 0,
                            workoutTypes: {}
                        };
                    }
                    
                    userStats[workout.userId].totalWorkouts++;
                    userStats[workout.userId].totalMinutes += workout.totalTime || 0;
                    
                    const type = workout.workoutType || 'Other';
                    userStats[workout.userId].workoutTypes[type] = 
                        (userStats[workout.userId].workoutTypes[type] || 0) + 1;
                });
                
                // Convert to array and sort by total workouts
                const leaderboard = Object.values(userStats)
                    .sort((a, b) => b.totalWorkouts - a.totalWorkouts)
                    .slice(0, 50); // Top 50
                
                console.log(`Leaderboard (${period}):`, leaderboard);
                return leaderboard;
            } catch (error) {
                console.error('Error getting leaderboard:', error);
                return [];
            }
        }

        async function displayLeaderboard() {
            const container = document.getElementById('leaderboardContainer');
            
            // Hide other containers
            document.getElementById('workoutContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            container.classList.remove('hidden');
            
            // Default to all-time leaderboard
            let currentPeriod = 'all-time';
            
            async function renderLeaderboard(period) {
                currentPeriod = period;
                const leaderboard = await getLeaderboardData(period);
                
                // Find current user's rank
                const currentUserRank = leaderboard.findIndex(u => u.userId === currentUser.id) + 1;
                
                const periodLabels = {
                    'week': 'This Week',
                    'month': 'This Month',
                    'all-time': 'All Time'
                };
                
                let html = `
                    <div style="animation: fadeInUp 0.8s ease-out;">
                        <div class="workout-summary">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;">
                                <h2 style="margin: 0;"> Camp Hope Leaderboard</h2>
                                <button onclick="hideLeaderboard()" style="background: rgba(255, 255, 255, 0.1); border: 2px solid var(--energy-orange); color: white; padding: 0.5rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                     Back to Workout
                                </button>
                            </div>
                            
                            <!-- Period Selector -->
                            <div style="display: flex; gap: 0.5rem; margin-bottom: 2rem; justify-content: center; flex-wrap: wrap;">
                                <button class="period-btn" data-period="week" style="padding: 0.75rem 1.5rem; background: ${period === 'week' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${period === 'week' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                                     This Week
                                </button>
                                <button class="period-btn" data-period="month" style="padding: 0.75rem 1.5rem; background: ${period === 'month' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${period === 'month' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                                     This Month
                                </button>
                                <button class="period-btn" data-period="all-time" style="padding: 0.75rem 1.5rem; background: ${period === 'all-time' ? 'var(--energy-orange)' : 'rgba(255, 255, 255, 0.1)'}; border: 2px solid ${period === 'all-time' ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)'}; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                                     All Time
                                </button>
                            </div>
                            
                            ${currentUserRank > 0 ? `
                                <div style="background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(247, 201, 72, 0.2)); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; border: 2px solid var(--energy-orange);">
                                    <div style="font-size: 1.1rem; font-weight: 700; color: var(--electric-yellow); margin-bottom: 0.5rem;">
                                        Your Rank: #${currentUserRank} 
                                    </div>
                                    <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.8);">
                                        ${leaderboard[currentUserRank - 1].totalWorkouts} workouts  ${leaderboard[currentUserRank - 1].totalMinutes} minutes
                                    </div>
                                </div>
                            ` : ''}
                            
                            <div style="font-size: 1.2rem; font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 1.5rem; text-align: center;">
                                ${periodLabels[period]} Rankings
                            </div>
                `;
                
                if (leaderboard.length === 0) {
                    html += `
                        <div style="text-align: center; padding: 3rem; color: rgba(255, 255, 255, 0.6);">
                            <div style="font-size: 3rem; margin-bottom: 1rem;"></div>
                            <div style="font-size: 1.2rem; margin-bottom: 0.5rem;">No campers on the board yet!</div>
                            <div style="font-size: 0.9rem;">Be the first to complete a workout and claim the top spot!</div>
                        </div>
                    `;
                } else {
                    leaderboard.forEach((user, index) => {
                        const rank = index + 1;
                        const isCurrentUser = user.userId === currentUser.id;
                        const medal = rank === 1 ? '' : rank === 2 ? '' : rank === 3 ? '' : `#${rank}`;
                        
                        // Get most common workout type
                        const topType = Object.entries(user.workoutTypes)
                            .sort((a, b) => b[1] - a[1])[0];
                        const typeEmoji = topType ? (
                            topType[0].includes('HIIT') ? '' :
                            topType[0].includes('Strength') ? '' :
                            topType[0].includes('Cross') ? '' : ''
                        ) : '';
                        
                        html += `
                            <div style="
                                background: ${isCurrentUser ? 'linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 184, 212, 0.2))' : 'rgba(255, 255, 255, 0.05)'};
                                padding: 1.25rem;
                                border-radius: 12px;
                                margin-bottom: 1rem;
                                border: 2px solid ${isCurrentUser ? 'var(--vibrant-cyan)' : 'rgba(255, 255, 255, 0.1)'};
                                transition: all 0.3s;
                            " onmouseover="this.style.transform='translateX(5px)'" onmouseout="this.style.transform=''">
                                <div style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
                                    <div style="
                                        font-size: 1.5rem;
                                        font-weight: 700;
                                        min-width: 50px;
                                        text-align: center;
                                        color: ${rank <= 3 ? 'var(--electric-yellow)' : 'var(--vibrant-cyan)'};
                                    ">
                                        ${medal}
                                    </div>
                                    ${user.photoURL ? `
                                        <img src="${user.photoURL}" alt="${user.displayName}" style="width: 50px; height: 50px; border-radius: 50%; border: 2px solid ${isCurrentUser ? 'var(--vibrant-cyan)' : 'var(--energy-orange)'};">
                                    ` : `
                                        <div style="width: 50px; height: 50px; border-radius: 50%; background: var(--energy-orange); display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.5rem;">
                                            ${user.displayName.charAt(0).toUpperCase()}
                                        </div>
                                    `}
                                    <div style="flex: 1; min-width: 200px;">
                                        <div style="font-weight: 700; font-size: 1.1rem; color: ${isCurrentUser ? 'var(--vibrant-cyan)' : 'var(--pure-white)'};">
                                            ${user.displayName} ${isCurrentUser ? '(You!)' : ''}
                                        </div>
                                        <div style="display: flex; gap: 1.5rem; margin-top: 0.5rem; flex-wrap: wrap;">
                                            <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                                                <span style="color: var(--electric-yellow); font-weight: 600;">${user.totalWorkouts}</span> workouts
                                            </div>
                                            <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                                                <span style="color: var(--energy-orange); font-weight: 600;">${user.totalMinutes}</span> minutes
                                            </div>
                                            <div style="font-size: 0.9rem; color: rgba(255, 255, 255, 0.7);">
                                                ${typeEmoji} ${topType ? topType[0] : 'Mixed'}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                }
                
                html += `
                        </div>
                    </div>
                `;
                
                container.innerHTML = html;
                
                // Add period button event listeners
                container.querySelectorAll('.period-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        renderLeaderboard(btn.dataset.period);
                    });
                });
            }
            
            // Initial render
            renderLeaderboard(currentPeriod);
        }

        window.hideLeaderboard = function() {
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('workoutContainer').classList.remove('hidden');
        }

        // Social Feed Functions
        async function displaySocialFeed() {
            const container = document.getElementById('socialContainer');
            const friends = await getFriendProfiles();
            const activity = await getAllActivity(30);
            const notifications = await getNotifications(10);
            const unreadCount = notifications.filter(n => !n.read).length;

            // Generate activity cards with kudos and comments
            const activityCards = activity.map(act => {
                const date = new Date(act.date);
                const typeEmoji = act.workoutType === 'HIIT' ? '' : 
                                 act.workoutType === 'Strength' ? '' : 
                                 act.workoutType === 'Cross Training' ? '' : '';
                const timeAgo = getTimeAgo(date);
                const workoutId = act.id || act.docId || `${act.userId}_${act.date?.split('T')[0]}`;
                const kudos = act.kudos || [];
                const comments = act.comments || [];
                const hasGivenKudos = kudos.some(k => k.userId === currentUser.id);
                const isOwnWorkout = act.userId === currentUser.id;
                
                // Generate kudos avatars (show first 5)
                const kudosAvatars = kudos.slice(0, 5).map(k => 
                    `<img src="${k.photoURL || ''}" title="${k.displayName}" style="width: 24px; height: 24px; border-radius: 50%; border: 2px solid var(--card-bg); margin-left: -8px; object-fit: cover; background: rgba(255,255,255,0.1);">`
                ).join('');
                
                // Generate comments HTML
                const commentsHtml = comments.slice(0, 3).map(c => {
                    const commentTimeAgo = getTimeAgo(new Date(c.timestamp));
                    const canDelete = c.userId === currentUser.id || isOwnWorkout;
                    return `
                        <div style="display: flex; gap: 0.75rem; padding: 0.75rem 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <img src="${c.photoURL || ''}" style="width: 32px; height: 32px; border-radius: 50%; flex-shrink: 0; cursor: pointer; object-fit: cover; background: rgba(255,255,255,0.1);" onclick="viewUserProfile('${c.userId}')">
                            <div style="flex: 1; min-width: 0;">
                                <div style="display: flex; justify-content: space-between; align-items: start; gap: 0.5rem;">
                                    <div>
                                        <span style="font-weight: 600; color: var(--pure-white); cursor: pointer;" onclick="viewUserProfile('${c.userId}')">${c.displayName}</span>
                                        <span style="color: var(--text-secondary); font-size: 0.8rem; margin-left: 0.5rem;">${commentTimeAgo}</span>
                                    </div>
                                    ${canDelete ? `<button onclick="deleteComment('${workoutId}', '${c.id}')" style="background: none; border: none; color: rgba(255,255,255,0.3); cursor: pointer; font-size: 0.75rem; padding: 0.2rem;"></button>` : ''}
                                </div>
                                <div style="color: rgba(255,255,255,0.85); font-size: 0.9rem; margin-top: 0.2rem; word-wrap: break-word;">${c.text}</div>
                            </div>
                        </div>
                    `;
                }).join('');

                return `
                    <div style="background: var(--card-bg); border-radius: 16px; border: 1px solid var(--border-color); margin-bottom: 1.25rem; overflow: hidden;">
                        <!-- Header -->
                        <div style="padding: 1rem 1.25rem; display: flex; align-items: center; gap: 0.875rem;">
                            <img src="${act.photoURL || ''}" style="width: 48px; height: 48px; border-radius: 50%; cursor: pointer; object-fit: cover; background: rgba(255,255,255,0.1);" onclick="viewUserProfile('${act.userId}')">
                            <div style="flex: 1;">
                                <div style="font-weight: 700; color: var(--pure-white); cursor: pointer;" onclick="viewUserProfile('${act.userId}')">${act.displayName}</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">${timeAgo}</div>
                            </div>
                            ${isOwnWorkout ? '<div style="background: rgba(255,107,53,0.2); padding: 0.25rem 0.6rem; border-radius: 4px; font-size: 0.75rem; color: var(--energy-orange); font-weight: 600;">YOU</div>' : ''}
                        </div>
                        
                        <!-- Workout Card -->
                        <div style="padding: 0 1.25rem;">
                            <div style="background: linear-gradient(135deg, rgba(255,107,53,0.1), rgba(247,201,72,0.05)); padding: 1.25rem; border-radius: 12px; border: 1px solid rgba(255,107,53,0.2);">
                                <div style="display: flex; align-items: center; gap: 1rem;">
                                    <div style="width: 56px; height: 56px; background: linear-gradient(135deg, var(--energy-orange), var(--electric-yellow)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.75rem;">
                                        ${typeEmoji}
                                    </div>
                                    <div style="flex: 1;">
                                        <div style="font-weight: 700; color: var(--pure-white); font-size: 1.1rem;">${act.workoutType} Workout</div>
                                        <div style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 0.2rem;">
                                            ${act.dayName}  ${act.totalTime} minutes  ${act.exercisesCompleted || 0} exercises
                                        </div>
                                    </div>
                                </div>
                                ${act.caption ? `
                                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1);">
                                        <div style="color: rgba(255,255,255,0.9); font-size: 0.95rem; line-height: 1.5;">"${act.caption}"</div>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                        
                        <!-- Social Stats Bar -->
                        <div style="padding: 0.75rem 1.25rem; display: flex; align-items: center; gap: 1rem; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            ${kudos.length > 0 ? `
                                <div style="display: flex; align-items: center; cursor: pointer;" onclick='showKudosList(${JSON.stringify(kudos).replace(/'/g, "\\'")})'>
                                    <div style="display: flex; margin-right: 0.5rem; padding-left: 8px;">
                                        ${kudosAvatars}
                                    </div>
                                    <span style="color: var(--text-secondary); font-size: 0.85rem;">${kudos.length} kudos</span>
                                </div>
                            ` : ''}
                            ${comments.length > 0 ? `
                                <span style="color: var(--text-secondary); font-size: 0.85rem;">${comments.length} comment${comments.length !== 1 ? 's' : ''}</span>
                            ` : ''}
                        </div>
                        
                        <!-- Action Buttons -->
                        <div style="padding: 0.5rem 1.25rem; display: flex; gap: 0.5rem; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <button onclick="giveKudos('${workoutId}')" style="flex: 1; background: ${hasGivenKudos ? 'rgba(255, 107, 53, 0.2)' : 'rgba(255,255,255,0.05)'}; border: ${hasGivenKudos ? '2px solid var(--energy-orange)' : '1px solid rgba(255,255,255,0.1)'}; color: ${hasGivenKudos ? 'var(--energy-orange)' : 'rgba(255,255,255,0.8)'}; padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem; transition: all 0.2s;">
                                <span style="font-size: 1.2rem;">${hasGivenKudos ? '' : ''}</span>
                                <span>${hasGivenKudos ? 'Kudos Given!' : 'Give Kudos'}</span>
                            </button>
                            <button onclick="document.getElementById('comment-input-${workoutId}').focus()" style="flex: 1; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: rgba(255,255,255,0.8); padding: 0.75rem; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                                <span style="font-size: 1.2rem;"></span>
                                <span>Comment</span>
                            </button>
                        </div>
                        
                        <!-- Comments Section -->
                        ${comments.length > 0 ? `
                            <div style="padding: 0 1.25rem;">
                                ${commentsHtml}
                                ${comments.length > 3 ? `
                                    <button onclick="showAllComments('${workoutId}')" style="width: 100%; background: none; border: none; color: var(--vibrant-cyan); padding: 0.75rem; cursor: pointer; font-weight: 600; font-size: 0.9rem;">
                                        View all ${comments.length} comments
                                    </button>
                                ` : ''}
                            </div>
                        ` : ''}
                        
                        <!-- Add Comment Input -->
                        <div style="padding: 1rem 1.25rem; display: flex; gap: 0.75rem; align-items: center;">
                            <img src="${currentUser.photoURL || ''}" style="width: 36px; height: 36px; border-radius: 50%; flex-shrink: 0; object-fit: cover; background: rgba(255,255,255,0.1);">
                            <div style="flex: 1; display: flex; gap: 0.5rem;">
                                <input type="text" id="comment-input-${workoutId}" placeholder="Add a comment..." style="flex: 1; padding: 0.6rem 1rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); border-radius: 20px; color: white; font-size: 0.9rem;" onkeypress="if(event.key==='Enter')addComment('${workoutId}')">
                                <button onclick="addComment('${workoutId}')" style="background: var(--vibrant-cyan); color: var(--deep-charcoal); border: none; padding: 0.6rem 1rem; border-radius: 20px; font-weight: 700; cursor: pointer; font-size: 0.85rem;">Post</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');

            let html = `
                <div style="animation: fadeInUp 0.8s ease-out;">
                    <!-- Header with Notifications -->
                    <div class="workout-summary" style="background: linear-gradient(135deg, rgba(247, 201, 72, 0.1), rgba(255, 107, 53, 0.1)); border: 2px solid rgba(247, 201, 72, 0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                            <div>
                                <h2 style="margin: 0;"> Activity Feed</h2>
                                <p style="color: var(--text-secondary); margin-top: 0.25rem; font-size: 0.9rem;">See what your friends are up to</p>
                            </div>
                            <div style="display: flex; gap: 0.75rem;">
                                <button onclick="showNotifications()" style="position: relative; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 0.6rem 1rem; border-radius: 8px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 0.5rem;">
                                     Notifications
                                    ${unreadCount > 0 ? `<span style="background: var(--energy-orange); color: white; font-size: 0.7rem; padding: 0.2rem 0.5rem; border-radius: 10px; font-weight: 700;">${unreadCount}</span>` : ''}
                                </button>
                                <button onclick="hideSocial()" style="background: rgba(255, 255, 255, 0.1); border: 2px solid var(--energy-orange); color: white; padding: 0.6rem 1.25rem; border-radius: 8px; cursor: pointer; font-weight: 600;">
                                     Back
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Navigation -->
                    <div style="display: flex; gap: 0.5rem; margin: 1.5rem 0; overflow-x: auto; padding-bottom: 0.5rem;">
                        <button onclick="switchFeedTab('feed')" id="tab-feed" class="feed-tab active" style="background: var(--energy-orange); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 600; cursor: pointer; white-space: nowrap;">
                             Feed
                        </button>
                        <button onclick="switchFeedTab('friends')" id="tab-friends" class="feed-tab" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 600; cursor: pointer; white-space: nowrap;">
                             Friends (${friends.length})
                        </button>
                        <button onclick="switchFeedTab('discover')" id="tab-discover" class="feed-tab" style="background: rgba(255,255,255,0.1); color: white; border: 1px solid rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 600; cursor: pointer; white-space: nowrap;">
                             Find Friends
                        </button>
                    </div>

                    <!-- Feed Tab Content -->
                    <div id="feed-content" class="tab-content">
                        ${activity.length > 0 ? activityCards : `
                            <div style="text-align: center; padding: 3rem; background: rgba(255,255,255,0.03); border-radius: 16px;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;"></div>
                                <div style="font-size: 1.2rem; font-weight: 600; color: var(--pure-white); margin-bottom: 0.5rem;">No activity yet!</div>
                                <div style="color: var(--text-secondary);">Complete a workout or add friends to see activity here.</div>
                            </div>
                        `}
                    </div>

                    <!-- Friends Tab Content -->
                    <div id="friends-content" class="tab-content" style="display: none;">
                        ${friends.length > 0 ? `
                            <div style="display: grid; gap: 1rem;">
                                ${await Promise.all(friends.map(async friend => {
                                    const stats = await getFriendStats(friend.uid || friend.id);
                                    return `
                                        <div style="background: var(--card-bg); padding: 1.25rem; border-radius: 12px; border: 1px solid var(--border-color); cursor: pointer; transition: all 0.2s;" onclick="viewUserProfile('${friend.uid || friend.id}')" onmouseover="this.style.borderColor='var(--energy-orange)'" onmouseout="this.style.borderColor='var(--border-color)'">
                                            <div style="display: flex; align-items: center; gap: 1rem;">
                                                <img src="${friend.photoURL || ''}" style="width: 56px; height: 56px; border-radius: 50%; object-fit: cover; background: rgba(255,255,255,0.1);">
                                                <div style="flex: 1;">
                                                    <div style="font-weight: 700; color: var(--pure-white); font-size: 1.1rem;">${friend.displayName}</div>
                                                    <div style="color: var(--text-secondary); font-size: 0.85rem;">@${friend.email?.split('@')[0] || 'user'}</div>
                                                </div>
                                                ${stats ? `
                                                    <div style="text-align: right;">
                                                        <div style="font-size: 1.3rem; font-weight: 700; color: var(--vibrant-cyan);">${stats.totalWorkouts}</div>
                                                        <div style="font-size: 0.75rem; color: var(--text-secondary);">workouts</div>
                                                    </div>
                                                ` : ''}
                                            </div>
                                            ${stats?.lastWorkout ? `
                                                <div style="margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.85rem; color: var(--text-secondary);">
                                                    Last active: ${new Date(stats.lastWorkout).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                                                </div>
                                            ` : ''}
                                        </div>
                                    `;
                                })).then(items => items.join(''))}
                            </div>
                        ` : `
                            <div style="text-align: center; padding: 3rem; background: rgba(255,255,255,0.03); border-radius: 16px;">
                                <div style="font-size: 4rem; margin-bottom: 1rem;"></div>
                                <div style="font-size: 1.2rem; font-weight: 600; color: var(--pure-white); margin-bottom: 0.5rem;">No friends yet!</div>
                                <div style="color: var(--text-secondary);">Add friends to stay motivated together.</div>
                            </div>
                        `}
                    </div>

                    <!-- Discover Tab Content -->
                    <div id="discover-content" class="tab-content" style="display: none;">
                        <div class="workout-summary">
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.3rem; color: var(--electric-yellow); margin-bottom: 1rem;">Add Friend by Email</h3>
                            <div style="display: flex; gap: 0.75rem;">
                                <input type="email" id="friendUsernameInput" placeholder="Enter their Google email" style="flex: 1; padding: 0.875rem 1rem; background: rgba(255, 255, 255, 0.08); border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 10px; color: white; font-size: 1rem;">
                                <button onclick="addFriendHandler()" style="background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 0.875rem 1.75rem; border-radius: 10px; font-weight: 700; cursor: pointer; white-space: nowrap;">
                                    + Add Friend
                                </button>
                            </div>
                            <div style="margin-top: 1rem; padding: 1rem; background: rgba(0,217,255,0.1); border-radius: 8px; border: 1px solid rgba(0,217,255,0.2);">
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">
                                     <strong style="color: var(--vibrant-cyan);">Tip:</strong> Friends need to have signed in at least once before you can add them. Share the app with them first!
                                </div>
                            </div>
                        </div>
                        
                        <!-- Invite Section -->
                        <div class="workout-summary" style="margin-top: 1.5rem;">
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.3rem; color: var(--vibrant-cyan); margin-bottom: 1rem;"> Invite Friends to Camp Hope</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem;">Share this app with friends to workout together!</p>
                            <button onclick="shareApp()" style="background: linear-gradient(135deg, #25D366, #128C7E); color: white; border: none; padding: 0.875rem 1.75rem; border-radius: 10px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 0.5rem;">
                                 Share App Link
                            </button>
                        </div>
                    </div>
                </div>
            `;

            container.innerHTML = html;
            container.classList.remove('hidden');
            
            // Hide other containers
            document.getElementById('workoutContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
        }

        // Tab switching for social feed
        window.switchFeedTab = function(tab) {
            // Update tab buttons
            document.querySelectorAll('.feed-tab').forEach(btn => {
                btn.style.background = 'rgba(255,255,255,0.1)';
                btn.style.border = '1px solid rgba(255,255,255,0.2)';
            });
            const activeTab = document.getElementById(`tab-${tab}`);
            if (activeTab) {
                activeTab.style.background = 'var(--energy-orange)';
                activeTab.style.border = 'none';
            }
            
            // Show/hide content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.display = 'none';
            });
            const activeContent = document.getElementById(`${tab}-content`);
            if (activeContent) {
                activeContent.style.display = 'block';
            }
        }

        // Show notifications panel
        window.showNotifications = async function() {
            const notifications = await getNotifications(20);
            
            const modal = document.createElement('div');
            modal.id = 'notificationsModal';
            modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); z-index: 10001; display: flex; align-items: flex-start; justify-content: center; padding: 2rem 1rem; overflow-y: auto;';
            modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
            
            const notificationItems = notifications.length > 0 ? notifications.map(n => {
                const timeAgo = getTimeAgo(new Date(n.timestamp));
                const isUnread = !n.read;
                let icon, message;
                
                if (n.type === 'kudos') {
                    icon = '';
                    message = `<strong>${n.fromDisplayName}</strong> gave kudos to your ${n.workoutType} workout`;
                } else if (n.type === 'comment') {
                    icon = '';
                    message = `<strong>${n.fromDisplayName}</strong> commented: "${n.commentPreview}..."`;
                } else if (n.type === 'follow') {
                    icon = '';
                    message = `<strong>${n.fromDisplayName}</strong> started following you`;
                } else {
                    icon = '';
                    message = 'New notification';
                }
                
                return `
                    <div style="display: flex; gap: 0.75rem; padding: 1rem; background: ${isUnread ? 'rgba(255,107,53,0.1)' : 'transparent'}; border-radius: 8px; margin-bottom: 0.5rem; cursor: pointer; border-left: ${isUnread ? '3px solid var(--energy-orange)' : '3px solid transparent'};" onclick="handleNotificationClick('${n.id}', '${n.fromUserId}')">
                        <div style="width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; flex-shrink: 0;">
                            ${icon}
                        </div>
                        <div style="flex: 1;">
                            <div style="font-size: 0.95rem; color: var(--pure-white);">${message}</div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 0.25rem;">${timeAgo}</div>
                        </div>
                    </div>
                `;
            }).join('') : `
                <div style="text-align: center; padding: 2rem; color: var(--text-secondary);">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                    <div>No notifications yet</div>
                </div>
            `;
            
            modal.innerHTML = `
                <div style="background: var(--card-bg); border-radius: 16px; max-width: 450px; width: 100%; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column;">
                    <div style="padding: 1.25rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.4rem; color: var(--electric-yellow); margin: 0;"> Notifications</h3>
                        <button onclick="document.getElementById('notificationsModal').remove()" style="background: none; border: none; color: white; font-size: 1.3rem; cursor: pointer;"></button>
                    </div>
                    <div style="flex: 1; overflow-y: auto; padding: 0.5rem;">
                        ${notificationItems}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        window.handleNotificationClick = async function(notifId, fromUserId) {
            await markNotificationRead(notifId);
            document.getElementById('notificationsModal')?.remove();
            viewUserProfile(fromUserId);
        }

        // Share app function
        window.shareApp = function() {
            const shareUrl = window.location.href;
            const shareText = "Join me on Camp Hope Fitness!  Track workouts, compete with friends, and crush your fitness goals together!";
            
            if (navigator.share) {
                navigator.share({
                    title: 'Camp Hope Fitness',
                    text: shareText,
                    url: shareUrl
                }).catch(console.error);
            } else {
                // Fallback - copy to clipboard
                navigator.clipboard.writeText(`${shareText}\n\n${shareUrl}`).then(() => {
                    showSuccessToast('Link copied to clipboard! ');
                }).catch(() => {
                    alert(`Share this link with friends:\n\n${shareUrl}`);
                });
            }
        }

        // Show all comments for a workout
        window.showAllComments = async function(workoutId) {
            try {
                const workoutRef = doc(db, 'workouts', workoutId);
                const workoutSnap = await getDoc(workoutRef);
                
                if (!workoutSnap.exists()) return;
                
                const workoutData = workoutSnap.data();
                const comments = workoutData.comments || [];
                
                const modal = document.createElement('div');
                modal.id = 'allCommentsModal';
                modal.style.cssText = 'position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.85); z-index: 10001; display: flex; align-items: center; justify-content: center; padding: 1rem;';
                modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
                
                modal.innerHTML = `
                    <div style="background: var(--card-bg); border-radius: 16px; max-width: 500px; width: 100%; max-height: 80vh; overflow: hidden; display: flex; flex-direction: column;">
                        <div style="padding: 1.25rem; border-bottom: 1px solid var(--border-color); display: flex; justify-content: space-between; align-items: center;">
                            <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.3rem; color: var(--vibrant-cyan); margin: 0;"> Comments (${comments.length})</h3>
                            <button onclick="document.getElementById('allCommentsModal').remove()" style="background: none; border: none; color: white; font-size: 1.3rem; cursor: pointer;"></button>
                        </div>
                        <div style="flex: 1; overflow-y: auto; padding: 1rem;">
                            ${comments.map(c => {
                                const timeAgo = getTimeAgo(new Date(c.timestamp));
                                return `
                                    <div style="display: flex; gap: 0.75rem; padding: 0.75rem 0; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                        <img src="${c.photoURL || ''}" style="width: 40px; height: 40px; border-radius: 50%; flex-shrink: 0; cursor: pointer; object-fit: cover; background: rgba(255,255,255,0.1);" onclick="document.getElementById('allCommentsModal').remove(); viewUserProfile('${c.userId}')">
                                        <div style="flex: 1;">
                                            <div>
                                                <span style="font-weight: 600; color: var(--pure-white);">${c.displayName}</span>
                                                <span style="color: var(--text-secondary); font-size: 0.8rem; margin-left: 0.5rem;">${timeAgo}</span>
                                            </div>
                                            <div style="color: rgba(255,255,255,0.85); font-size: 0.95rem; margin-top: 0.3rem; line-height: 1.4;">${c.text}</div>
                                        </div>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
                document.body.appendChild(modal);
            } catch (error) {
                console.error('Error showing comments:', error);
            }
        }

        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            
            if (seconds < 60) return 'Just now';
            if (seconds < 3600) return `${Math.floor(seconds / 60)}m ago`;
            if (seconds < 86400) return `${Math.floor(seconds / 3600)}h ago`;
            if (seconds < 604800) return `${Math.floor(seconds / 86400)}d ago`;
            return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
        }

        window.addFriendHandler = async function() {
            const friendEmail = document.getElementById('friendUsernameInput').value.trim();
            if (!friendEmail) {
                alert('Please enter an email address');
                return;
            }
            
            const success = await addFriend(friendEmail);
            if (success) {
                alert(`Successfully added ${friendEmail} as a friend!`);
                displaySocialFeed(); // Refresh
            } else {
                alert('User not found or already friends. Make sure they\'ve signed in at least once!');
            }
        }

        window.hideSocial = function() {
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('workoutContainer').classList.remove('hidden');
        }

        let currentWorkout = null;

        // Generate workout button
        document.getElementById('generateBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            
            const container = document.getElementById('workoutContainer');
            const statsContainer = document.getElementById('statsContainer');
            const socialContainer = document.getElementById('socialContainer');
            const profileContainer = document.getElementById('profileContainer');
            const leaderboardContainer = document.getElementById('leaderboardContainer');
            
            // Hide stats, social, profile, and leaderboard if showing
            statsContainer.classList.add('hidden');
            socialContainer.classList.add('hidden');
            profileContainer.classList.add('hidden');
            leaderboardContainer.classList.add('hidden');
            
            // Show loading
            container.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p style="color: var(--electric-yellow); font-weight: 600; letter-spacing: 0.1em;">GENERATING YOUR WORKOUT...</p>
                </div>
            `;
            container.classList.remove('hidden');
            
            // Simulate loading for effect
            setTimeout(() => {
                const workout = generateWorkout();
                currentWorkout = workout; // Store for completion tracking
                displayWorkout(workout);
                
                // Load exercise histories
                setTimeout(() => {
                    workout.exercises.forEach(exercise => {
                        if (exercise.category !== 'Recovery Stretch' && 
                            exercise.category !== 'Warm-up' && 
                            exercise.category !== 'Cool-down') {
                            loadExerciseHistory(exercise.name);
                        }
                    });
                }, 500);
            }, 1500);
        });

        // View stats button
        document.getElementById('viewStatsBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            displayStats();
        });

        // View leaderboard button
        document.getElementById('viewLeaderboardBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            displayLeaderboard();
        });

        // Customize workout button
        document.getElementById('customizeBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            showPreferencesModal();
        });

        // View social feed button
        document.getElementById('viewSocialBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            displaySocialFeed();
        });

        // View profile button
        document.getElementById('viewProfileBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            displayProfile();
        });

        // ==========================================
        // PROFILE PAGE FUNCTIONALITY
        // ==========================================

        // Get user profile data from Firestore
        async function getProfileData() {
            if (!currentUser) return null;
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                const profileSnap = await getDoc(profileRef);
                
                if (profileSnap.exists()) {
                    return profileSnap.data();
                }
                return {
                    measurements: [],
                    photos: [],
                    strengthRecords: [],
                    goals: {
                        targetWeight: '',
                        targetBodyFat: '',
                        notes: ''
                    }
                };
            } catch (error) {
                console.error('Error getting profile data:', error);
                return null;
            }
        }

        // Save profile data to Firestore
        async function saveProfileData(profileData) {
            if (!currentUser) return false;
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                await setDoc(profileRef, {
                    ...profileData,
                    userId: currentUser.id,
                    updatedAt: new Date().toISOString()
                }, { merge: true });
                return true;
            } catch (error) {
                console.error('Error saving profile data:', error);
                return false;
            }
        }

        // Add new measurement entry
        window.addMeasurement = async function() {
            const profileData = await getProfileData() || { measurements: [] };
            
            const newMeasurement = {
                id: Date.now().toString(),
                date: new Date().toISOString(),
                weight: document.getElementById('measureWeight')?.value || '',
                bodyFat: document.getElementById('measureBodyFat')?.value || '',
                chest: document.getElementById('measureChest')?.value || '',
                waist: document.getElementById('measureWaist')?.value || '',
                hips: document.getElementById('measureHips')?.value || '',
                bicepLeft: document.getElementById('measureBicepLeft')?.value || '',
                bicepRight: document.getElementById('measureBicepRight')?.value || '',
                thighLeft: document.getElementById('measureThighLeft')?.value || '',
                thighRight: document.getElementById('measureThighRight')?.value || '',
                neck: document.getElementById('measureNeck')?.value || '',
                shoulders: document.getElementById('measureShoulders')?.value || ''
            };
            
            // Check if at least one value was entered
            const hasValue = Object.values(newMeasurement).some((v, i) => i > 1 && v !== '');
            if (!hasValue) {
                alert('Please enter at least one measurement');
                return;
            }
            
            profileData.measurements = profileData.measurements || [];
            profileData.measurements.unshift(newMeasurement);
            
            await saveProfileData(profileData);
            displayProfile();
        }

        // Delete measurement
        window.deleteMeasurement = async function(measurementId) {
            if (!confirm('Delete this measurement entry?')) return;
            
            const profileData = await getProfileData();
            if (profileData && profileData.measurements) {
                profileData.measurements = profileData.measurements.filter(m => m.id !== measurementId);
                await saveProfileData(profileData);
                displayProfile();
            }
        }

        // Add strength record
        window.addStrengthRecord = async function() {
            const profileData = await getProfileData() || { strengthRecords: [] };
            
            const exercise = document.getElementById('strengthExercise')?.value?.trim();
            const weight = document.getElementById('strengthWeight')?.value?.trim();
            const reps = document.getElementById('strengthReps')?.value?.trim();
            
            if (!exercise || !weight) {
                alert('Please enter exercise name and weight');
                return;
            }
            
            const newRecord = {
                id: Date.now().toString(),
                date: new Date().toISOString(),
                exercise: exercise,
                weight: weight,
                reps: reps || '1',
                notes: document.getElementById('strengthNotes')?.value || ''
            };
            
            profileData.strengthRecords = profileData.strengthRecords || [];
            profileData.strengthRecords.unshift(newRecord);
            
            await saveProfileData(profileData);
            displayProfile();
        }

        // Delete strength record
        window.deleteStrengthRecord = async function(recordId) {
            if (!confirm('Delete this strength record?')) return;
            
            const profileData = await getProfileData();
            if (profileData && profileData.strengthRecords) {
                profileData.strengthRecords = profileData.strengthRecords.filter(r => r.id !== recordId);
                await saveProfileData(profileData);
                displayProfile();
            }
        }

        // Handle photo upload
        window.handlePhotoUpload = async function(input, photoType) {
            const file = input.files[0];
            if (!file) return;
            
            // Check file size (max 2MB for base64 storage)
            if (file.size > 2 * 1024 * 1024) {
                alert('Photo must be less than 2MB. Please resize or compress the image.');
                return;
            }
            
            // Convert to base64
            const reader = new FileReader();
            reader.onload = async function(e) {
                const profileData = await getProfileData() || { photos: [] };
                
                const newPhoto = {
                    id: Date.now().toString(),
                    date: new Date().toISOString(),
                    type: photoType, // 'before' or 'after' or 'progress'
                    data: e.target.result,
                    notes: ''
                };
                
                profileData.photos = profileData.photos || [];
                profileData.photos.unshift(newPhoto);
                
                await saveProfileData(profileData);
                displayProfile();
            };
            reader.readAsDataURL(file);
        }

        // Delete photo
        window.deletePhoto = async function(photoId) {
            if (!confirm('Delete this photo?')) return;
            
            const profileData = await getProfileData();
            if (profileData && profileData.photos) {
                profileData.photos = profileData.photos.filter(p => p.id !== photoId);
                await saveProfileData(profileData);
                displayProfile();
            }
        }

        // Save goals
        window.saveGoals = async function() {
            const profileData = await getProfileData() || {};
            
            profileData.goals = {
                targetWeight: document.getElementById('goalWeight')?.value || '',
                targetBodyFat: document.getElementById('goalBodyFat')?.value || '',
                notes: document.getElementById('goalNotes')?.value || ''
            };
            
            await saveProfileData(profileData);
            alert('Goals saved!');
        }

        // Generate strength progression chart data
        function getStrengthChartData(records, exerciseName) {
            const exerciseRecords = records
                .filter(r => r.exercise.toLowerCase() === exerciseName.toLowerCase())
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .slice(-12); // Last 12 entries
            
            return exerciseRecords;
        }

        // Get unique exercises from records
        function getUniqueExercises(records) {
            const exercises = new Set();
            records.forEach(r => exercises.add(r.exercise));
            return Array.from(exercises);
        }

        // Render mini chart for an exercise
        function renderMiniChart(records, exerciseName) {
            const data = getStrengthChartData(records, exerciseName);
            if (data.length < 2) return '<div style="color: rgba(255,255,255,0.5); font-size: 0.85rem; text-align: center; padding: 1rem;">Need more entries for chart</div>';
            
            const weights = data.map(d => parseFloat(d.weight) || 0);
            const maxWeight = Math.max(...weights);
            const minWeight = Math.min(...weights);
            const range = maxWeight - minWeight || 1;
            
            const chartWidth = 280;
            const chartHeight = 80;
            const padding = 10;
            
            const points = data.map((d, i) => {
                const x = padding + (i / (data.length - 1)) * (chartWidth - padding * 2);
                const y = chartHeight - padding - ((parseFloat(d.weight) - minWeight) / range) * (chartHeight - padding * 2);
                return `${x},${y}`;
            }).join(' ');
            
            const firstWeight = weights[0];
            const lastWeight = weights[weights.length - 1];
            const change = lastWeight - firstWeight;
            const changePercent = ((change / firstWeight) * 100).toFixed(1);
            const changeColor = change >= 0 ? '#4CAF50' : '#FF5252';
            
            return `
                <div style="background: rgba(0,0,0,0.2); border-radius: 8px; padding: 0.75rem; margin-top: 0.5rem;">
                    <svg width="${chartWidth}" height="${chartHeight}" style="display: block; margin: 0 auto;">
                        <defs>
                            <linearGradient id="chartGrad-${exerciseName.replace(/\s+/g, '')}" x1="0%" y1="0%" x2="0%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--vibrant-cyan);stop-opacity:0.3" />
                                <stop offset="100%" style="stop-color:var(--vibrant-cyan);stop-opacity:0" />
                            </linearGradient>
                        </defs>
                        <polyline
                            fill="none"
                            stroke="var(--vibrant-cyan)"
                            stroke-width="2"
                            points="${points}"
                        />
                        ${data.map((d, i) => {
                            const x = padding + (i / (data.length - 1)) * (chartWidth - padding * 2);
                            const y = chartHeight - padding - ((parseFloat(d.weight) - minWeight) / range) * (chartHeight - padding * 2);
                            return `<circle cx="${x}" cy="${y}" r="4" fill="var(--vibrant-cyan)" />`;
                        }).join('')}
                    </svg>
                    <div style="display: flex; justify-content: space-between; margin-top: 0.5rem; font-size: 0.8rem;">
                        <span style="color: rgba(255,255,255,0.6);">${firstWeight} lbs</span>
                        <span style="color: ${changeColor}; font-weight: 700;">${change >= 0 ? '+' : ''}${change} lbs (${changePercent}%)</span>
                        <span style="color: rgba(255,255,255,0.6);">${lastWeight} lbs</span>
                    </div>
                </div>
            `;
        }

        // Render measurement trend
        function renderMeasurementTrend(measurements, field, label) {
            const data = measurements
                .filter(m => m[field] && !isNaN(parseFloat(m[field])))
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .slice(-8);
            
            if (data.length < 2) return '';
            
            const firstVal = parseFloat(data[0][field]);
            const lastVal = parseFloat(data[data.length - 1][field]);
            const change = lastVal - firstVal;
            const isWeightOrWaist = field === 'weight' || field === 'waist' || field === 'bodyFat';
            const isGood = isWeightOrWaist ? change <= 0 : change >= 0;
            const changeColor = isGood ? '#4CAF50' : '#FF5252';
            
            return `
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem 0; border-bottom: 1px solid rgba(255,255,255,0.1);">
                    <span style="color: rgba(255,255,255,0.8);">${label}</span>
                    <span style="color: ${changeColor}; font-weight: 600;">${change >= 0 ? '+' : ''}${change.toFixed(1)}</span>
                </div>
            `;
        }

        // Main display profile function
        async function displayProfile() {
            const container = document.getElementById('profileContainer');
            const profileData = await getProfileData() || {
                measurements: [],
                photos: [],
                strengthRecords: [],
                goals: {}
            };
            
            const measurements = profileData.measurements || [];
            const photos = profileData.photos || [];
            const strengthRecords = profileData.strengthRecords || [];
            const goals = profileData.goals || {};
            
            // Get unique exercises for charts
            const uniqueExercises = getUniqueExercises(strengthRecords);
            
            // Latest measurements
            const latestMeasurement = measurements[0] || {};
            
            // Separate photos by type
            const beforePhotos = photos.filter(p => p.type === 'before');
            const afterPhotos = photos.filter(p => p.type === 'after');
            const progressPhotos = photos.filter(p => p.type === 'progress');
            
            let html = `
                <div style="animation: fadeInUp 0.8s ease-out;">
                    <!-- Header -->
                    <div class="workout-summary" style="background: linear-gradient(135deg, rgba(233, 30, 99, 0.15), rgba(156, 39, 176, 0.15)); border: 2px solid rgba(233, 30, 99, 0.3);">
                        <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <img src="${currentUser.photoURL || ''}" alt="${currentUser.displayName}" style="width: 64px; height: 64px; border-radius: 50%; border: 3px solid var(--energy-orange);">
                                <div>
                                    <h2 style="margin: 0; font-size: 1.8rem;">${currentUser.displayName}'s Profile</h2>
                                    <p style="color: var(--text-secondary); margin-top: 0.25rem;">Track your transformation journey</p>
                                </div>
                            </div>
                            <button onclick="hideProfile()" style="background: rgba(255, 255, 255, 0.1); border: 2px solid var(--energy-orange); color: white; padding: 0.6rem 1.5rem; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.9rem;">
                                 Back to Workout
                            </button>
                        </div>
                    </div>

                    <!-- Goals Section -->
                    <div class="workout-summary" style="margin-top: 1.5rem;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: var(--electric-yellow);">
                             My Goals
                        </h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
                            <div>
                                <label style="display: block; font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 0.4rem;">Target Weight (lbs)</label>
                                <input type="number" id="goalWeight" value="${goals.targetWeight || ''}" placeholder="e.g., 180" style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: white; font-size: 1rem;">
                            </div>
                            <div>
                                <label style="display: block; font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 0.4rem;">Target Body Fat %</label>
                                <input type="number" id="goalBodyFat" value="${goals.targetBodyFat || ''}" placeholder="e.g., 15" style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: white; font-size: 1rem;">
                            </div>
                        </div>
                        <div style="margin-top: 1rem;">
                            <label style="display: block; font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 0.4rem;">Personal Notes & Motivation</label>
                            <textarea id="goalNotes" placeholder="Why are you doing this? What's your ultimate goal?" style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 8px; color: white; font-size: 0.95rem; resize: vertical; min-height: 80px;">${goals.notes || ''}</textarea>
                        </div>
                        <button onclick="saveGoals()" style="margin-top: 1rem; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 0.75rem 2rem; border-radius: 8px; font-weight: 700; cursor: pointer; font-size: 0.95rem;">
                             Save Goals
                        </button>
                    </div>

                    <!-- Body Measurements Section -->
                    <div class="workout-summary" style="margin-top: 1.5rem;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: var(--vibrant-cyan);">
                             Body Measurements
                        </h3>
                        
                        <!-- Progress Summary -->
                        ${measurements.length >= 2 ? `
                            <div style="background: rgba(0, 217, 255, 0.1); padding: 1rem 1.25rem; border-radius: 12px; margin-bottom: 1.5rem; border: 1px solid rgba(0, 217, 255, 0.3);">
                                <div style="font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 0.75rem; font-size: 0.95rem;"> Progress Since First Entry</div>
                                <div>
                                    ${renderMeasurementTrend(measurements, 'weight', 'Weight')}
                                    ${renderMeasurementTrend(measurements, 'bodyFat', 'Body Fat %')}
                                    ${renderMeasurementTrend(measurements, 'waist', 'Waist')}
                                    ${renderMeasurementTrend(measurements, 'chest', 'Chest')}
                                    ${renderMeasurementTrend(measurements, 'bicepRight', 'Bicep (R)')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Add New Measurement Form -->
                        <div style="background: rgba(255,255,255,0.03); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);">
                            <div style="font-weight: 700; color: var(--electric-yellow); margin-bottom: 1rem; font-size: 0.95rem;"> Add New Measurement</div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 0.75rem;">
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Weight (lbs)</label>
                                    <input type="number" step="0.1" id="measureWeight" placeholder="185" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Body Fat %</label>
                                    <input type="number" step="0.1" id="measureBodyFat" placeholder="20" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Neck (in)</label>
                                    <input type="number" step="0.1" id="measureNeck" placeholder="16" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Shoulders (in)</label>
                                    <input type="number" step="0.1" id="measureShoulders" placeholder="48" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Chest (in)</label>
                                    <input type="number" step="0.1" id="measureChest" placeholder="42" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Waist (in)</label>
                                    <input type="number" step="0.1" id="measureWaist" placeholder="34" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Hips (in)</label>
                                    <input type="number" step="0.1" id="measureHips" placeholder="38" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Bicep L (in)</label>
                                    <input type="number" step="0.1" id="measureBicepLeft" placeholder="14" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Bicep R (in)</label>
                                    <input type="number" step="0.1" id="measureBicepRight" placeholder="14.5" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Thigh L (in)</label>
                                    <input type="number" step="0.1" id="measureThighLeft" placeholder="24" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.75rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Thigh R (in)</label>
                                    <input type="number" step="0.1" id="measureThighRight" placeholder="24" style="width: 100%; padding: 0.6rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.15); border-radius: 6px; color: white; font-size: 0.9rem;">
                                </div>
                            </div>
                            <button onclick="addMeasurement()" style="margin-top: 1rem; background: var(--vibrant-cyan); color: var(--deep-charcoal); border: none; padding: 0.75rem 2rem; border-radius: 8px; font-weight: 700; cursor: pointer; font-size: 0.95rem;">
                                 Save Measurement
                            </button>
                        </div>
                        
                        <!-- Measurement History -->
                        ${measurements.length > 0 ? `
                            <div style="margin-top: 1.5rem;">
                                <div style="font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 1rem;"> History (${measurements.length} entries)</div>
                                <div style="max-height: 400px; overflow-y: auto;">
                                    ${measurements.slice(0, 10).map(m => {
                                        const date = new Date(m.date);
                                        const displayFields = [];
                                        if (m.weight) displayFields.push(`<span style="color: var(--vibrant-cyan);">Weight:</span> ${m.weight} lbs`);
                                        if (m.bodyFat) displayFields.push(`<span style="color: var(--vibrant-cyan);">BF%:</span> ${m.bodyFat}%`);
                                        if (m.chest) displayFields.push(`<span style="color: var(--vibrant-cyan);">Chest:</span> ${m.chest}"`);
                                        if (m.waist) displayFields.push(`<span style="color: var(--vibrant-cyan);">Waist:</span> ${m.waist}"`);
                                        if (m.hips) displayFields.push(`<span style="color: var(--vibrant-cyan);">Hips:</span> ${m.hips}"`);
                                        if (m.bicepLeft || m.bicepRight) displayFields.push(`<span style="color: var(--vibrant-cyan);">Biceps:</span> ${m.bicepLeft || '-'}/${m.bicepRight || '-'}"`);
                                        if (m.thighLeft || m.thighRight) displayFields.push(`<span style="color: var(--vibrant-cyan);">Thighs:</span> ${m.thighLeft || '-'}/${m.thighRight || '-'}"`);
                                        
                                        return `
                                            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem; border-left: 4px solid var(--vibrant-cyan);">
                                                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.5rem;">
                                                    <div style="font-weight: 600; color: var(--electric-yellow);">
                                                        ${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                                                    </div>
                                                    <button onclick="deleteMeasurement('${m.id}')" style="background: rgba(255,82,82,0.2); border: none; color: #FF5252; padding: 0.3rem 0.6rem; border-radius: 4px; cursor: pointer; font-size: 0.75rem;"></button>
                                                </div>
                                                <div style="font-size: 0.9rem; color: rgba(255,255,255,0.8); display: flex; flex-wrap: wrap; gap: 0.75rem;">
                                                    ${displayFields.join('  ')}
                                                </div>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        ` : '<div style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.5);">No measurements recorded yet. Start tracking above!</div>'}
                    </div>

                    <!-- Before/After Photos Section -->
                    <div class="workout-summary" style="margin-top: 1.5rem;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: #E91E63;">
                             Progress Photos
                        </h3>
                        
                        <!-- Upload Buttons -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
                            <div>
                                <label style="display: block; background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.1)); border: 2px dashed rgba(76, 175, 80, 0.5); padding: 1.5rem; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.borderColor='#4CAF50'" onmouseout="this.style.borderColor='rgba(76, 175, 80, 0.5)'">
                                    <input type="file" accept="image/*" onchange="handlePhotoUpload(this, 'before')" style="display: none;">
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                                    <div style="font-weight: 700; color: #4CAF50;">Before Photo</div>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.3rem;">Starting point</div>
                                </label>
                            </div>
                            <div>
                                <label style="display: block; background: linear-gradient(135deg, rgba(0, 217, 255, 0.2), rgba(0, 217, 255, 0.1)); border: 2px dashed rgba(0, 217, 255, 0.5); padding: 1.5rem; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.borderColor='var(--vibrant-cyan)'" onmouseout="this.style.borderColor='rgba(0, 217, 255, 0.5)'">
                                    <input type="file" accept="image/*" onchange="handlePhotoUpload(this, 'progress')" style="display: none;">
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                                    <div style="font-weight: 700; color: var(--vibrant-cyan);">Progress Photo</div>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.3rem;">Check-in</div>
                                </label>
                            </div>
                            <div>
                                <label style="display: block; background: linear-gradient(135deg, rgba(255, 107, 53, 0.2), rgba(255, 107, 53, 0.1)); border: 2px dashed rgba(255, 107, 53, 0.5); padding: 1.5rem; border-radius: 12px; text-align: center; cursor: pointer; transition: all 0.3s;" onmouseover="this.style.borderColor='var(--energy-orange)'" onmouseout="this.style.borderColor='rgba(255, 107, 53, 0.5)'">
                                    <input type="file" accept="image/*" onchange="handlePhotoUpload(this, 'after')" style="display: none;">
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                                    <div style="font-weight: 700; color: var(--energy-orange);">After Photo</div>
                                    <div style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.3rem;">Goal achieved!</div>
                                </label>
                            </div>
                        </div>
                        
                        <!-- Before/After Comparison -->
                        ${beforePhotos.length > 0 || afterPhotos.length > 0 ? `
                            <div style="background: rgba(255,255,255,0.03); padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem;">
                                <div style="font-weight: 700; color: var(--electric-yellow); margin-bottom: 1rem;"> Before & After Comparison</div>
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                    <div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 0.5rem; text-align: center;">BEFORE</div>
                                        ${beforePhotos.length > 0 ? `
                                            <div style="position: relative;">
                                                <img src="${beforePhotos[0].data}" style="width: 100%; border-radius: 8px; border: 2px solid #4CAF50;">
                                                <div style="position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.7); padding: 0.3rem 0.6rem; border-radius: 4px; font-size: 0.75rem;">
                                                    ${new Date(beforePhotos[0].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                                                </div>
                                            </div>
                                        ` : '<div style="background: rgba(255,255,255,0.05); padding: 3rem; border-radius: 8px; text-align: center; color: rgba(255,255,255,0.4);">No before photo yet</div>'}
                                    </div>
                                    <div>
                                        <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 0.5rem; text-align: center;">AFTER</div>
                                        ${afterPhotos.length > 0 ? `
                                            <div style="position: relative;">
                                                <img src="${afterPhotos[0].data}" style="width: 100%; border-radius: 8px; border: 2px solid var(--energy-orange);">
                                                <div style="position: absolute; bottom: 8px; left: 8px; background: rgba(0,0,0,0.7); padding: 0.3rem 0.6rem; border-radius: 4px; font-size: 0.75rem;">
                                                    ${new Date(afterPhotos[0].date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                                                </div>
                                            </div>
                                        ` : '<div style="background: rgba(255,255,255,0.05); padding: 3rem; border-radius: 8px; text-align: center; color: rgba(255,255,255,0.4);">No after photo yet</div>'}
                                    </div>
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- All Progress Photos -->
                        ${photos.length > 0 ? `
                            <div>
                                <div style="font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 1rem;"> All Photos (${photos.length})</div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 1rem;">
                                    ${photos.map(p => {
                                        const typeColors = { before: '#4CAF50', progress: 'var(--vibrant-cyan)', after: 'var(--energy-orange)' };
                                        const typeLabels = { before: 'BEFORE', progress: 'PROGRESS', after: 'AFTER' };
                                        return `
                                            <div style="position: relative; border-radius: 8px; overflow: hidden; border: 2px solid ${typeColors[p.type] || '#666'};">
                                                <img src="${p.data}" style="width: 100%; aspect-ratio: 1; object-fit: cover;">
                                                <div style="position: absolute; top: 0; left: 0; right: 0; background: linear-gradient(to bottom, rgba(0,0,0,0.7), transparent); padding: 0.5rem;">
                                                    <div style="font-size: 0.7rem; font-weight: 700; color: ${typeColors[p.type]}">${typeLabels[p.type]}</div>
                                                    <div style="font-size: 0.65rem; color: rgba(255,255,255,0.7);">${new Date(p.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: '2-digit' })}</div>
                                                </div>
                                                <button onclick="deletePhoto('${p.id}')" style="position: absolute; bottom: 4px; right: 4px; background: rgba(255,82,82,0.9); border: none; color: white; width: 24px; height: 24px; border-radius: 50%; cursor: pointer; font-size: 0.75rem; display: flex; align-items: center; justify-content: center;"></button>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        ` : '<div style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.5);">No photos uploaded yet. Track your visual progress above!</div>'}
                        
                        <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(255,255,255,0.03); border-radius: 8px; border: 1px solid rgba(255,255,255,0.1);">
                            <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6);">
                                 <strong>Tip:</strong> Take photos in the same pose, lighting, and clothing for the best comparison. Morning photos before eating are most consistent.
                            </div>
                        </div>
                    </div>

                    <!-- Strength Progression Section -->
                    <div class="workout-summary" style="margin-top: 1.5rem;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; letter-spacing: 0.08em; margin-bottom: 1.5rem; color: var(--energy-orange);">
                             Strength Records & PRs
                        </h3>
                        
                        <!-- Add New Record Form -->
                        <div style="background: rgba(255,107,53,0.08); padding: 1.5rem; border-radius: 12px; border: 1px solid rgba(255,107,53,0.2); margin-bottom: 1.5rem;">
                            <div style="font-weight: 700; color: var(--energy-orange); margin-bottom: 1rem;"> Log New PR / Strength Record</div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.75rem;">
                                <div style="grid-column: span 2;">
                                    <label style="display: block; font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Exercise Name *</label>
                                    <input type="text" id="strengthExercise" placeholder="e.g., Bench Press, Deadlift, Squat" list="commonExercises" style="width: 100%; padding: 0.7rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 0.95rem;">
                                    <datalist id="commonExercises">
                                        <option value="Bench Press">
                                        <option value="Deadlift">
                                        <option value="Squat">
                                        <option value="Overhead Press">
                                        <option value="Barbell Row">
                                        <option value="Pull-ups">
                                        <option value="Dumbbell Curl">
                                        <option value="Tricep Extension">
                                        <option value="Leg Press">
                                        <option value="Romanian Deadlift">
                                        <option value="Lat Pulldown">
                                        <option value="Cable Row">
                                    </datalist>
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Weight (lbs) *</label>
                                    <input type="number" id="strengthWeight" placeholder="225" style="width: 100%; padding: 0.7rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 0.95rem;">
                                </div>
                                <div>
                                    <label style="display: block; font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Reps</label>
                                    <input type="number" id="strengthReps" placeholder="5" style="width: 100%; padding: 0.7rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 0.95rem;">
                                </div>
                                <div style="grid-column: span 2;">
                                    <label style="display: block; font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-bottom: 0.3rem;">Notes</label>
                                    <input type="text" id="strengthNotes" placeholder="e.g., New PR! Form felt good" style="width: 100%; padding: 0.7rem; background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; color: white; font-size: 0.95rem;">
                                </div>
                            </div>
                            <button onclick="addStrengthRecord()" style="margin-top: 1rem; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 0.75rem 2rem; border-radius: 8px; font-weight: 700; cursor: pointer; font-size: 0.95rem;">
                                 Save Record
                            </button>
                        </div>
                        
                        <!-- Exercise Progression Charts -->
                        ${uniqueExercises.length > 0 ? `
                            <div style="margin-bottom: 1.5rem;">
                                <div style="font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 1rem;"> Progression Charts</div>
                                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                                    ${uniqueExercises.slice(0, 6).map(exercise => {
                                        const records = strengthRecords.filter(r => r.exercise === exercise);
                                        const latestRecord = records[0];
                                        const maxWeight = Math.max(...records.map(r => parseFloat(r.weight) || 0));
                                        return `
                                            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1);">
                                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                                    <div style="font-weight: 700; color: var(--electric-yellow);">${exercise}</div>
                                                    <div style="background: var(--energy-orange); padding: 0.3rem 0.75rem; border-radius: 4px; font-size: 0.8rem; font-weight: 700;">PR: ${maxWeight} lbs</div>
                                                </div>
                                                <div style="font-size: 0.85rem; color: rgba(255,255,255,0.6); margin-bottom: 0.5rem;">${records.length} entries</div>
                                                ${renderMiniChart(strengthRecords, exercise)}
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        ` : ''}
                        
                        <!-- Recent Records -->
                        ${strengthRecords.length > 0 ? `
                            <div>
                                <div style="font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 1rem;"> Recent Records</div>
                                <div style="max-height: 350px; overflow-y: auto;">
                                    ${strengthRecords.slice(0, 15).map(r => {
                                        const date = new Date(r.date);
                                        return `
                                            <div style="background: rgba(255,255,255,0.03); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem; border-left: 4px solid var(--energy-orange); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 0.5rem;">
                                                <div>
                                                    <div style="font-weight: 700; color: var(--pure-white);">${r.exercise}</div>
                                                    <div style="font-size: 0.85rem; color: var(--vibrant-cyan); margin-top: 0.2rem;">
                                                        ${r.weight} lbs  ${r.reps} reps
                                                    </div>
                                                    ${r.notes ? `<div style="font-size: 0.8rem; color: rgba(255,255,255,0.5); margin-top: 0.3rem;">"${r.notes}"</div>` : ''}
                                                </div>
                                                <div style="display: flex; align-items: center; gap: 0.75rem;">
                                                    <div style="font-size: 0.85rem; color: var(--electric-yellow);">
                                                        ${date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                                                    </div>
                                                    <button onclick="deleteStrengthRecord('${r.id}')" style="background: rgba(255,82,82,0.2); border: none; color: #FF5252; padding: 0.3rem 0.6rem; border-radius: 4px; cursor: pointer; font-size: 0.75rem;"></button>
                                                </div>
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        ` : '<div style="text-align: center; padding: 2rem; color: rgba(255,255,255,0.5);">No strength records yet. Log your first lift above!</div>'}
                    </div>

                    <!-- Back Button -->
                    <div style="text-align: center; margin-top: 2rem;">
                        <button onclick="hideProfile()" style="background: var(--slate); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem 2rem; font-size: 1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.1em; cursor: pointer; border-radius: 8px; font-family: 'Archivo', sans-serif;">
                            Back to Workout
                        </button>
                    </div>
                </div>
            `;

            container.innerHTML = html;
            container.classList.remove('hidden');
            
            // Hide other containers
            document.getElementById('workoutContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
        }

        window.hideProfile = function() {
            document.getElementById('profileContainer').classList.add('hidden');
            document.getElementById('statsContainer').classList.add('hidden');
            document.getElementById('socialContainer').classList.add('hidden');
            document.getElementById('leaderboardContainer').classList.add('hidden');
            document.getElementById('workoutContainer').classList.remove('hidden');
        }

        // ==========================================
        // FITNESS FEATURES
        // ==========================================

        // 1. WORKOUT CALENDAR - View workout history at a glance
        async function displayWorkoutCalendar() {
            const container = document.getElementById('calendarContainer');
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            
            // Fetch workout history for the month
            let workoutDays = {};
            try {
                const workoutsRef = collection(db, 'workouts');
                const startOfMonth = new Date(currentYear, currentMonth, 1);
                const endOfMonth = new Date(currentYear, currentMonth + 1, 0, 23, 59, 59);
                
                const q = query(
                    workoutsRef,
                    where('userId', '==', currentUser.id),
                    where('completedAt', '>=', Timestamp.fromDate(startOfMonth)),
                    where('completedAt', '<=', Timestamp.fromDate(endOfMonth))
                );
                
                const snapshot = await getDocs(q);
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const date = data.completedAt.toDate();
                    const dayKey = date.getDate();
                    if (!workoutDays[dayKey]) {
                        workoutDays[dayKey] = [];
                    }
                    workoutDays[dayKey].push(data);
                });
            } catch (error) {
                console.error('Error loading calendar:', error);
            }
            
            // Calculate streak
            let streak = 0;
            let checkDate = new Date(today);
            checkDate.setHours(0, 0, 0, 0);
            
            // Check backwards from today
            while (true) {
                const dayKey = checkDate.getDate();
                const monthMatch = checkDate.getMonth() === currentMonth && checkDate.getFullYear() === currentYear;
                
                if (monthMatch && workoutDays[dayKey] && workoutDays[dayKey].length > 0) {
                    streak++;
                    checkDate.setDate(checkDate.getDate() - 1);
                } else if (checkDate.getTime() < today.getTime() - 86400000) {
                    // More than 1 day ago with no workout, streak broken
                    break;
                } else {
                    checkDate.setDate(checkDate.getDate() - 1);
                    if (checkDate.getMonth() !== currentMonth) break;
                }
            }
            
            // Build calendar grid
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            
            let calendarHTML = '';
            for (let i = 0; i < firstDay; i++) {
                calendarHTML += '<div style="padding: 0.5rem;"></div>';
            }
            
            for (let day = 1; day <= daysInMonth; day++) {
                const hasWorkout = workoutDays[day] && workoutDays[day].length > 0;
                const isToday = day === today.getDate();
                const workoutTypes = hasWorkout ? workoutDays[day].map(w => {
                    const typeEmojis = { 'HIIT': '', 'Strength': '', 'Cross Training': '', 'Recovery & Stretching': '' };
                    return typeEmojis[w.workoutType] || '';
                }).join('') : '';
                
                calendarHTML += `
                    <div style="padding: 0.5rem; text-align: center; background: ${hasWorkout ? 'rgba(76, 175, 80, 0.3)' : 'rgba(255, 255, 255, 0.05)'}; border-radius: 8px; border: ${isToday ? '2px solid var(--electric-yellow)' : '1px solid rgba(255, 255, 255, 0.1)'}; cursor: ${hasWorkout ? 'pointer' : 'default'};" ${hasWorkout ? `onclick="showDayWorkouts(${day}, ${currentMonth}, ${currentYear})"` : ''}>
                        <div style="font-weight: ${isToday ? '700' : '400'}; color: ${isToday ? 'var(--electric-yellow)' : 'white'};">${day}</div>
                        ${hasWorkout ? `<div style="font-size: 0.8rem; margin-top: 0.25rem;">${workoutTypes}</div>` : ''}
                    </div>
                `;
            }
            
            // Calculate monthly stats
            const totalWorkouts = Object.values(workoutDays).reduce((sum, arr) => sum + arr.length, 0);
            const totalMinutes = Object.values(workoutDays).flat().reduce((sum, w) => sum + (w.duration || 0), 0);
            
            container.innerHTML = `
                <div style="max-width: 600px; margin: 0 auto; padding: 1rem;">
                    <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2.5rem; color: var(--electric-yellow); text-align: center; margin-bottom: 1.5rem;">
                         Workout Calendar
                    </h2>
                    
                    <!-- Streak Banner -->
                    <div style="background: linear-gradient(135deg, var(--energy-orange), #FF8C42); border-radius: 16px; padding: 1.5rem; text-align: center; margin-bottom: 1.5rem;">
                        <div style="font-size: 3rem;"></div>
                        <div style="font-size: 2.5rem; font-weight: 700;">${streak} Day Streak!</div>
                        <div style="opacity: 0.9;">Keep it going!</div>
                    </div>
                    
                    <!-- Monthly Stats -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: rgba(0, 217, 255, 0.1); border: 1px solid var(--vibrant-cyan); border-radius: 12px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--vibrant-cyan);">${totalWorkouts}</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">Workouts This Month</div>
                        </div>
                        <div style="background: rgba(255, 107, 53, 0.1); border: 1px solid var(--energy-orange); border-radius: 12px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--energy-orange);">${totalMinutes}</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">Minutes Trained</div>
                        </div>
                    </div>
                    
                    <!-- Calendar -->
                    <div style="background: var(--slate); border-radius: 16px; padding: 1.5rem; border: 1px solid rgba(255, 255, 255, 0.1);">
                        <div style="text-align: center; font-size: 1.25rem; font-weight: 700; margin-bottom: 1rem; color: var(--electric-yellow);">
                            ${monthNames[currentMonth]} ${currentYear}
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem; margin-bottom: 0.5rem;">
                            ${['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(d => `<div style="text-align: center; font-size: 0.75rem; opacity: 0.6; font-weight: 600;">${d}</div>`).join('')}
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 0.5rem;">
                            ${calendarHTML}
                        </div>
                    </div>
                    
                    <p style="text-align: center; margin-top: 1rem; font-size: 0.85rem; opacity: 0.6;">Tap a day to see workout details</p>
                </div>
            `;
        }
        
        // Show workouts for a specific day
        window.showDayWorkouts = async function(day, month, year) {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            try {
                const workoutsRef = collection(db, 'workouts');
                const startOfDay = new Date(year, month, day, 0, 0, 0);
                const endOfDay = new Date(year, month, day, 23, 59, 59);
                
                const q = query(
                    workoutsRef,
                    where('userId', '==', currentUser.id),
                    where('completedAt', '>=', Timestamp.fromDate(startOfDay)),
                    where('completedAt', '<=', Timestamp.fromDate(endOfDay))
                );
                
                const snapshot = await getDocs(q);
                let workoutsHTML = '';
                
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const typeEmojis = { 'HIIT': '', 'Strength': '', 'Cross Training': '', 'Recovery & Stretching': '' };
                    workoutsHTML += `
                        <div style="background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                                <span style="font-size: 1.5rem;">${typeEmojis[data.workoutType] || ''}</span>
                                <div>
                                    <div style="font-weight: 700;">${data.workoutType}</div>
                                    <div style="font-size: 0.85rem; opacity: 0.7;">${data.duration} minutes  ${data.exerciseCount} exercises</div>
                                </div>
                            </div>
                            ${data.notes ? `<div style="font-size: 0.85rem; font-style: italic; opacity: 0.8; margin-top: 0.5rem;"> ${data.notes}</div>` : ''}
                        </div>
                    `;
                });
                
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
                
                modal.innerHTML = `
                    <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 500px; width: 100%; max-height: 80vh; overflow-y: auto;">
                        <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1.5rem;">
                            ${monthNames[month]} ${day}, ${year}
                        </h3>
                        ${workoutsHTML || '<p>No workouts found for this day.</p>'}
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="width: 100%; background: var(--energy-orange); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer; margin-top: 1rem;">Close</button>
                    </div>
                `;
            } catch (error) {
                modal.innerHTML = `
                    <div style="background: var(--slate); border-radius: 16px; padding: 2rem;">
                        <p>Error loading workouts</p>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="background: var(--energy-orange); color: white; border: none; padding: 1rem; border-radius: 8px; cursor: pointer;">Close</button>
                    </div>
                `;
            }
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };

        // 2. PERSONAL RECORDS DASHBOARD
        async function displayPRsDashboard() {
            const container = document.getElementById('prsContainer');
            
            // Load strength records from profile
            let strengthRecords = {};
            let recentPRs = [];
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                const profileSnap = await getDoc(profileRef);
                
                if (profileSnap.exists()) {
                    strengthRecords = profileSnap.data().strengthRecords || {};
                }
                
                // Get recent PRs (last 30 days)
                const thirtyDaysAgo = new Date();
                thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
                
                Object.entries(strengthRecords).forEach(([exercise, data]) => {
                    if (data.date && data.date.toDate() > thirtyDaysAgo) {
                        recentPRs.push({
                            exercise,
                            weight: data.weight,
                            reps: data.reps,
                            date: data.date.toDate()
                        });
                    }
                });
                
                recentPRs.sort((a, b) => b.date - a.date);
            } catch (error) {
                console.error('Error loading PRs:', error);
            }
            
            // Exercise categories for organized display
            const exerciseCategories = {
                'Upper Body': ['Bench Press', 'Overhead Press', 'Barbell Row', 'Pull-ups', 'Dumbbell Press', 'Dumbbell Rows'],
                'Lower Body': ['Squat', 'Deadlift', 'Romanian Deadlift', 'Leg Press', 'Lunges', 'Hip Thrust'],
                'Olympic': ['Clean', 'Snatch', 'Clean & Jerk', 'Power Clean'],
                'Other': []
            };
            
            // Categorize records
            const categorizedRecords = { 'Upper Body': {}, 'Lower Body': {}, 'Olympic': {}, 'Other': {} };
            
            Object.entries(strengthRecords).forEach(([exercise, data]) => {
                let placed = false;
                for (const [category, exercises] of Object.entries(exerciseCategories)) {
                    if (category !== 'Other' && exercises.some(e => exercise.toLowerCase().includes(e.toLowerCase()))) {
                        categorizedRecords[category][exercise] = data;
                        placed = true;
                        break;
                    }
                }
                if (!placed) {
                    categorizedRecords['Other'][exercise] = data;
                }
            });
            
            // Generate PR cards
            const generatePRCards = (records) => {
                return Object.entries(records).map(([exercise, data]) => `
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 1rem; border: 1px solid rgba(255, 215, 0, 0.3);">
                        <div style="font-weight: 700; margin-bottom: 0.5rem;">${exercise}</div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <span style="font-size: 1.5rem; font-weight: 700; color: var(--electric-yellow);">${data.weight || ''}</span>
                                <span style="font-size: 0.85rem; opacity: 0.7;"> lbs</span>
                                ${data.reps ? `<span style="font-size: 0.85rem; opacity: 0.7;">  ${data.reps}</span>` : ''}
                            </div>
                            <button onclick="showUpdatePRModal('${exercise}')" style="background: rgba(255, 215, 0, 0.2); border: 1px solid var(--electric-yellow); color: var(--electric-yellow); padding: 0.4rem 0.75rem; border-radius: 6px; font-size: 0.75rem; cursor: pointer;">Update</button>
                        </div>
                        ${data.date ? `<div style="font-size: 0.75rem; opacity: 0.5; margin-top: 0.5rem;">Set ${data.date.toDate().toLocaleDateString()}</div>` : ''}
                    </div>
                `).join('');
            };
            
            container.innerHTML = `
                <div style="max-width: 700px; margin: 0 auto; padding: 1rem;">
                    <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2.5rem; color: var(--electric-yellow); text-align: center; margin-bottom: 1.5rem;">
                         Personal Records
                    </h2>
                    
                    <!-- Recent PRs Banner -->
                    ${recentPRs.length > 0 ? `
                        <div style="background: linear-gradient(135deg, #FFD700, #FFA000); border-radius: 16px; padding: 1.5rem; margin-bottom: 1.5rem;">
                            <div style="font-weight: 700; font-size: 1.1rem; margin-bottom: 1rem; color: #333;"> Recent PRs (Last 30 Days)</div>
                            ${recentPRs.slice(0, 3).map(pr => `
                                <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.1); border-radius: 8px; padding: 0.75rem; margin-bottom: 0.5rem;">
                                    <span style="font-weight: 600; color: #333;">${pr.exercise}</span>
                                    <span style="font-weight: 700; color: #333;">${pr.weight} lbs ${pr.reps ? ` ${pr.reps}` : ''}</span>
                                </div>
                            `).join('')}
                        </div>
                    ` : `
                        <div style="background: rgba(255, 215, 0, 0.1); border: 1px dashed var(--electric-yellow); border-radius: 16px; padding: 1.5rem; text-align: center; margin-bottom: 1.5rem;">
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;"></div>
                            <div>No PRs set in the last 30 days. Time to break some records!</div>
                        </div>
                    `}
                    
                    <!-- Add New PR Button -->
                    <button onclick="showAddPRModal()" style="width: 100%; background: linear-gradient(135deg, #4CAF50, #388E3C); color: white; border: none; padding: 1rem; border-radius: 12px; font-weight: 700; font-size: 1rem; cursor: pointer; margin-bottom: 1.5rem;">
                         Add New PR
                    </button>
                    
                    <!-- PR Categories -->
                    ${Object.entries(categorizedRecords).filter(([_, records]) => Object.keys(records).length > 0).map(([category, records]) => `
                        <div style="margin-bottom: 1.5rem;">
                            <h3 style="font-size: 1.1rem; color: var(--vibrant-cyan); margin-bottom: 1rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 0.5rem;">${category}</h3>
                            <div style="display: grid; gap: 0.75rem;">
                                ${generatePRCards(records)}
                            </div>
                        </div>
                    `).join('')}
                    
                    ${Object.values(categorizedRecords).every(r => Object.keys(r).length === 0) ? `
                        <div style="text-align: center; padding: 2rem; opacity: 0.7;">
                            <p>No PRs recorded yet. Start tracking your lifts!</p>
                        </div>
                    ` : ''}
                    
                    <!-- Progressive Overload Tips -->
                    <div style="background: rgba(0, 217, 255, 0.1); border: 1px solid var(--vibrant-cyan); border-radius: 12px; padding: 1.25rem; margin-top: 1.5rem;">
                        <div style="font-weight: 700; color: var(--vibrant-cyan); margin-bottom: 0.75rem;"> Progressive Overload Tips</div>
                        <ul style="margin: 0; padding-left: 1.25rem; font-size: 0.9rem; line-height: 1.6;">
                            <li>Add 5 lbs to upper body lifts when you hit your rep target</li>
                            <li>Add 10 lbs to lower body lifts when you hit your rep target</li>
                            <li>If you stall, try adding 1-2 reps instead of weight</li>
                            <li>Deload every 4-6 weeks (reduce weight by 10-15%)</li>
                        </ul>
                    </div>
                </div>
            `;
        }
        
        // Show modal to add new PR
        window.showAddPRModal = function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            const commonExercises = [
                'Bench Press', 'Squat', 'Deadlift', 'Overhead Press', 'Barbell Row',
                'Pull-ups', 'Romanian Deadlift', 'Leg Press', 'Dumbbell Press', 'Hip Thrust'
            ];
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1.5rem;">Add New PR </h3>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Exercise</label>
                        <input type="text" id="prExercise" list="exerciseList" placeholder="e.g., Bench Press" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                        <datalist id="exerciseList">
                            ${commonExercises.map(e => `<option value="${e}">`).join('')}
                        </datalist>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Weight (lbs)</label>
                            <input type="number" id="prWeight" placeholder="225" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Reps (optional)</label>
                            <input type="number" id="prReps" placeholder="5" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button onclick="savePR()" style="flex: 1; background: linear-gradient(135deg, #FFD700, #FFA000); color: #333; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Save PR</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        // Update existing PR
        window.showUpdatePRModal = function(exercise) {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1.5rem;">Update PR: ${exercise} </h3>
                    
                    <input type="hidden" id="prExercise" value="${exercise}">
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
                        <div>
                            <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">New Weight (lbs)</label>
                            <input type="number" id="prWeight" placeholder="225" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                        </div>
                        <div>
                            <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Reps (optional)</label>
                            <input type="number" id="prReps" placeholder="5" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button onclick="savePR()" style="flex: 1; background: linear-gradient(135deg, #FFD700, #FFA000); color: #333; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Save PR</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        // Save PR to Firebase
        window.savePR = async function() {
            const exercise = document.getElementById('prExercise').value.trim();
            const weight = parseFloat(document.getElementById('prWeight').value);
            const reps = parseInt(document.getElementById('prReps').value) || null;
            
            if (!exercise || !weight) {
                alert('Please enter exercise name and weight');
                return;
            }
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                const profileSnap = await getDoc(profileRef);
                
                let strengthRecords = {};
                if (profileSnap.exists()) {
                    strengthRecords = profileSnap.data().strengthRecords || {};
                }
                
                // Check if this is actually a new PR
                const existingPR = strengthRecords[exercise];
                const isNewPR = !existingPR || weight > (existingPR.weight || 0);
                
                strengthRecords[exercise] = {
                    weight,
                    reps,
                    date: Timestamp.now()
                };
                
                await updateDoc(profileRef, { strengthRecords });
                
                // Close modal
                document.querySelector('div[style*="position: fixed"]').remove();
                
                // Show celebration if it's a new PR
                if (isNewPR) {
                    showPRCelebration(exercise, weight, reps);
                }
                
                // Refresh PRs dashboard
                displayPRsDashboard();
                
            } catch (error) {
                console.error('Error saving PR:', error);
                alert('Error saving PR. Please try again.');
            }
        };
        
        // PR Celebration animation
        function showPRCelebration(exercise, weight, reps) {
            const celebration = document.createElement('div');
            celebration.style.cssText = `
                position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                background: rgba(0, 0, 0, 0.9); z-index: 2000; 
                display: flex; align-items: center; justify-content: center;
                animation: fadeIn 0.3s ease;
            `;
            
            celebration.innerHTML = `
                <div style="text-align: center; animation: scaleIn 0.5s ease;">
                    <div style="font-size: 5rem; animation: bounce 0.6s ease infinite;"></div>
                    <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 3rem; color: var(--electric-yellow); margin: 1rem 0;">NEW PR!</h2>
                    <div style="font-size: 1.5rem; margin-bottom: 0.5rem;">${exercise}</div>
                    <div style="font-size: 2.5rem; font-weight: 700; color: var(--energy-orange);">${weight} lbs${reps ? `  ${reps}` : ''}</div>
                    <p style="margin-top: 1rem; opacity: 0.8;">You're getting stronger! </p>
                </div>
            `;
            
            document.body.appendChild(celebration);
            
            // Auto-close after 3 seconds or on click
            setTimeout(() => celebration.remove(), 3000);
            celebration.addEventListener('click', () => celebration.remove());
        }

        // 3. REST TIMER WITH AUDIO/VIBRATION
        let restTimerInterval = null;
        let restTimeRemaining = 0;
        
        window.startRestTimer = function(seconds) {
            // Clear any existing timer
            if (restTimerInterval) {
                clearInterval(restTimerInterval);
            }
            
            restTimeRemaining = seconds;
            
            // Create timer overlay
            let timerOverlay = document.getElementById('restTimerOverlay');
            if (!timerOverlay) {
                timerOverlay = document.createElement('div');
                timerOverlay.id = 'restTimerOverlay';
                timerOverlay.style.cssText = `
                    position: fixed; bottom: 0; left: 0; right: 0;
                    background: linear-gradient(135deg, var(--slate), #1a1a2e);
                    border-top: 2px solid var(--vibrant-cyan);
                    padding: 1rem; z-index: 900;
                    display: flex; align-items: center; justify-content: space-between;
                    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
                `;
                document.body.appendChild(timerOverlay);
            }
            
            updateRestTimerDisplay();
            
            restTimerInterval = setInterval(() => {
                restTimeRemaining--;
                updateRestTimerDisplay();
                
                if (restTimeRemaining <= 0) {
                    clearInterval(restTimerInterval);
                    restTimerInterval = null;
                    
                    // Alert user
                    playTimerAlert();
                    
                    timerOverlay.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <span style="font-size: 2rem;"></span>
                            <div>
                                <div style="font-weight: 700; color: var(--electric-yellow);">REST COMPLETE!</div>
                                <div style="font-size: 0.85rem; opacity: 0.8;">Time for your next set</div>
                            </div>
                        </div>
                        <button onclick="dismissRestTimer()" style="background: var(--energy-orange); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Got it!</button>
                    `;
                }
            }, 1000);
        };
        
        function updateRestTimerDisplay() {
            const timerOverlay = document.getElementById('restTimerOverlay');
            if (!timerOverlay) return;
            
            const minutes = Math.floor(restTimeRemaining / 60);
            const seconds = restTimeRemaining % 60;
            const timeStr = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            const progressPercent = (restTimeRemaining / 90) * 100; // Assuming 90s max
            
            timerOverlay.innerHTML = `
                <div style="display: flex; align-items: center; gap: 1rem;">
                    <span style="font-size: 2rem;"></span>
                    <div>
                        <div style="font-size: 1.75rem; font-weight: 700; color: var(--vibrant-cyan); font-family: monospace;">${timeStr}</div>
                        <div style="font-size: 0.8rem; opacity: 0.7;">Rest Time Remaining</div>
                    </div>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button onclick="addRestTime(30)" style="background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">+30s</button>
                    <button onclick="skipRestTimer()" style="background: var(--energy-orange); color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px; font-weight: 600; cursor: pointer;">Skip</button>
                </div>
            `;
        }
        
        window.addRestTime = function(seconds) {
            restTimeRemaining += seconds;
            updateRestTimerDisplay();
        };
        
        window.skipRestTimer = function() {
            if (restTimerInterval) {
                clearInterval(restTimerInterval);
                restTimerInterval = null;
            }
            dismissRestTimer();
        };
        
        window.dismissRestTimer = function() {
            const timerOverlay = document.getElementById('restTimerOverlay');
            if (timerOverlay) {
                timerOverlay.remove();
            }
        };
        
        function playTimerAlert() {
            // Vibration
            if ('vibrate' in navigator) {
                navigator.vibrate([200, 100, 200, 100, 200]);
            }
            
            // Audio beep using Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.value = 800;
                oscillator.type = 'sine';
                gainNode.gain.value = 0.3;
                
                oscillator.start();
                setTimeout(() => {
                    oscillator.stop();
                    audioContext.close();
                }, 500);
            } catch (e) {
                console.log('Audio not supported');
            }
        }

        // 4. EXERCISE SUBSTITUTIONS
        const exerciseSubstitutions = {
            // Upper Body - Chest
            'Bench Press': ['Dumbbell Press', 'Push-ups', 'Floor Press', 'Machine Chest Press'],
            'Barbell Bench Press': ['Dumbbell Bench Press', 'Push-ups', 'Floor Press', 'Machine Chest Press'],
            'Dumbbell Bench Press': ['Barbell Bench Press', 'Push-ups', 'Cable Fly', 'Machine Chest Press'],
            'Dumbbell Incline Press': ['Incline Barbell Press', 'Incline Push-ups', 'Cable Incline Fly', 'Landmine Press'],
            'Incline Press': ['Flat Bench Press', 'Incline Push-ups', 'Low Cable Fly', 'Dumbbell Floor Press'],
            
            // Upper Body - Back
            'Pull-ups': ['Lat Pulldown', 'Assisted Pull-ups', 'Band Pull-ups', 'Inverted Rows'],
            'Pull-ups or Lat Pulldowns': ['Assisted Pull-ups', 'Cable Row', 'Inverted Rows', 'Resistance Band Pulldown'],
            'Lat Pulldown': ['Pull-ups', 'Assisted Pull-ups', 'Straight Arm Pulldown', 'Cable Row'],
            'Barbell Row': ['Dumbbell Row', 'Cable Row', 'T-Bar Row', 'Inverted Row'],
            'Dumbbell Rows': ['Barbell Row', 'Cable Row', 'Machine Row', 'Inverted Row'],
            'Dumbbell Row': ['Barbell Row', 'Cable Row', 'Machine Row', 'Inverted Row'],
            
            // Upper Body - Shoulders
            'Overhead Press': ['Dumbbell Shoulder Press', 'Arnold Press', 'Landmine Press', 'Pike Push-ups'],
            'Barbell Overhead Press': ['Dumbbell Shoulder Press', 'Arnold Press', 'Landmine Press', 'Machine Shoulder Press'],
            'Dumbbell Shoulder Press': ['Barbell Overhead Press', 'Arnold Press', 'Landmine Press', 'Pike Push-ups'],
            'Barbell or Dumbbell Push Press': ['Strict Press', 'Landmine Press', 'Machine Shoulder Press', 'Pike Push-ups'],
            
            // Upper Body - Arms
            'Dips': ['Bench Dips', 'Close-Grip Push-ups', 'Cable Pushdown', 'Machine Dip'],
            'Barbell or Dumbbell Curls': ['Hammer Curls', 'Cable Curls', 'Concentration Curls', 'Resistance Band Curls'],
            'Cable or Dumbbell Tricep Extensions': ['Skull Crushers', 'Diamond Push-ups', 'Bench Dips', 'Overhead Tricep Extension'],
            
            // Lower Body
            'Squat': ['Goblet Squat', 'Leg Press', 'Bulgarian Split Squat', 'Box Squat'],
            'Barbell Back Squats': ['Goblet Squat', 'Leg Press', 'Hack Squat', 'Smith Machine Squat'],
            'Goblet Squat': ['Barbell Squat', 'Leg Press', 'Air Squat', 'Split Squat'],
            'Deadlift': ['Romanian Deadlift', 'Trap Bar Deadlift', 'Rack Pull', 'Kettlebell Deadlift'],
            'Barbell Romanian Deadlifts': ['Dumbbell RDL', 'Good Mornings', 'Cable Pull-Through', 'Hip Hinge with Band'],
            'Lunges': ['Step-ups', 'Split Squat', 'Reverse Lunges', 'Walking Lunges'],
            'Dumbbell Walking Lunges': ['Stationary Lunges', 'Step-ups', 'Bulgarian Split Squat', 'Reverse Lunges'],
            'Leg Press': ['Hack Squat', 'Belt Squat', 'Goblet Squat', 'Wall Sit'],
            'Leg Press Machine': ['Hack Squat', 'Goblet Squat', 'Smith Machine Squat', 'Barbell Squat'],
            'Dumbbell Bulgarian Split Squats': ['Lunges', 'Step-ups', 'Single Leg Press', 'Rear Foot Elevated Split Squat'],
            'Barbell Hip Thrusts': ['Glute Bridge', 'Cable Pull-Through', 'Hip Extension Machine', 'Single Leg Hip Thrust'],
            
            // Core
            'Plank': ['Dead Bug', 'Bird Dog', 'Hollow Hold', 'Ab Wheel'],
            'Russian Twist': ['Pallof Press', 'Cable Woodchop', 'Bicycle Crunch', 'Side Plank'],
            'Weighted Plank or Ab Wheel': ['Dead Bug', 'Hollow Hold', 'Hanging Leg Raise', 'Cable Crunch'],
            'Cable or Dumbbell Woodchops': ['Russian Twist', 'Pallof Press', 'Medicine Ball Rotation', 'Bicycle Crunch'],
            
            // Full Body / HIIT
            'Burpees': ['Squat Thrusts', 'Mountain Climbers', 'Jumping Jacks', 'Step-Back Burpees'],
            'Burpees (Bodyweight)': ['Squat Thrusts', 'Mountain Climbers', 'Squat Jumps', 'High Knees'],
            'Box Jumps': ['Step-ups', 'Squat Jumps', 'Broad Jumps', 'Box Step-overs'],
            'Jump Rope': ['High Knees', 'Jumping Jacks', 'Fast Feet', 'Shadow Boxing'],
            'Mountain Climbers': ['High Knees', 'Plank Jacks', 'Burpees', 'Running in Place'],
            
            // Kettlebell / Dumbbell Movements
            'Kettlebell Swings': ['Dumbbell Swings', 'Cable Pull-Through', 'Hip Thrusts', 'Broad Jumps'],
            'Kettlebell Swings (HIIT Pace)': ['Dumbbell Swings', 'Box Jumps', 'Jump Squats', 'Medicine Ball Slams'],
            'Kettlebell Turkish Get-Ups': ['Half Get-Up', 'Windmill', 'Overhead Carry', 'Side Plank'],
            'Kettlebell Goblet Jump Squats': ['Dumbbell Jump Squats', 'Box Jumps', 'Squat Jumps', 'Split Jump Lunges'],
            'Dumbbell Burpee Clean and Press': ['Thrusters', 'Man Makers', 'Devil Press', 'Clean and Jerk'],
            'Dumbbell Man Makers': ['Burpee to Press', 'Thrusters', 'Devil Press', 'Dumbbell Complex'],
            'Dumbbell Man Makers (Fast Pace)': ['Burpees', 'Thrusters', 'Clean and Press', 'Squat to Press'],
            'Dumbbell Devil Press': ['Man Makers', 'Burpee to Press', 'Thrusters', 'Snatch'],
            'Dumbbell Squat Jumps': ['Box Jumps', 'Squat Jumps', 'Kettlebell Swings', 'Jump Lunges'],
            'Dumbbell Alternating Snatches': ['Kettlebell Swings', 'Single Arm Clean', 'High Pull', 'Dumbbell Swing'],
            'Dumbbell Snatches': ['Kettlebell Snatch', 'High Pull', 'Clean and Press', 'Swing to Overhead'],
            'Dumbbell Box Step-Ups': ['Lunges', 'Bulgarian Split Squat', 'Step-ups (bodyweight)', 'Single Leg Press'],
            
            // Barbell Complexes
            'Barbell Thrusters': ['Dumbbell Thrusters', 'Wall Balls', 'Push Press + Squat', 'Goblet Squat to Press'],
            'Barbell or Dumbbell Thrusters': ['Goblet Squat to Press', 'Wall Balls', 'Squat + Push Press', 'Kettlebell Thrusters'],
            'Barbell Clean and Press': ['Dumbbell Clean and Press', 'Kettlebell Clean and Press', 'Power Clean', 'Hang Clean'],
            'Barbell Complexes': ['Dumbbell Complex', 'Kettlebell Complex', 'Single Exercise', 'Circuit Training'],
            'Barbell High Pulls': ['Dumbbell High Pull', 'Upright Row', 'Kettlebell Swing', 'Power Clean'],
            
            // Medicine Ball / Sandbag
            'Medicine Ball Slams': ['Battle Ropes', 'Kettlebell Swings', 'Dumbbell Thrusters', 'Burpees'],
            'Sandbag or Dumbbell Carries': ['Farmer Carry', 'Suitcase Carry', 'Overhead Carry', 'Walking Lunges']
        };
        
        window.showSubstitutionModal = function(exerciseName) {
            const subs = findSubstitutions(exerciseName);
            
            if (subs.length === 0) {
                alert('No substitutions available for this exercise. Try a similar movement pattern!');
                return;
            }
            
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.5rem; color: var(--electric-yellow); margin-bottom: 0.5rem;"> Substitute Exercise</h3>
                    <p style="font-size: 0.9rem; opacity: 0.7; margin-bottom: 1.5rem;">Can't do <strong>${exerciseName}</strong>? Try one of these:</p>
                    
                    <div style="display: grid; gap: 0.75rem;">
                        ${subs.map(sub => `
                            <button onclick="applySubstitution('${exerciseName}', '${sub}')" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 1rem; border-radius: 8px; text-align: left; cursor: pointer; transition: all 0.2s;">
                                <div style="font-weight: 600;">${sub}</div>
                            </button>
                        `).join('')}
                    </div>
                    
                    <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="width: 100%; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.75rem; border-radius: 8px; margin-top: 1rem; cursor: pointer;">Keep Original</button>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        function findSubstitutions(exerciseName) {
            // Direct match first
            if (exerciseSubstitutions[exerciseName]) {
                return exerciseSubstitutions[exerciseName];
            }
            
            // Normalize the exercise name for matching
            const lowerName = exerciseName.toLowerCase().trim();
            
            // Try exact match with case insensitivity
            for (const [key, subs] of Object.entries(exerciseSubstitutions)) {
                if (key.toLowerCase() === lowerName) {
                    return subs;
                }
            }
            
            // Try partial match - check if key is contained in exercise name
            for (const [key, subs] of Object.entries(exerciseSubstitutions)) {
                const lowerKey = key.toLowerCase();
                if (lowerName.includes(lowerKey) || lowerKey.includes(lowerName)) {
                    return subs;
                }
            }
            
            // Try word-based matching - find exercises that share key words
            const nameWords = lowerName.split(/\s+/).filter(w => w.length > 2);
            for (const [key, subs] of Object.entries(exerciseSubstitutions)) {
                const keyWords = key.toLowerCase().split(/\s+/).filter(w => w.length > 2);
                const matchingWords = nameWords.filter(w => keyWords.some(kw => kw.includes(w) || w.includes(kw)));
                if (matchingWords.length >= 2) {
                    return subs;
                }
            }
            
            // Last resort - match by movement pattern keywords
            const movementPatterns = {
                'press': ['Push-ups', 'Dumbbell Press', 'Machine Press', 'Floor Press'],
                'squat': ['Goblet Squat', 'Leg Press', 'Lunges', 'Step-ups'],
                'row': ['Cable Row', 'Machine Row', 'Inverted Row', 'Resistance Band Row'],
                'curl': ['Hammer Curls', 'Cable Curls', 'Resistance Band Curls', 'Concentration Curls'],
                'lunge': ['Step-ups', 'Split Squat', 'Leg Press', 'Goblet Squat'],
                'deadlift': ['Romanian Deadlift', 'Good Mornings', 'Hip Hinge', 'Cable Pull-Through'],
                'swing': ['Hip Thrust', 'Cable Pull-Through', 'Broad Jump', 'Box Jump'],
                'clean': ['High Pull', 'Upright Row', 'Snatch', 'Power Clean'],
                'snatch': ['Clean and Press', 'High Pull', 'Kettlebell Swing', 'Overhead Press'],
                'thruster': ['Squat to Press', 'Wall Ball', 'Clean and Press', 'Push Press'],
                'burpee': ['Mountain Climbers', 'Squat Thrusts', 'Jump Squats', 'High Knees']
            };
            
            for (const [pattern, subs] of Object.entries(movementPatterns)) {
                if (lowerName.includes(pattern)) {
                    return subs;
                }
            }
            
            return [];
        }
        
        window.applySubstitution = function(original, replacement) {
            // Find and update the exercise in the DOM
            const exerciseCards = document.querySelectorAll('.exercise-card, [data-exercise]');
            exerciseCards.forEach(card => {
                const nameEl = card.querySelector('h4, .exercise-name');
                if (nameEl && nameEl.textContent.includes(original)) {
                    nameEl.innerHTML = `${replacement} <span style="font-size: 0.75rem; opacity: 0.7;">(substituted)</span>`;
                    card.style.borderColor = 'var(--vibrant-cyan)';
                }
            });
            
            // Close modal
            document.querySelector('div[style*="position: fixed"]').remove();
            
            showSuccessToast(`Swapped to ${replacement}`);
        };

        // 5. WORKOUT NOTES
        window.showWorkoutNotesModal = function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 500px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1rem;"> Workout Notes</h3>
                    
                    <textarea id="workoutNotesText" placeholder="How did the workout feel? Any exercises to adjust next time? Record weights used..." style="width: 100%; height: 150px; padding: 1rem; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem; resize: vertical;"></textarea>
                    
                    <div style="margin-top: 1rem;">
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">How was today's workout?</label>
                        <div style="display: flex; gap: 0.5rem;">
                            ${['', '', '', '', ''].map((emoji, i) => `
                                <button class="rating-btn" data-rating="${i + 1}" onclick="selectRating(${i + 1})" style="flex: 1; font-size: 1.5rem; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 8px; cursor: pointer; transition: all 0.2s;">${emoji}</button>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; margin-top: 1.5rem;">
                        <button onclick="saveWorkoutNotes()" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Save Notes</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        let selectedRating = 0;
        
        window.selectRating = function(rating) {
            selectedRating = rating;
            document.querySelectorAll('.rating-btn').forEach((btn, i) => {
                btn.style.borderColor = i < rating ? 'var(--electric-yellow)' : 'rgba(255, 255, 255, 0.2)';
                btn.style.background = i < rating ? 'rgba(255, 215, 0, 0.2)' : 'rgba(255, 255, 255, 0.05)';
            });
        };
        
        window.saveWorkoutNotes = async function() {
            const notes = document.getElementById('workoutNotesText').value.trim();
            
            if (currentWorkout && currentWorkout.workoutId) {
                try {
                    const workoutRef = doc(db, 'workouts', currentWorkout.workoutId);
                    await updateDoc(workoutRef, {
                        notes: notes,
                        rating: selectedRating
                    });
                    
                    document.querySelector('div[style*="position: fixed"]').remove();
                    showSuccessToast('Notes saved!');
                } catch (error) {
                    console.error('Error saving notes:', error);
                }
            } else {
                // Store temporarily for when workout is completed
                currentWorkout.pendingNotes = notes;
                currentWorkout.pendingRating = selectedRating;
                document.querySelector('div[style*="position: fixed"]').remove();
                showSuccessToast('Notes will be saved when you complete the workout');
            }
        };

        // 6. WARMUP/COOLDOWN CUSTOMIZATION
        window.showWarmupCustomization = function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem; overflow-y: auto;`;
            
            const warmupOptions = [
                { id: 'dynamic', name: 'Dynamic Stretching', duration: 5, desc: 'Movement-based warm-up' },
                { id: 'cardio', name: 'Light Cardio', duration: 5, desc: 'Jumping jacks, high knees' },
                { id: 'mobility', name: 'Mobility Work', duration: 7, desc: 'Joint circles, foam rolling' },
                { id: 'activation', name: 'Muscle Activation', duration: 5, desc: 'Glute bridges, band work' },
                { id: 'sport', name: 'Sport-Specific', duration: 5, desc: 'Mimics workout movements' }
            ];
            
            const cooldownOptions = [
                { id: 'static', name: 'Static Stretching', duration: 5, desc: 'Hold stretches 30-60s' },
                { id: 'foam', name: 'Foam Rolling', duration: 5, desc: 'Myofascial release' },
                { id: 'yoga', name: 'Yoga Flow', duration: 10, desc: 'Restorative poses' },
                { id: 'breathing', name: 'Breathing & Meditation', duration: 5, desc: 'Calm the nervous system' },
                { id: 'walk', name: 'Cool-Down Walk', duration: 5, desc: 'Gradual heart rate decrease' }
            ];
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1.5rem;"> Customize Warm-up & Cool-down</h3>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <h4 style="color: var(--vibrant-cyan); margin-bottom: 1rem;">Warm-up Style</h4>
                        <div style="display: grid; gap: 0.5rem;">
                            ${warmupOptions.map(opt => `
                                <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                    <input type="radio" name="warmupStyle" value="${opt.id}" ${workoutPreferences.warmupStyle === opt.id ? 'checked' : ''} style="margin-right: 0.75rem;">
                                    <div>
                                        <div style="font-weight: 600;">${opt.name}</div>
                                        <div style="font-size: 0.8rem; opacity: 0.7;">${opt.desc} (~${opt.duration} min)</div>
                                    </div>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <h4 style="color: var(--vibrant-cyan); margin-bottom: 1rem;">Cool-down Style</h4>
                        <div style="display: grid; gap: 0.5rem;">
                            ${cooldownOptions.map(opt => `
                                <label style="display: flex; align-items: center; padding: 0.75rem; background: rgba(255, 255, 255, 0.05); border-radius: 8px; cursor: pointer;">
                                    <input type="radio" name="cooldownStyle" value="${opt.id}" ${workoutPreferences.cooldownStyle === opt.id ? 'checked' : ''} style="margin-right: 0.75rem;">
                                    <div>
                                        <div style="font-weight: 600;">${opt.name}</div>
                                        <div style="font-size: 0.8rem; opacity: 0.7;">${opt.desc} (~${opt.duration} min)</div>
                                    </div>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="saveWarmupCooldownPrefs()" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Save Preferences</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        window.saveWarmupCooldownPrefs = async function() {
            const warmupStyle = document.querySelector('input[name="warmupStyle"]:checked')?.value || 'dynamic';
            const cooldownStyle = document.querySelector('input[name="cooldownStyle"]:checked')?.value || 'static';
            
            workoutPreferences.warmupStyle = warmupStyle;
            workoutPreferences.cooldownStyle = cooldownStyle;
            
            await savePreferences();
            
            document.querySelector('div[style*="position: fixed"]').remove();
            showSuccessToast('Preferences saved!');
        };

        // ==========================================
        // SOCIAL & MOTIVATION FEATURES
        // ==========================================

        // 1. PUSH NOTIFICATIONS FOR WORKOUT REMINDERS
        async function requestNotificationPermission() {
            if (!('Notification' in window)) {
                console.log('Notifications not supported');
                return false;
            }
            
            if (Notification.permission === 'granted') {
                return true;
            }
            
            if (Notification.permission !== 'denied') {
                const permission = await Notification.requestPermission();
                return permission === 'granted';
            }
            
            return false;
        }
        
        async function scheduleWorkoutReminder(hour = 9, minute = 0) {
            const hasPermission = await requestNotificationPermission();
            if (!hasPermission) return;
            
            // Store reminder preference
            if (currentUser) {
                const profileRef = doc(db, 'profiles', currentUser.id);
                await updateDoc(profileRef, {
                    reminderTime: { hour, minute },
                    remindersEnabled: true
                });
            }
            
            // Set up daily reminder check
            checkAndSendReminder(hour, minute);
        }
        
        function checkAndSendReminder(targetHour, targetMinute) {
            const now = new Date();
            const target = new Date();
            target.setHours(targetHour, targetMinute, 0, 0);
            
            // If target time has passed today, schedule for tomorrow
            if (now > target) {
                target.setDate(target.getDate() + 1);
            }
            
            const timeUntilReminder = target - now;
            
            setTimeout(() => {
                sendWorkoutReminder();
                // Schedule next day's reminder
                setTimeout(() => checkAndSendReminder(targetHour, targetMinute), 1000);
            }, timeUntilReminder);
        }
        
        function sendWorkoutReminder() {
            if (Notification.permission === 'granted') {
                const messages = [
                    " Time to crush your workout!",
                    " Your muscles are waiting! Let's go!",
                    " No excuses today - workout time!",
                    " Champions train daily. You ready?",
                    " Your future self will thank you!"
                ];
                
                const message = messages[Math.floor(Math.random() * messages.length)];
                
                new Notification('Camp Hope Workout', {
                    body: message,
                    icon: '',
                    badge: '',
                    tag: 'workout-reminder',
                    requireInteraction: true
                });
            }
        }
        
        window.showReminderSettings = function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1rem;"> Workout Reminders</h3>
                    
                    <p style="font-size: 0.9rem; opacity: 0.8; margin-bottom: 1.5rem;">Get a daily push notification to remind you to work out!</p>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Reminder Time</label>
                        <input type="time" id="reminderTime" value="09:00" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="enableReminders()" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Enable Reminders</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        window.enableReminders = async function() {
            const timeInput = document.getElementById('reminderTime').value;
            const [hour, minute] = timeInput.split(':').map(Number);
            
            const hasPermission = await requestNotificationPermission();
            
            if (hasPermission) {
                await scheduleWorkoutReminder(hour, minute);
                document.querySelector('div[style*="position: fixed"]').remove();
                showSuccessToast(`Reminders set for ${timeInput}!`);
            } else {
                alert('Please enable notifications in your browser settings to receive reminders.');
            }
        };

        // 2. ACHIEVEMENTS & BADGES SYSTEM
        const achievementDefinitions = {
            // Streak achievements
            'streak_3': { name: 'Getting Started', desc: '3-day workout streak', icon: '', category: 'streak' },
            'streak_7': { name: 'Week Warrior', desc: '7-day workout streak', icon: '', category: 'streak' },
            'streak_14': { name: 'Consistency King', desc: '14-day workout streak', icon: '', category: 'streak' },
            'streak_30': { name: 'Monthly Master', desc: '30-day workout streak', icon: '', category: 'streak' },
            'streak_100': { name: 'Centurion', desc: '100-day workout streak', icon: '', category: 'streak' },
            
            // Workout count achievements
            'workouts_10': { name: 'First Steps', desc: 'Complete 10 workouts', icon: '', category: 'volume' },
            'workouts_50': { name: 'Dedicated', desc: 'Complete 50 workouts', icon: '', category: 'volume' },
            'workouts_100': { name: 'Century Club', desc: 'Complete 100 workouts', icon: '', category: 'volume' },
            'workouts_500': { name: 'Iron Will', desc: 'Complete 500 workouts', icon: '', category: 'volume' },
            
            // Time achievements
            'minutes_1000': { name: 'Time Invested', desc: 'Train for 1,000 minutes', icon: '', category: 'time' },
            'minutes_5000': { name: 'Dedicated Athlete', desc: 'Train for 5,000 minutes', icon: '', category: 'time' },
            'minutes_10000': { name: 'Elite Status', desc: 'Train for 10,000 minutes', icon: '', category: 'time' },
            
            // Variety achievements
            'all_types': { name: 'Well Rounded', desc: 'Complete all workout types', icon: '', category: 'variety' },
            'early_bird': { name: 'Early Bird', desc: 'Complete 10 workouts before 7am', icon: '', category: 'variety' },
            'night_owl': { name: 'Night Owl', desc: 'Complete 10 workouts after 9pm', icon: '', category: 'variety' },
            'weekend_warrior': { name: 'Weekend Warrior', desc: 'Complete 20 weekend workouts', icon: '', category: 'variety' },
            
            // Social achievements
            'first_friend': { name: 'Social Butterfly', desc: 'Add your first friend', icon: '', category: 'social' },
            'friends_10': { name: 'Popular', desc: 'Have 10 friends', icon: '', category: 'social' },
            'kudos_given_50': { name: 'Cheerleader', desc: 'Give 50 kudos', icon: '', category: 'social' },
            'kudos_received_100': { name: 'Inspiration', desc: 'Receive 100 kudos', icon: '', category: 'social' },
            
            // PR achievements
            'first_pr': { name: 'Record Breaker', desc: 'Set your first PR', icon: '', category: 'strength' },
            'prs_10': { name: 'Stronger Every Day', desc: 'Set 10 personal records', icon: '', category: 'strength' },
            'prs_50': { name: 'Beast Mode', desc: 'Set 50 personal records', icon: '', category: 'strength' },
            
            // Challenge achievements
            'challenge_complete': { name: 'Challenger', desc: 'Complete your first challenge', icon: '', category: 'challenges' },
            'challenge_winner': { name: 'Champion', desc: 'Win a friend challenge', icon: '', category: 'challenges' }
        };
        
        async function checkAndAwardAchievements() {
            if (!currentUser) return;
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                const profileSnap = await getDoc(profileRef);
                
                let profile = profileSnap.exists() ? profileSnap.data() : {};
                let achievements = profile.achievements || [];
                let stats = profile.stats || {};
                
                const newAchievements = [];
                
                // Check streak achievements
                const streak = stats.currentStreak || 0;
                if (streak >= 3 && !achievements.includes('streak_3')) newAchievements.push('streak_3');
                if (streak >= 7 && !achievements.includes('streak_7')) newAchievements.push('streak_7');
                if (streak >= 14 && !achievements.includes('streak_14')) newAchievements.push('streak_14');
                if (streak >= 30 && !achievements.includes('streak_30')) newAchievements.push('streak_30');
                if (streak >= 100 && !achievements.includes('streak_100')) newAchievements.push('streak_100');
                
                // Check workout count achievements
                const totalWorkouts = stats.totalWorkouts || 0;
                if (totalWorkouts >= 10 && !achievements.includes('workouts_10')) newAchievements.push('workouts_10');
                if (totalWorkouts >= 50 && !achievements.includes('workouts_50')) newAchievements.push('workouts_50');
                if (totalWorkouts >= 100 && !achievements.includes('workouts_100')) newAchievements.push('workouts_100');
                if (totalWorkouts >= 500 && !achievements.includes('workouts_500')) newAchievements.push('workouts_500');
                
                // Check time achievements
                const totalMinutes = stats.totalMinutes || 0;
                if (totalMinutes >= 1000 && !achievements.includes('minutes_1000')) newAchievements.push('minutes_1000');
                if (totalMinutes >= 5000 && !achievements.includes('minutes_5000')) newAchievements.push('minutes_5000');
                if (totalMinutes >= 10000 && !achievements.includes('minutes_10000')) newAchievements.push('minutes_10000');
                
                // Check social achievements
                const friends = profile.friends || [];
                if (friends.length >= 1 && !achievements.includes('first_friend')) newAchievements.push('first_friend');
                if (friends.length >= 10 && !achievements.includes('friends_10')) newAchievements.push('friends_10');
                
                // Check PR achievements
                const prCount = Object.keys(profile.strengthRecords || {}).length;
                if (prCount >= 1 && !achievements.includes('first_pr')) newAchievements.push('first_pr');
                if (prCount >= 10 && !achievements.includes('prs_10')) newAchievements.push('prs_10');
                if (prCount >= 50 && !achievements.includes('prs_50')) newAchievements.push('prs_50');
                
                // Award new achievements
                if (newAchievements.length > 0) {
                    achievements = [...achievements, ...newAchievements];
                    await updateDoc(profileRef, { achievements });
                    
                    // Show celebration for each new achievement
                    for (const achievementId of newAchievements) {
                        await showAchievementUnlock(achievementId);
                    }
                }
                
            } catch (error) {
                console.error('Error checking achievements:', error);
            }
        }
        
        function showAchievementUnlock(achievementId) {
            return new Promise((resolve) => {
                const achievement = achievementDefinitions[achievementId];
                if (!achievement) { resolve(); return; }
                
                const celebration = document.createElement('div');
                celebration.style.cssText = `
                    position: fixed; top: 0; left: 0; right: 0; bottom: 0; 
                    background: rgba(0, 0, 0, 0.9); z-index: 2000; 
                    display: flex; align-items: center; justify-content: center;
                    animation: fadeIn 0.3s ease;
                `;
                
                celebration.innerHTML = `
                    <div style="text-align: center; animation: scaleIn 0.5s ease;">
                        <div style="font-size: 6rem; animation: bounce 0.6s ease infinite;">${achievement.icon}</div>
                        <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2rem; color: var(--electric-yellow); margin: 1rem 0;">ACHIEVEMENT UNLOCKED!</h2>
                        <div style="font-size: 1.5rem; font-weight: 700; margin-bottom: 0.5rem;">${achievement.name}</div>
                        <div style="font-size: 1rem; opacity: 0.8;">${achievement.desc}</div>
                    </div>
                `;
                
                document.body.appendChild(celebration);
                
                // Auto-close after 3 seconds
                setTimeout(() => {
                    celebration.remove();
                    resolve();
                }, 3000);
                
                celebration.addEventListener('click', () => {
                    celebration.remove();
                    resolve();
                });
            });
        }
        
        async function displayAchievements() {
            const container = document.getElementById('achievementsContainer');
            
            let userAchievements = [];
            let stats = {};
            
            try {
                const profileRef = doc(db, 'profiles', currentUser.id);
                const profileSnap = await getDoc(profileRef);
                
                if (profileSnap.exists()) {
                    userAchievements = profileSnap.data().achievements || [];
                    stats = profileSnap.data().stats || {};
                }
            } catch (error) {
                console.error('Error loading achievements:', error);
            }
            
            const categories = {
                'streak': ' Streak Achievements',
                'volume': ' Workout Volume',
                'time': ' Time Invested',
                'variety': ' Variety',
                'social': ' Social',
                'strength': ' Strength',
                'challenges': ' Challenges'
            };
            
            const earnedCount = userAchievements.length;
            const totalCount = Object.keys(achievementDefinitions).length;
            
            container.innerHTML = `
                <div style="max-width: 700px; margin: 0 auto; padding: 1rem;">
                    <h2 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2.5rem; color: var(--electric-yellow); text-align: center; margin-bottom: 1.5rem;">
                         Achievements
                    </h2>
                    
                    <!-- Progress Banner -->
                    <div style="background: linear-gradient(135deg, var(--slate), #2a2a3e); border-radius: 16px; padding: 1.5rem; margin-bottom: 1.5rem; border: 1px solid rgba(255, 215, 0, 0.3);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <span style="font-size: 1.1rem; font-weight: 700;">Your Progress</span>
                            <span style="color: var(--electric-yellow); font-weight: 700;">${earnedCount} / ${totalCount}</span>
                        </div>
                        <div style="background: rgba(255, 255, 255, 0.1); border-radius: 10px; height: 12px; overflow: hidden;">
                            <div style="background: linear-gradient(90deg, var(--energy-orange), var(--electric-yellow)); height: 100%; width: ${(earnedCount / totalCount) * 100}%; border-radius: 10px; transition: width 0.5s;"></div>
                        </div>
                    </div>
                    
                    <!-- Achievement Categories -->
                    ${Object.entries(categories).map(([catKey, catName]) => {
                        const catAchievements = Object.entries(achievementDefinitions).filter(([_, a]) => a.category === catKey);
                        if (catAchievements.length === 0) return '';
                        
                        return `
                            <div style="margin-bottom: 1.5rem;">
                                <h3 style="font-size: 1.1rem; color: var(--vibrant-cyan); margin-bottom: 1rem; border-bottom: 1px solid rgba(255, 255, 255, 0.1); padding-bottom: 0.5rem;">${catName}</h3>
                                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.75rem;">
                                    ${catAchievements.map(([id, ach]) => {
                                        const earned = userAchievements.includes(id);
                                        return `
                                            <div style="background: ${earned ? 'rgba(255, 215, 0, 0.1)' : 'rgba(255, 255, 255, 0.03)'}; border: 1px solid ${earned ? 'rgba(255, 215, 0, 0.5)' : 'rgba(255, 255, 255, 0.1)'}; border-radius: 12px; padding: 1rem; text-align: center; opacity: ${earned ? 1 : 0.5};">
                                                <div style="font-size: 2rem; ${earned ? '' : 'filter: grayscale(1);'}">${ach.icon}</div>
                                                <div style="font-weight: 700; font-size: 0.85rem; margin: 0.5rem 0;">${ach.name}</div>
                                                <div style="font-size: 0.75rem; opacity: 0.7;">${ach.desc}</div>
                                                ${earned ? '<div style="color: var(--electric-yellow); font-size: 0.7rem; margin-top: 0.5rem;"> Earned</div>' : ''}
                                            </div>
                                        `;
                                    }).join('')}
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        // 3. WEEKLY PROGRESS SUMMARY
        async function generateWeeklyProgress() {
            if (!currentUser) return null;
            
            const now = new Date();
            const weekStart = new Date(now);
            weekStart.setDate(now.getDate() - now.getDay());
            weekStart.setHours(0, 0, 0, 0);
            
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            weekEnd.setHours(23, 59, 59, 999);
            
            try {
                const workoutsRef = collection(db, 'workouts');
                const q = query(
                    workoutsRef,
                    where('userId', '==', currentUser.id),
                    where('completedAt', '>=', Timestamp.fromDate(weekStart)),
                    where('completedAt', '<=', Timestamp.fromDate(weekEnd))
                );
                
                const snapshot = await getDocs(q);
                
                let workoutCount = 0;
                let totalMinutes = 0;
                let workoutTypes = {};
                let bestDay = null;
                let kudosReceived = 0;
                
                snapshot.forEach(doc => {
                    const data = doc.data();
                    workoutCount++;
                    totalMinutes += data.duration || 0;
                    workoutTypes[data.workoutType] = (workoutTypes[data.workoutType] || 0) + 1;
                    kudosReceived += data.kudosCount || 0;
                });
                
                // Get previous week for comparison
                const prevWeekStart = new Date(weekStart);
                prevWeekStart.setDate(prevWeekStart.getDate() - 7);
                const prevWeekEnd = new Date(weekEnd);
                prevWeekEnd.setDate(prevWeekEnd.getDate() - 7);
                
                const prevQ = query(
                    workoutsRef,
                    where('userId', '==', currentUser.id),
                    where('completedAt', '>=', Timestamp.fromDate(prevWeekStart)),
                    where('completedAt', '<=', Timestamp.fromDate(prevWeekEnd))
                );
                
                const prevSnapshot = await getDocs(prevQ);
                const prevWorkoutCount = prevSnapshot.size;
                
                return {
                    workoutCount,
                    totalMinutes,
                    workoutTypes,
                    kudosReceived,
                    prevWorkoutCount,
                    improvement: workoutCount - prevWorkoutCount,
                    weekStart,
                    weekEnd
                };
            } catch (error) {
                console.error('Error generating weekly progress:', error);
                return null;
            }
        }
        
        window.showWeeklyProgress = async function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem; overflow-y: auto;`;
            
            modal.innerHTML = `<div class="loading"><div class="loading-spinner"></div></div>`;
            document.body.appendChild(modal);
            
            const progress = await generateWeeklyProgress();
            
            if (!progress) {
                modal.innerHTML = `
                    <div style="background: var(--slate); border-radius: 16px; padding: 2rem; text-align: center;">
                        <p>Unable to load weekly progress</p>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="margin-top: 1rem; background: var(--energy-orange); color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 8px; cursor: pointer;">Close</button>
                    </div>
                `;
                return;
            }
            
            const improvementEmoji = progress.improvement > 0 ? '' : progress.improvement < 0 ? '' : '';
            const improvementColor = progress.improvement > 0 ? '#4CAF50' : progress.improvement < 0 ? '#FF6B35' : 'white';
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 500px; width: 100%; max-height: 90vh; overflow-y: auto;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 2rem; color: var(--electric-yellow); text-align: center; margin-bottom: 1.5rem;"> Weekly Progress</h3>
                    
                    <!-- Main Stats -->
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="background: rgba(255, 107, 53, 0.1); border: 1px solid var(--energy-orange); border-radius: 12px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2.5rem; font-weight: 700; color: var(--energy-orange);">${progress.workoutCount}</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">Workouts</div>
                        </div>
                        <div style="background: rgba(0, 217, 255, 0.1); border: 1px solid var(--vibrant-cyan); border-radius: 12px; padding: 1rem; text-align: center;">
                            <div style="font-size: 2.5rem; font-weight: 700; color: var(--vibrant-cyan);">${progress.totalMinutes}</div>
                            <div style="font-size: 0.85rem; opacity: 0.8;">Minutes</div>
                        </div>
                    </div>
                    
                    <!-- Comparison -->
                    <div style="background: rgba(255, 255, 255, 0.05); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem; text-align: center;">
                        <div style="font-size: 1.5rem;">${improvementEmoji}</div>
                        <div style="color: ${improvementColor}; font-weight: 700; font-size: 1.1rem;">
                            ${progress.improvement > 0 ? `+${progress.improvement} more` : progress.improvement < 0 ? `${progress.improvement} fewer` : 'Same as'} 
                            workouts vs last week
                        </div>
                        <div style="font-size: 0.85rem; opacity: 0.7; margin-top: 0.25rem;">(${progress.prevWorkoutCount} workouts last week)</div>
                    </div>
                    
                    <!-- Workout Types -->
                    <div style="margin-bottom: 1.5rem;">
                        <h4 style="font-size: 1rem; margin-bottom: 0.75rem; color: var(--vibrant-cyan);">Workout Breakdown</h4>
                        <div style="display: grid; gap: 0.5rem;">
                            ${Object.entries(progress.workoutTypes).map(([type, count]) => {
                                const emoji = type === 'HIIT' ? '' : type === 'Strength' ? '' : type === 'Cross Training' ? '' : '';
                                return `
                                    <div style="display: flex; justify-content: space-between; background: rgba(255, 255, 255, 0.05); padding: 0.75rem; border-radius: 8px;">
                                        <span>${emoji} ${type}</span>
                                        <span style="font-weight: 700;">${count}</span>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                    
                    <!-- Kudos -->
                    <div style="background: rgba(247, 201, 72, 0.1); border: 1px solid var(--electric-yellow); border-radius: 12px; padding: 1rem; text-align: center; margin-bottom: 1.5rem;">
                        <div style="font-size: 1.5rem;"></div>
                        <div style="font-weight: 700;">${progress.kudosReceived} kudos received this week</div>
                    </div>
                    
                    <!-- Share Button -->
                    <button onclick="shareWeeklyProgress(${progress.workoutCount}, ${progress.totalMinutes})" style="width: 100%; background: linear-gradient(135deg, #4CAF50, #45a049); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer; margin-bottom: 0.75rem;">
                         Share Progress
                    </button>
                    
                    <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="width: 100%; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.75rem; border-radius: 8px; cursor: pointer;">Close</button>
                </div>
            `;
            
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        window.shareWeeklyProgress = function(workouts, minutes) {
            const text = ` My Camp Hope week: ${workouts} workouts, ${minutes} minutes!  #CampHope #FitnessJourney`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Weekly Progress',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text);
                showSuccessToast('Copied to clipboard!');
            }
        };

        // 4. FRIEND CHALLENGES
        async function createChallenge(friendId, challengeType, duration) {
            if (!currentUser) return;
            
            const challenge = {
                creatorId: currentUser.id,
                creatorName: currentUser.displayName,
                challengedId: friendId,
                type: challengeType, // 'workouts', 'minutes', 'streak'
                duration: duration, // days
                startDate: Timestamp.now(),
                endDate: Timestamp.fromDate(new Date(Date.now() + duration * 24 * 60 * 60 * 1000)),
                status: 'pending',
                creatorProgress: 0,
                challengedProgress: 0,
                createdAt: Timestamp.now()
            };
            
            try {
                const challengeRef = doc(collection(db, 'challenges'));
                await setDoc(challengeRef, challenge);
                
                // Create notification for challenged user
                await createNotification(friendId, 'challenge', `${currentUser.displayName} challenged you!`, challengeRef.id);
                
                showSuccessToast('Challenge sent!');
                return challengeRef.id;
            } catch (error) {
                console.error('Error creating challenge:', error);
                return null;
            }
        }
        
        window.showChallengeModal = function(friendId, friendName) {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 0.5rem;"> Challenge ${friendName}</h3>
                    <p style="font-size: 0.9rem; opacity: 0.7; margin-bottom: 1.5rem;">Compete to see who can achieve more!</p>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Challenge Type</label>
                        <select id="challengeType" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                            <option value="workouts">Most Workouts</option>
                            <option value="minutes">Most Minutes</option>
                            <option value="streak">Longest Streak</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <label style="display: block; font-size: 0.9rem; margin-bottom: 0.5rem; opacity: 0.8;">Duration</label>
                        <select id="challengeDuration" style="width: 100%; padding: 0.75rem; background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 8px; color: white; font-size: 1rem;">
                            <option value="7">1 Week</option>
                            <option value="14">2 Weeks</option>
                            <option value="30">1 Month</option>
                        </select>
                    </div>
                    
                    <div style="display: flex; gap: 1rem;">
                        <button onclick="sendChallenge('${friendId}')" style="flex: 1; background: linear-gradient(135deg, var(--energy-orange), #FF8C42); color: white; border: none; padding: 1rem; border-radius: 8px; font-weight: 700; cursor: pointer;">Send Challenge</button>
                        <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="flex: 0.5; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };
        
        window.sendChallenge = async function(friendId) {
            const type = document.getElementById('challengeType').value;
            const duration = parseInt(document.getElementById('challengeDuration').value);
            
            await createChallenge(friendId, type, duration);
            document.querySelector('div[style*="position: fixed"]').remove();
        };
        
        async function displayActiveChallenges() {
            if (!currentUser) return '';
            
            try {
                const challengesRef = collection(db, 'challenges');
                
                // Get challenges where user is creator or challenged
                const creatorQ = query(challengesRef, where('creatorId', '==', currentUser.id), where('status', '==', 'active'));
                const challengedQ = query(challengesRef, where('challengedId', '==', currentUser.id), where('status', '==', 'active'));
                
                const [creatorSnap, challengedSnap] = await Promise.all([getDocs(creatorQ), getDocs(challengedQ)]);
                
                const challenges = [];
                creatorSnap.forEach(doc => challenges.push({ id: doc.id, ...doc.data(), isCreator: true }));
                challengedSnap.forEach(doc => challenges.push({ id: doc.id, ...doc.data(), isCreator: false }));
                
                if (challenges.length === 0) return '';
                
                return `
                    <div style="background: rgba(255, 107, 53, 0.1); border: 1px solid var(--energy-orange); border-radius: 12px; padding: 1rem; margin-bottom: 1rem;">
                        <h4 style="color: var(--energy-orange); margin-bottom: 0.75rem;"> Active Challenges</h4>
                        ${challenges.map(c => {
                            const opponent = c.isCreator ? c.challengedId : c.creatorId;
                            const myProgress = c.isCreator ? c.creatorProgress : c.challengedProgress;
                            const theirProgress = c.isCreator ? c.challengedProgress : c.creatorProgress;
                            const daysLeft = Math.ceil((c.endDate.toDate() - new Date()) / (1000 * 60 * 60 * 24));
                            
                            return `
                                <div style="background: rgba(255, 255, 255, 0.05); padding: 0.75rem; border-radius: 8px; margin-bottom: 0.5rem;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                        <span style="font-weight: 600;">${c.type === 'workouts' ? ' Most Workouts' : c.type === 'minutes' ? ' Most Minutes' : ' Longest Streak'}</span>
                                        <span style="font-size: 0.85rem; opacity: 0.7;">${daysLeft} days left</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 0.9rem;">
                                        <span>You: <strong style="color: var(--vibrant-cyan);">${myProgress}</strong></span>
                                        <span>vs</span>
                                        <span>Them: <strong style="color: var(--energy-orange);">${theirProgress}</strong></span>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
            } catch (error) {
                console.error('Error loading challenges:', error);
                return '';
            }
        }

        // 5. SHARE WORKOUT TO SOCIAL MEDIA
        window.shareWorkoutToSocial = function(platform) {
            if (!currentWorkout) return;
            
            const text = `Just completed a ${currentWorkout.workoutType} workout at Camp Hope!  ${currentWorkout.totalTime} minutes of gains! #CampHope #Fitness`;
            const url = window.location.href;
            
            let shareUrl;
            
            switch (platform) {
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                    break;
                case 'facebook':
                    shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
                    break;
                case 'instagram':
                    // Instagram doesn't support direct sharing, copy to clipboard
                    navigator.clipboard.writeText(text);
                    showSuccessToast('Copied! Paste in Instagram');
                    return;
                default:
                    if (navigator.share) {
                        navigator.share({ title: 'My Workout', text, url });
                        return;
                    }
            }
            
            if (shareUrl) {
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
        };
        
        window.showShareModal = function() {
            const modal = document.createElement('div');
            modal.style.cssText = `position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.8); z-index: 1000; display: flex; align-items: center; justify-content: center; padding: 1rem;`;
            
            modal.innerHTML = `
                <div style="background: var(--slate); border-radius: 16px; padding: 2rem; max-width: 400px; width: 100%; text-align: center;">
                    <h3 style="font-family: 'Clash Grotesk', sans-serif; font-size: 1.75rem; color: var(--electric-yellow); margin-bottom: 1.5rem;"> Share Your Workout</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <button onclick="shareWorkoutToSocial('twitter')" style="background: #1DA1F2; color: white; border: none; padding: 1rem; border-radius: 12px; font-weight: 700; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;"></span>
                            <span>Twitter/X</span>
                        </button>
                        <button onclick="shareWorkoutToSocial('facebook')" style="background: #4267B2; color: white; border: none; padding: 1rem; border-radius: 12px; font-weight: 700; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;">f</span>
                            <span>Facebook</span>
                        </button>
                        <button onclick="shareWorkoutToSocial('instagram')" style="background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888); color: white; border: none; padding: 1rem; border-radius: 12px; font-weight: 700; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;"></span>
                            <span>Instagram</span>
                        </button>
                        <button onclick="shareWorkoutToSocial('native')" style="background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 1rem; border-radius: 12px; font-weight: 700; cursor: pointer; display: flex; flex-direction: column; align-items: center; gap: 0.5rem;">
                            <span style="font-size: 1.5rem;"></span>
                            <span>More...</span>
                        </button>
                    </div>
                    
                    <button onclick="this.closest('div[style*=\"position: fixed\"]').remove()" style="width: 100%; background: rgba(255, 255, 255, 0.1); color: white; border: 1px solid rgba(255, 255, 255, 0.3); padding: 0.75rem; border-radius: 8px; cursor: pointer;">Cancel</button>
                </div>
            `;
            
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        };

        // Button handlers for new features
        document.getElementById('viewCalendarBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            
            // Hide other containers
            ['workoutContainer', 'statsContainer', 'socialContainer', 'profileContainer', 'leaderboardContainer', 'prsContainer', 'achievementsContainer'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            
            const container = document.getElementById('calendarContainer');
            container.classList.remove('hidden');
            container.innerHTML = '<div class="loading"><div class="loading-spinner"></div><p>Loading calendar...</p></div>';
            
            displayWorkoutCalendar();
        });
        
        document.getElementById('viewPRsBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            
            // Hide other containers
            ['workoutContainer', 'statsContainer', 'socialContainer', 'profileContainer', 'leaderboardContainer', 'calendarContainer', 'achievementsContainer'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            
            const container = document.getElementById('prsContainer');
            container.classList.remove('hidden');
            container.innerHTML = '<div class="loading"><div class="loading-spinner"></div><p>Loading PRs...</p></div>';
            
            displayPRsDashboard();
        });
        
        document.getElementById('viewAchievementsBtn').addEventListener('click', function() {
            if (!currentUser) {
                showProfileSetup();
                return;
            }
            
            // Hide other containers
            ['workoutContainer', 'statsContainer', 'socialContainer', 'profileContainer', 'leaderboardContainer', 'calendarContainer', 'prsContainer'].forEach(id => {
                document.getElementById(id).classList.add('hidden');
            });
            
            const container = document.getElementById('achievementsContainer');
            container.classList.remove('hidden');
            container.innerHTML = '<div class="loading"><div class="loading-spinner"></div><p>Loading achievements...</p></div>';
            
            displayAchievements();
        });

        // Auto-initialize on page load
        window.addEventListener('load', async function() {
            await initializeUser();
            await loadPreferences();
            
            if (currentUser) {
                // Show user profile badge
                document.getElementById('userProfileBadge').style.display = 'block';
                document.getElementById('displayNameSpan').textContent = currentUser.displayName;
                document.getElementById('usernameSpan').textContent = currentUser.username;
                
                // Auto-generate workout
                setTimeout(() => {
                    document.getElementById('generateBtn').click();
                }, 500);
            }
        });
    </script>
</body>
</html>
